# å‡½æ•°ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘

## å‡½æ•°çš„å®šä¹‰ä¸è°ƒç”¨
### å‡½æ•°çš„å®šä¹‰
#### å‡½æ•°å£°æ˜
```js
// å‡½æ•°å£°æ˜å¼
function sum(num1, num2) {
   return num1 + num2;
}
```

#### å‡½æ•°è¡¨è¾¾å¼
```js
// å‡½æ•°è¡¨è¾¾å¼
var sum = function (num1, num2) {
   return num1 + num2;
};
```
è¿™ä¸ªå‡½æ•°è¡¨è¾¾å¼æ²¡æœ‰åç§°ï¼Œå±äºåŒ¿åå‡½æ•°è¡¨è¾¾å¼ã€‚
ä½¿ç”¨å‡½æ•°å£°æ˜å’ŒåŒ¿åå‡½æ•°è¡¨è¾¾å¼å®šä¹‰çš„å‡½æ•°ï¼Œåœ¨è¿›è¡Œå‡½æ•°è°ƒç”¨æ—¶ï¼Œéƒ½åªéœ€è¦ä½¿ç”¨å‡½æ•°åï¼Œä¼ å…¥å¯¹åº”çš„å®é™…å‚æ•°ï¼ˆåæ–‡ç®€ç§°ä¸ºå®å‚ï¼‰å³å¯ï¼Œç¤ºä¾‹å¦‚ä¸‹ã€‚
```js
console.log(sum(1, 3)); // 4
```
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‡½æ•°è¡¨è¾¾å¼ä¹Ÿå¯ä»¥å®šä¹‰å…·æœ‰åç§°çš„å‡½æ•°ï¼Œå‡½æ•°åç§°å³è·Ÿåœ¨functionå…³é”®å­—åçš„å€¼ã€‚
```js
// å…·æœ‰å‡½æ•°åçš„å‡½æ•°è¡¨è¾¾å¼
var sum = function foo(num1, num2) {
   return num1 + num2;
};
```
å…¶ä¸­fooæ˜¯å‡½æ•°åç§°ï¼Œå®ƒå®é™…æ˜¯**å‡½æ•°å†…éƒ¨çš„ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œåœ¨å‡½æ•°å¤–éƒ¨æ˜¯æ— æ³•ç›´æ¥è°ƒç”¨**çš„ï¼Œç¤ºä¾‹å¦‚ä¸‹ã€‚
```js
console.log(foo(1, 3)); // ReferenceError: foo is not defined
```

#### Function()æ„é€ å‡½æ•°
ä½¿ç”¨newæ“ä½œç¬¦ï¼Œè°ƒç”¨Functionæ„é€ å‡½æ•°ï¼Œä¼ å…¥å¯¹åº”çš„å‚æ•°ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚
```js
// å…¶ä¸­çš„å‚æ•°ï¼Œé™¤äº†æœ€åä¸€ä¸ªå‚æ•°æ˜¯æ‰§è¡Œçš„å‡½æ•°ä½“ï¼Œå…¶ä»–å‚æ•°éƒ½æ˜¯å‡½æ•°çš„å½¢å‚ã€‚
var add = new Function("a", "b", "return a + b");
```

> ç›¸æ¯”äºå‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼è¿™ä¸¤ç§æ–¹å¼ï¼ŒFunction()æ„é€ å‡½æ•°çš„ä½¿ç”¨æ¯”è¾ƒå°‘ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸå› ã€‚
> - ç¬¬ä¸€ä¸ªåŸå› æ˜¯Function()æ„é€ å‡½æ•°æ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œéƒ½ä¼šè§£æå‡½æ•°ä¸»ä½“ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°å¯¹è±¡ï¼Œæ‰€ä»¥å½“åœ¨ä¸€ä¸ªå¾ªç¯æˆ–è€…é¢‘ç¹æ‰§è¡Œçš„å‡½æ•°ä¸­è°ƒç”¨Function()æ„é€ å‡½æ•°æ—¶ï¼Œæ•ˆç‡æ˜¯éå¸¸ä½çš„ã€‚
> - ç¬¬äºŒä¸ªåŸå› æ˜¯ä½¿ç”¨Function()æ„é€ å‡½æ•°åˆ›å»ºçš„å‡½æ•°ï¼Œå¹¶ä¸éµå¾ªå…¸å‹çš„ä½œç”¨åŸŸï¼Œå®ƒå°†ä¸€ç›´**ä½œä¸ºé¡¶çº§å‡½æ•°æ‰§è¡Œ**ã€‚æ‰€ä»¥åœ¨ä¸€ä¸ªå‡½æ•°Aå†…éƒ¨è°ƒç”¨Function()æ„é€ å‡½æ•°æ—¶ï¼Œå…¶ä¸­çš„å‡½æ•°ä½“å¹¶**ä¸èƒ½è®¿é—®åˆ°å‡½æ•°Aä¸­çš„å±€éƒ¨å˜é‡ï¼Œè€Œåªèƒ½è®¿é—®åˆ°å…¨å±€å˜é‡**ã€‚

```js
var y = 'global'; // å…¨å±€å˜é‡
function constructFunction() {
  var y = 'local'; // å±€éƒ¨å˜é‡
  return new Function('return y'); // æ— æ³•è·å–å±€éƒ¨å˜é‡çš„å€¼
}
console.log(constructFunction()()); // global
```

#### å‡½æ•°è¡¨è¾¾å¼çš„åº”ç”¨åœºæ™¯
##### å‡½æ•°é€’å½’
é€šè¿‡å‡½æ•°è¡¨è¾¾å¼å¯ä»¥å®šä¹‰å…·æœ‰åç§°çš„å‡½æ•°ï¼Œå®ƒä½œä¸ºå‡½æ•°å†…éƒ¨çš„ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼ŒæŒ‡å‘å‡½æ•°è‡ªèº«ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹å¾ˆå¥½å®ç°é€’å½’çš„åŠŸèƒ½ã€‚
```js
// æ–æ³¢é‚£å¥‘æ•°åˆ—é—®é¢˜
// é€šè¿‡å‡½æ•°å£°æ˜å®ç°
function fibonacci(num) {
  if (num === 1 || number === 2) {
    return 1;
  }
  return fibonacci(num - 2) + fibonacci(number - 1);
}
// é€šè¿‡å‡½æ•°è¡¨è¾¾å¼å®ç°
var fibonacci = function(num) {
  if (num === 1 || number === 2) {
    return 1;
  }
  return fibonacci(num - 2) + fibonacci(number - 1);
}
```

##### ä»£ç æ¨¡å—åŒ–
åœ¨ES6ä»¥å‰ï¼ŒJavaScriptä¸­æ˜¯æ²¡æœ‰**å—çº§ä½œç”¨åŸŸ**çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°è¡¨è¾¾å¼æ¥é—´æ¥åœ°å®ç°æ¨¡å—åŒ–ï¼Œå°†ç‰¹å®šçš„æ¨¡å—ä»£ç å°è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œåªå¯¹å¤–æš´éœ²æ¥å£ï¼Œä½¿ç”¨è€…ä¹Ÿä¸ç”¨å…³å¿ƒå…·ä½“ç»†èŠ‚ï¼Œè¿™æ ·åšå¯ä»¥å¾ˆå¥½åœ°é¿å…å…¨å±€ç¯å¢ƒçš„æ±¡æŸ“ã€‚
```js
// ç«‹å³æ‰§è¡Œçš„åŒ¿åå‡½æ•°è¡¨è¾¾å¼
var person = (function() {
  var _name = "";
  return {
    getName: function() {
      return _name;
    },
    setName: function(newName) {
      _name = newName;
    }
  };
}());
person.setName('ming');
person.getName();
```
è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåªéœ€è¦è°ƒç”¨getName()å‡½æ•°å’ŒsetName()å‡½æ•°ï¼Œè€Œä¸ç”¨å…³å¿ƒpersonç§æœ‰çš„_nameå±æ€§ã€‚

#### å‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼çš„åŒºåˆ«
> JavaScriptè§£é‡Šå™¨åœ¨å¤„ç†ä¸¤è€…æ—¶å´ä¸ä¸€æ ·

##### å‡½æ•°åç§°
- åœ¨ä½¿ç”¨å‡½æ•°å£°æ˜æ—¶ï¼Œæ˜¯å¿…é¡»è®¾ç½®å‡½æ•°åç§°çš„ï¼Œè¿™ä¸ªå‡½æ•°åç§°**ç›¸å½“äºä¸€ä¸ªå˜é‡**ï¼Œä»¥åå‡½æ•°çš„è°ƒç”¨ä¹Ÿä¼šé€šè¿‡è¿™ä¸ªå˜é‡è¿›è¡Œã€‚

- è€Œå¯¹äºå‡½æ•°è¡¨è¾¾å¼æ¥è¯´ï¼Œ**å‡½æ•°åç§°æ˜¯å¯é€‰çš„**ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªåŒ¿åå‡½æ•°è¡¨è¾¾å¼ï¼Œå¹¶èµ‹ç»™ä¸€ä¸ªå˜é‡ï¼Œç„¶åé€šè¿‡è¿™ä¸ªå˜é‡è¿›è¡Œå‡½æ•°çš„è°ƒç”¨ã€‚

```js
// å‡½æ•°å£°æ˜ï¼Œå‡½æ•°åç§°sumå¿…é¡»è®¾ç½®
function sum(num1, num2) {
  return num1 + num2;
}
// æ²¡æœ‰å‡½æ•°åç§°çš„åŒ¿åå‡½æ•°è¡¨è¾¾å¼
var sum = function(num1, num2) {
  return num1 + num2;
}
// å…·åå‡½æ•°åçš„å‡½æ•°è¡¨è¾¾å¼ï¼Œå…¶ä¸­fooä¸ºå‡½æ•°åç§°
var sum = function foo(num1, num2) {
  return num1 + num2;
}
```
##### å‡½æ•°æå‡
- å¯¹äº**å‡½æ•°å£°æ˜ï¼Œå­˜åœ¨å‡½æ•°æå‡**ï¼Œæ‰€ä»¥å³ä½¿å‡½æ•°çš„è°ƒç”¨åœ¨å‡½æ•°çš„å£°æ˜ä¹‹å‰ï¼Œä»ç„¶å¯ä»¥æ­£å¸¸æ‰§è¡Œã€‚
- å¯¹äº**å‡½æ•°è¡¨è¾¾å¼ï¼Œä¸å­˜åœ¨å‡½æ•°æå‡**ï¼Œæ‰€ä»¥åœ¨å‡½æ•°å®šä¹‰ä¹‹å‰ï¼Œä¸èƒ½å¯¹å…¶è¿›è¡Œè°ƒç”¨ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
```js
console.log(add(1, 2)); // 3
console.log(sub(5, 3)); // Uncaught TypeError: sub is not a function
// å‡½æ•°å£°æ˜
function add(a1, a2) {
  return a1 + a2;
}
// å‡½æ•°è¡¨è¾¾å¼
var sub = function(a1, a2) {
  return a1 - a2;
}
``` 

### å‡½æ•°çš„è°ƒç”¨
#### å‡½æ•°è°ƒç”¨æ¨¡å¼
å‡½æ•°è°ƒç”¨æ¨¡å¼æ˜¯é€šè¿‡å‡½æ•°å£°æ˜æˆ–è€…å‡½æ•°è¡¨è¾¾å¼çš„æ–¹å¼å®šä¹‰å‡½æ•°ï¼Œç„¶åç›´æ¥é€šè¿‡å‡½æ•°åè°ƒç”¨çš„æ¨¡å¼ã€‚
```js
// å‡½æ•°å£°æ˜
function add(a1, a2) {
  return a1 + a2;
}
// å‡½æ•°è¡¨è¾¾å¼
var sub = function(a1, a2) {
  return a1 - a2;
}
add(1, 3);
sub(4, 1);
```

#### æ–¹æ³•è°ƒç”¨æ¨¡å¼ğŸ‘
æ–¹æ³•è°ƒç”¨æ¨¡å¼ä¼šä¼˜å…ˆå®šä¹‰ä¸€ä¸ªå¯¹è±¡objï¼Œç„¶ååœ¨å¯¹è±¡å†…éƒ¨å®šä¹‰å€¼ä¸ºå‡½æ•°çš„å±æ€§propertyï¼Œé€šè¿‡å¯¹è±¡obj.property()æ¥è¿›è¡Œå‡½æ•°çš„è°ƒç”¨ã€‚
```js
// å®šä¹‰å¯¹è±¡
var obj = {
  name: 'ming',
  // å®šä¹‰getNameå±æ€§ï¼Œå€¼ä¸ºä¸€ä¸ªå‡½æ•°
  getName: function() {
    return this.name;
  }
}
obj.getName(); // é€šè¿‡å¯¹è±¡è¿›è¡Œè°ƒç”¨
obj['getName'](); // å‡½æ•°è¿˜å¯ä»¥é€šè¿‡ä¸­æ‹¬å·æ¥è°ƒç”¨ï¼Œå³å¯¹è±¡å['å‡½æ•°å']ã€‚
```
**å¦‚æœåœ¨æŸä¸ªæ–¹æ³•ä¸­è¿”å›çš„æ˜¯å‡½æ•°å¯¹è±¡æœ¬èº«this**ï¼Œé‚£ä¹ˆå¯ä»¥åˆ©ç”¨é“¾å¼è°ƒç”¨åŸç†è¿›è¡Œè¿ç»­çš„å‡½æ•°è°ƒç”¨ã€‚
```js
var obj2 = {
  name: 'ming',
  getName: function() {
    console.log(this.name);
  },
  setName: function(name) {
    this.name = name;
    return this; // åœ¨å‡½æ•°å†…éƒ¨è¿”å›å‡½æ•°å¯¹è±¡æœ¬èº«
  }
};
obj2.setName('ming').getName(); // é“¾å¼å‡½æ•°è°ƒç”¨
```
#### æ„é€ å™¨è°ƒç”¨æ¨¡å¼
æ„é€ å™¨è°ƒç”¨æ¨¡å¼ä¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­å®šä¹‰å®ä¾‹å±æ€§ï¼Œåœ¨åŸå‹ä¸Šå®šä¹‰å‡½æ•°ï¼Œç„¶åé€šè¿‡newæ“ä½œç¬¦ç”Ÿæˆå‡½æ•°çš„å®ä¾‹ï¼Œå†é€šè¿‡å®ä¾‹è°ƒç”¨åŸå‹ä¸Šå®šä¹‰çš„å‡½æ•°ã€‚
```js
// å®šä¹‰å‡½æ•°å¯¹è±¡
function Person(name) {
  this.name = name;
}
// åŸå‹ä¸Šå®šä¹‰å‡½æ•°
Person.prototype.getName = function() {
  return this.name;
}
// é€šè¿‡newæ“ä½œç¬¦ç”Ÿæˆå®ä¾‹
var p = new Person('ming');
// é€šè¿‡å®ä¾‹è¿›è¡Œå‡½æ•°çš„è°ƒç”¨
p.getName();
```
#### call()å‡½æ•°ã€apply()å‡½æ•°è°ƒç”¨æ¨¡å¼ğŸ‘ğŸ‘ğŸ‘
é€šè¿‡call()å‡½æ•°æˆ–è€…apply()å‡½æ•°å¯ä»¥**æ”¹å˜å‡½æ•°æ‰§è¡Œçš„ä¸»ä½“**ï¼Œä½¿å¾—æŸäº›ä¸å…·æœ‰ç‰¹å®šå‡½æ•°çš„å¯¹è±¡å¯ä»¥ç›´æ¥è°ƒç”¨è¯¥ç‰¹å®šå‡½æ•°ã€‚
```js
function sum(num1, num2) {
  return num1 + num2;
}
var person = {};
// é€šè¿‡callå‡½æ•°ä¸applyå‡½æ•°è°ƒç”¨sum
sum.call(person, 1, 2);
sum.apply(person, [2, 3]);
```
é€šè¿‡call()å‡½æ•°ä¸apply()å‡½æ•°ï¼Œä½¿å¾—æ²¡æœ‰sum()å‡½æ•°çš„personå¯¹è±¡ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨sum()å‡½æ•°

#### åŒ¿åå‡½æ•°è°ƒç”¨æ¨¡å¼
ä¸€ç§æ˜¯é€šè¿‡å‡½æ•°è¡¨è¾¾å¼å®šä¹‰å‡½æ•°ï¼Œå¹¶èµ‹ç»™å˜é‡ï¼Œé€šè¿‡å˜é‡è¿›è¡Œè°ƒç”¨ã€‚
```js
// é€šè¿‡å‡½æ•°è¡¨è¾¾å¼å®šä¹‰åŒ¿åå‡½æ•°ï¼Œå¹¶èµ‹ç»™å˜é‡sum
var sum = function(num1, num2) {
  return num1 + num2;
}
// é€šè¿‡sumå‡½æ•°è¿›è¡ŒåŒ¿åå‡½æ•°è°ƒç”¨
sum(1, 2);
```
å¦ä¸€ç§æ˜¯ä½¿ç”¨å°æ‹¬å·()å°†åŒ¿åå‡½æ•°æ‹¬èµ·æ¥ï¼Œç„¶ååœ¨åé¢ä½¿ç”¨å°æ‹¬å·()ï¼Œä¼ é€’å¯¹åº”çš„å‚æ•°ï¼Œè¿›è¡Œè°ƒç”¨ã€‚
```js
(function (num1, num2) {
  return num1 + num2;
})(1, 2);
```
ä½¿ç”¨å°æ‹¬å·æ‹¬ä½çš„å‡½æ•°å£°æ˜å®é™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ï¼Œç´§éšå…¶åçš„å°æ‹¬å·è¡¨ç¤ºä¼šç«‹å³è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚
```js
function (num1, num2) {
  return num1 + num2;
}(1, 2); // Uncaught SyntaxError: Unexpected token (
```
å› ä¸ºJavaScriptè§£é‡Šå™¨åœ¨è§£æè¯­å¥æ—¶ï¼Œä¼šå°†functionå…³é”®å­—å½“ä½œå‡½æ•°å£°æ˜çš„å¼€å§‹ï¼Œå‡½æ•°çš„å£°æ˜æ˜¯éœ€è¦æœ‰å‡½æ•°åç§°çš„ï¼Œè€Œä¸Šé¢çš„ä»£ç å´å¹¶æ²¡æœ‰å‡½æ•°åç§°ï¼Œæ‰€ä»¥ä¼šæŠ›å‡ºè¯­æ³•å¼‚å¸¸ã€‚
```js
// å†™ä¸Šå‘¢
function sum(num1, num2) {
  console.log(num1 + num2);
}(1, 2); // 2
```
å®é™…ä¸Šï¼Œåœ¨å‡½æ•°å£°æ˜åå¢åŠ çš„å°æ‹¬å·ç›¸å½“äºä¸€ä¸ªåˆ†ç»„æ“ä½œç¬¦ï¼Œä¸¤éƒ¨åˆ†å†…å®¹æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œå¹¶ä¸ä¼šèµ·åˆ°ç«‹å³æ‰§è¡Œçš„ä½œç”¨ï¼Œä¸ä¸‹åˆ—è¯­å¥ç­‰ä»·ã€‚
```js
// å‡½æ•°å£°æ˜
function sum(num1, num2) {
   console.log(num1 + num2);
}
// (é€—å·)è¡¨è¾¾å¼
(1, 2); // 2
```
å¦‚ä½•æ‰å¯ä»¥å‘¢ï¼Ÿ
```js
var sum = function(num1, num2) {
  return num1 + num2;
}(1, 2);
console.log(sum); // 3
// è¿™éƒ¨åˆ†è¡¨ç¤ºçš„æ˜¯å‡½æ•°ç«‹å³æ‰§è¡Œã€‚
function(num1, num2) {
  return num1 + num2;
}(1, 2);
```
```js
// å®åç«‹å³è°ƒç”¨å‡½æ•°
(function sum(num1, num2) {
   console.log(num1 + num2);
}(1, 2));
```

### è‡ªæ‰§è¡Œå‡½æ•°
> è‡ªæ‰§è¡Œå‡½æ•°å³å‡½æ•°å®šä¹‰å’Œå‡½æ•°è°ƒç”¨çš„è¡Œä¸ºå…ˆåè¿ç»­äº§ç”Ÿã€‚
å®ƒéœ€è¦ä»¥ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼çš„èº«ä»½è¿›è¡Œå‡½æ•°è°ƒç”¨ï¼Œ
åŒ¿åå‡½æ•°è°ƒç”¨ä¹Ÿå±äºè‡ªæ‰§è¡Œå‡½æ•°çš„ä¸€ç§ã€‚
```js
function (x) {
  alert(x);
}(5); // Uncaught SyntaxError: Unexpected token (

var aa = function(x) {
  console.log(x);
}(1); // 1

true && function (x) {
  console.log(x);
}(2); // 2

0, function(x) {
  console.log(x);
}(3); // 3

!function(x) {
  console.log(x);
}(4); // 4

~function(x) {
  console.log(x);
}(5); // 5

-function(x) {
  console.log(x);
}(6); // 6

+function(x) {
  console.log(x);
}(7); // 7

new function() {
  console.log(8); // 8
};

new function(x) {
  console.log(x); 
}(9); // 9
```

## å‡½æ•°å‚æ•°
### å½¢å‚å’Œå®å‚
- å½¢å‚å…¨ç§°ä¸ºå½¢å¼å‚æ•°ï¼Œæ˜¯åœ¨å®šä¹‰å‡½æ•°åç§°ä¸å‡½æ•°ä½“æ—¶ä½¿ç”¨çš„å‚æ•°ï¼Œç›®çš„æ˜¯ç”¨æ¥æ¥æ”¶è°ƒç”¨è¯¥å‡½æ•°æ—¶ä¼ å…¥çš„å‚æ•°ã€‚
- å®å‚å…¨ç§°ä¸ºå®é™…å‚æ•°ï¼Œæ˜¯åœ¨è°ƒç”¨æ—¶ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ï¼Œå®å‚å¯ä»¥æ˜¯å¸¸é‡ã€å˜é‡ã€è¡¨è¾¾å¼ã€å‡½æ•°ç­‰ç±»å‹ã€‚

#### åŒºåˆ«
1. å½¢å‚å‡ºç°åœ¨å‡½æ•°çš„å®šä¹‰ä¸­ï¼Œåªèƒ½åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨ï¼Œä¸€æ—¦ç¦»å¼€è¯¥å‡½æ•°åˆ™ä¸èƒ½ä½¿ç”¨ï¼›å®å‚å‡ºç°åœ¨ä¸»è°ƒå‡½æ•°ä¸­ï¼Œè¿›å…¥è¢«è°ƒå‡½æ•°åï¼Œå®å‚ä¹Ÿå°†ä¸èƒ½è¢«è®¿é—®ã€‚
```js
function fn1() {
  var param = 'hello';
  fn2(param);
  console.log(arg); // åœ¨ä¸»è°ƒå‡½æ•°ä¸­ä¸èƒ½è®¿é—®åˆ°å½¢å‚argï¼Œä¼šæŠ›å‡ºå¼‚å¸¸
}
function fn2(arg) {
  console.log(arg); // åœ¨å‡½æ•°ä½“å†…èƒ½è®¿é—®åˆ°å½¢å‚argï¼Œè¾“å‡º'hello'
  console.log(params); // åœ¨å‡½æ•°ä½“å†…ä¸èƒ½è®¿é—®åˆ°å®å‚param, ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
}
fn1();
```

2. åœ¨**å¼ºç±»å‹è¯­è¨€**ä¸­ï¼Œå®šä¹‰çš„å½¢å‚å’Œå®å‚åœ¨æ•°é‡ã€æ•°æ®ç±»å‹å’Œé¡ºåºä¸Šè¦ä¿æŒä¸¥æ ¼ä¸€è‡´ï¼Œå¦åˆ™ä¼šæŠ›å‡ºâ€œç±»å‹ä¸åŒ¹é…â€çš„å¼‚å¸¸
3. åœ¨å‡½æ•°è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œæ•°æ®ä¼ è¾“æ˜¯å•å‘çš„ï¼Œå³åªèƒ½æŠŠå®å‚çš„å€¼ä¼ é€’ç»™å½¢å‚ï¼Œè€Œä¸èƒ½æŠŠå½¢å‚çš„å€¼åå‘ä¼ é€’ç»™å®å‚ã€‚å› æ­¤åœ¨å‡½æ•°æ‰§è¡Œæ—¶ï¼Œå½¢å‚çš„å€¼å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä½†ä¸ä¼šå½±å“åˆ°å®å‚ä¸­çš„å€¼ã€‚
```js
var arg = 1;
function fn(param) {
  param = 2;
}
fn(arg);
console.log(arg); // 1ï¼Œå®å‚çš„å€¼ä¸å˜
```
4. å½“å®å‚æ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼æ—¶ï¼Œå®é™…æ˜¯å°†å®å‚çš„å€¼å¤åˆ¶ä¸€ä»½ä¼ é€’ç»™å½¢å‚ï¼Œåœ¨å‡½æ•°è¿è¡Œç»“æŸæ—¶å½¢å‚è¢«é‡Šæ”¾ï¼Œè€Œå®å‚ä¸­çš„å€¼ä¸ä¼šå˜åŒ–ã€‚å½“å®å‚æ˜¯å¼•ç”¨ç±»å‹çš„å€¼æ—¶ï¼Œå®é™…æ˜¯å°†å®å‚çš„å†…å­˜åœ°å€ä¼ é€’ç»™å½¢å‚ï¼Œå³å®å‚å’Œå½¢å‚éƒ½æŒ‡å‘ç›¸åŒçš„å†…å­˜åœ°å€ï¼Œæ­¤æ—¶å½¢å‚å¯ä»¥ä¿®æ”¹å®å‚çš„å€¼ï¼Œä½†æ˜¯ä¸èƒ½ä¿®æ”¹å®å‚çš„å†…å­˜åœ°å€ã€‚ğŸš©
```js
var arg = { name: 'ming' };
function fn(param) {
  param.name = 'heisming'; // æ”¹å˜å®å‚çš„å€¼
  param = {}; // æ”¹å˜å½¢å‚çš„åœ°å€
}
fn(arg);
console.log(arg); // { name: 'heisming' }
```
JavaScriptæ˜¯ä¸€é—¨å¼±ç±»å‹çš„è¯­è¨€ï¼Œå‡½æ•°å‚æ•°åœ¨éµå¾ªä¸Šè¿°è§„åˆ™çš„åŸºç¡€ä¸Šï¼Œè¿˜å…·æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹æ€§ã€‚
- å‡½æ•°å¯ä»¥ä¸ç”¨å®šä¹‰å½¢å‚ï¼Œå¯ä»¥åœ¨å‡½æ•°ä½“ä¸­é€šè¿‡argumentså¯¹è±¡è·å–ä¼ é€’çš„å®å‚å¹¶è¿›è¡Œå¤„ç†ã€‚
- åœ¨å‡½æ•°å®šä¹‰äº†å½¢å‚çš„æƒ…å†µä¸‹ï¼Œä¼ é€’çš„å®å‚ä¸å½¢å‚çš„ä¸ªæ•°å¹¶ä¸éœ€è¦ç›¸åŒï¼Œå®å‚ä¸å½¢å‚ä¼šä»å‰åˆ°ååŒ¹é…ï¼ŒæœªåŒ¹é…åˆ°çš„å½¢å‚è¢«å½“ä½œundefinedå¤„ç†ã€‚
- å®å‚å¹¶ä¸éœ€è¦ä¸å½¢å‚çš„æ•°æ®ç±»å‹ä¸€è‡´ï¼Œå› ä¸ºå½¢å‚çš„æ•°æ®ç±»å‹åªæœ‰åœ¨æ‰§è¡ŒæœŸé—´æ‰èƒ½ç¡®å®šï¼Œå¹¶ä¸”è¿˜å­˜åœ¨éšå¼æ•°æ®ç±»å‹çš„è½¬æ¢ã€‚

### argumentså¯¹è±¡çš„å®è´¨
> argumentså¯¹è±¡æ˜¯æ‰€æœ‰å‡½æ•°éƒ½å…·æœ‰çš„ä¸€ä¸ªå†…ç½®å±€éƒ¨å˜é‡ï¼Œè¡¨ç¤ºçš„æ˜¯å‡½æ•°å®é™…æ¥æ”¶çš„å‚æ•°ï¼Œæ˜¯ä¸€ä¸ªç±»æ•°ç»„ç»“æ„(å› ä¸ºå®ƒé™¤äº†å…·æœ‰lengthå±æ€§å¤–ï¼Œä¸å…·æœ‰æ•°ç»„çš„ä¸€äº›å¸¸ç”¨æ–¹æ³•ã€‚)ã€‚
#### å‡½æ•°å¤–éƒ¨æ— æ³•è®¿é—®
argumentså¯¹è±¡å­˜åœ¨äºå‡½æ•°çº§ä½œç”¨åŸŸä¸­ï¼Œä¸€ä¸ªå‡½æ•°æ— æ³•ç›´æ¥è·å–å¦ä¸€ä¸ªå‡½æ•°çš„argumentså¯¹è±¡ã€‚
```js
console.log(type arguments); // undefined
function foo() {
  console.log(arguments.length); // 3
  function foo2() {
    console.log(arguments.length); // 0
  }   
  foo2();
}
foo(1, 2, 3);
```
#### å¯é€šè¿‡ç´¢å¼•è®¿é—®
argumentså¯¹è±¡æ˜¯ä¸€ä¸ªç±»æ•°ç»„ç»“æ„ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•è®¿é—®ï¼Œæ¯ä¸€é¡¹è¡¨ç¤ºå¯¹åº”ä¼ é€’çš„å®å‚å€¼ï¼Œå¦‚æœè¯¥é¡¹ç´¢å¼•å€¼ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¿”å›â€œundefinedâ€ã€‚
```js
function sum(num1, num2) {
   console.log(arguments[0]);  // 3
   console.log(arguments[1]);  // 4
   console.log(arguments[2]);  // undefined
}
sum(3, 4);
```
#### ç”±å®å‚å†³å®š
> argumentså¯¹è±¡çš„å€¼ç”±å®å‚å†³å®šï¼Œè€Œä¸æ˜¯ç”±å®šä¹‰çš„å½¢å‚å†³å®šï¼Œå½¢å‚ä¸argumentså¯¹è±¡å ç”¨ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ã€‚

argumentså¯¹è±¡ä¸å½¢å‚ä¹‹é—´çš„å…³ç³»ï¼Œå¯ä»¥æ€»ç»“ä¸ºä»¥ä¸‹å‡ ç‚¹ã€‚
- argumentså¯¹è±¡çš„lengthå±æ€§åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™å°±å·²ç»ç¡®å®šï¼Œä¸ä¼šéšç€å‡½æ•°çš„å¤„ç†è€Œæ”¹å˜ã€‚
- æŒ‡å®šçš„å½¢å‚åœ¨ä¼ é€’å®å‚çš„æƒ…å†µä¸‹ï¼Œargumentså¯¹è±¡ä¸å½¢å‚å€¼ç›¸åŒï¼Œå¹¶ä¸”å¯ä»¥ç›¸äº’æ”¹å˜ã€‚
- æŒ‡å®šçš„å½¢å‚åœ¨æœªä¼ é€’å®å‚çš„æƒ…å†µä¸‹ï¼Œargumentså¯¹è±¡å¯¹åº”ç´¢å¼•å€¼è¿”å›â€œundefinedâ€ã€‚
- æŒ‡å®šçš„å½¢å‚åœ¨æœªä¼ é€’å®å‚çš„æƒ…å†µä¸‹ï¼Œargumentså¯¹è±¡ä¸å½¢å‚å€¼ä¸èƒ½ç›¸äº’æ”¹å˜ã€‚
```js
function foo(a, b, c) {
  console.log(arguments.length); // 2
  arguments[0] = 11;
  console.log(a); // 1
  b = 12;
  console.log(arguments[1]); // 12
  arguments[2] = 3;
  console.log(c); // undefined
  c = 13;
  console.log(arguments[2]); // 3
  console.log(arguments.length); // 2
}
foo(1, 2);
```
#### ç‰¹æ®Šçš„arguments.calleeå±æ€§ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘
è¡¨ç¤ºçš„æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ï¼Œåœ¨æ¯”è¾ƒæ—¶æ˜¯ä¸¥æ ¼ç›¸ç­‰çš„ã€‚
```js
function foo() {
  console.log(arguments.callee === foo); // true
}
foo();
```
é€šè¿‡arguments.calleeå±æ€§è·å–åˆ°å‡½æ•°å¯¹è±¡åï¼Œå¯ä»¥ç›´æ¥ä¼ é€’å‚æ•°é‡æ–°è¿›è¡Œå‡½æ•°çš„è°ƒç”¨ï¼Œè¿™ä¸ªå±æ€§åœ¨åŒ¿åçš„é€’å½’å‡½æ•°ä¸­éå¸¸æœ‰ç”¨ã€‚
```js
function create() {
  return function(n) {
    if (n <= 1) {
      return 1;
    }
    return n * arguments.callee(n - 1);
  }
}
var result = create()(5); // return 120 (5 * 4 * 3 * 2 * 1)
```
ä¸æ¨èå¹¿æ³›ä½¿ç”¨arguments.calleeå±æ€§ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªä¸»è¦åŸå› æ˜¯ä½¿ç”¨arguments.calleeå±æ€§åä¼šæ”¹å˜å‡½æ•°å†…éƒ¨çš„thiså€¼ã€‚
```js
var sillyFunction = function (recursed) {
  if(!recursed) {
    console.log(this); // Window {}
    return arguments.callee(true);
  }
  console.log(this); // Arguments {}
}
sillyFunction();
```
å¦‚æœéœ€è¦åœ¨å‡½æ•°å†…éƒ¨è¿›è¡Œé€’å½’è°ƒç”¨ï¼Œæ¨èä½¿ç”¨å‡½æ•°å£°æ˜æˆ–è€…ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼ï¼Œç»™å‡½æ•°ä¸€ä¸ªæ˜ç¡®çš„å‡½æ•°åã€‚
#### argumentså¯¹è±¡çš„åº”ç”¨
##### å®å‚çš„ä¸ªæ•°åˆ¤æ–­
```js
function f(x, y, z) {
   // æ£€æŸ¥ä¼ é€’çš„å‚æ•°ä¸ªæ•°æ˜¯å¦æ­£ç¡®
   if (arguments.length !== 3) {
       throw new Error("æœŸæœ›ä¼ é€’çš„å‚æ•°ä¸ªæ•°ä¸º3ï¼Œå®é™…ä¼ é€’ä¸ªæ•°ä¸º" + arguments.length);
   }
   // ...do something
}
f(1, 2); // Uncaught Error: æœŸæœ›ä¼ é€’çš„å‚æ•°ä¸ªæ•°ä¸º3ï¼Œå®é™…ä¼ é€’ä¸ªæ•°ä¸º2
```
##### ä»»æ„ä¸ªæ•°çš„å‚æ•°å¤„ç†
å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°åªä¼šç‰¹å®šå¤„ç†ä¼ é€’çš„å‰å‡ ä¸ªå‚æ•°ï¼Œå¯¹äºåé¢çš„å‚æ•°ä¸è®ºä¼ é€’å¤šå°‘ä¸ªéƒ½ä¼šç»Ÿä¸€å¤„ç†ï¼Œè¿™ç§åœºæ™¯ä¸‹æˆ‘ä»¬å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ã€‚
```js
function joinStr(seperator) {
  // argumentså¯¹è±¡æ˜¯ä¸€ä¸ªç±»æ•°ç»„ç»“æ„ï¼Œå¯ä»¥é€šè¿‡callå‡½æ•°é—´æ¥è°ƒç”¨sliceå‡½æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªæ•°ç»„
  var strArr = Array.prototype.slice.call(arguments, 1);
  // strArræ•°ç»„ç›´æ¥è°ƒç”¨joinå‡½æ•°
  return strArr.join(seperator);
}
joinStr('-', 'orange', 'apple', 'banana');
joinStr(',', 'orange', 'apple', 'banana');
```
##### æ¨¡æ‹Ÿå‡½æ•°é‡è½½
åœ¨å‡½æ•°åç›¸åŒçš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å‡½æ•°å½¢å‚çš„ä¸åŒå‚æ•°ç±»å‹æˆ–è€…ä¸åŒå‚æ•°ä¸ªæ•°æ¥å®šä¹‰ä¸åŒçš„å‡½æ•°ã€‚

åœ¨JavaScriptä¸­æ˜¯æ²¡æœ‰å‡½æ•°é‡è½½çš„ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹åŸå› ã€‚
- JavaScriptæ˜¯ä¸€é—¨å¼±ç±»å‹çš„è¯­è¨€ï¼Œå˜é‡åªæœ‰åœ¨ä½¿ç”¨æ—¶æ‰èƒ½ç¡®å®šæ•°æ®ç±»å‹ï¼Œé€šè¿‡å½¢å‚æ˜¯æ— æ³•ç¡®å®šæ•°æ®ç±»å‹çš„ã€‚
- æ— æ³•é€šè¿‡å‡½æ•°çš„å‚æ•°ä¸ªæ•°æ¥æŒ‡å®šè°ƒç”¨ä¸åŒçš„å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°ä¸ªæ•°æ˜¯åœ¨å‡½æ•°è°ƒç”¨æ—¶æ‰ç¡®å®šä¸‹æ¥çš„ã€‚
- ä½¿ç”¨å‡½æ•°å£°æ˜å®šä¹‰çš„å…·æœ‰ç›¸åŒåç§°çš„å‡½æ•°ï¼Œåè€…ä¼šè¦†ç›–å‰è€…ã€‚
```js
function sum(num1, num2) {
  return num1 + num2;
}
function sum(num1, num2, num3) {
  return num1 + num2 + num3;
}
sum(1, 2); // 1 + 2 + undefined = NaN
sum(1, 2, 3); // 6
```
ä½¿ç”¨argumentså¯¹è±¡å¤„ç†ä¼ é€’çš„å‚æ•°ã€‚
```js
// é€šç”¨çš„æ±‚å’Œå‡½æ•°
function sum() {
  // é€šè¿‡callå‡½æ•°é—´æ¥è°ƒç”¨æ•°ç»„çš„sliceå‡½æ•°å¾—åˆ°å‡½æ•°å‚æ•°çš„æ•°ç»„
  var arr = Array.prototype.slice.call(arguments);
  // è°ƒç”¨æ•°ç»„çš„reduceå‡½æ•°è¿›è¡Œå¤šä¸ªå€¼çš„æ±‚å’Œ
  return arr.reduce(function (pre, cur) {
    return pre + cur;
  }, 0)
}
sum(1, 2); // 3
sum(1, 2, 3); // 6
sum(1, 2, 3, 4); // 10
```
## æ„é€ å‡½æ•°
å½“æˆ‘ä»¬åˆ›å»ºå¯¹è±¡çš„å®ä¾‹æ—¶ï¼Œé€šå¸¸ä¼šä½¿ç”¨åˆ°æ„é€ å‡½æ•°ï¼Œä¾‹å¦‚å¯¹è±¡å’Œæ•°ç»„çš„å®ä¾‹åŒ–å¯ä»¥é€šè¿‡ç›¸åº”çš„æ„é€ å‡½æ•°Object()å’ŒArray()å®Œæˆã€‚

æ„é€ å‡½æ•°ä¸æ™®é€šå‡½æ•°åœ¨è¯­æ³•çš„å®šä¹‰ä¸Šæ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œä¸»è¦çš„åŒºåˆ«ä½“ç°åœ¨ä»¥ä¸‹3ç‚¹ã€‚
- æ„é€ å‡½æ•°çš„å‡½æ•°åçš„ç¬¬ä¸€ä¸ªå­—æ¯é€šå¸¸ä¼šå¤§å†™ã€‚
- åœ¨å‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨thiså…³é”®å­—ï¼Œè¡¨ç¤ºè¦ç”Ÿæˆçš„å¯¹è±¡å®ä¾‹ï¼Œæ„é€ å‡½æ•°å¹¶ä¸ä¼šæ˜¾å¼åœ°è¿”å›ä»»ä½•å€¼ï¼Œè€Œæ˜¯é»˜è®¤è¿”å›â€œthisâ€ã€‚
```js
function Person(name) {
  this.name = name;
}
var p = new Person('ming');
console.log(p); // Person { name: "ming" }
```
- ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨æ—¶ï¼Œå¿…é¡»ä¸newæ“ä½œç¬¦é…åˆä½¿ç”¨ã€‚
ä¸€ä¸ªå‡½æ•°åªæœ‰åœ¨é…åˆnewæ“ä½œç¬¦è°ƒç”¨æ—¶æ‰èƒ½å½“ä½œä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¦‚æœä¸ä½¿ç”¨newæ“ä½œç¬¦ï¼Œåˆ™åªæ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ã€‚
```js
// ä¸€ä¸ªå‡½æ•°åœ¨å½“ä½œæ„é€ å‡½æ•°ä½¿ç”¨æ—¶ï¼Œèƒ½é€šè¿‡newæ“ä½œç¬¦åˆ›å»ºå¯¹è±¡çš„å®ä¾‹ï¼Œå¹¶é€šè¿‡å®ä¾‹è°ƒç”¨å¯¹åº”çš„å‡½æ•°ã€‚
function Person(name, age) {
  this.name = name;
  this.age = age;
  this.sayName = function() {
    alert(this.name);
  };
}
var person = new Person('ming', 22);
person.sayName(); // 'ming'
// ä¸€ä¸ªå‡½æ•°åœ¨å½“ä½œæ™®é€šå‡½æ•°ä½¿ç”¨æ—¶ï¼Œå‡½æ•°å†…éƒ¨çš„thisä¼šæŒ‡å‘windowã€‚
Person('ming', 12)
window.sayName(); // ming
```
æ„é€ å‡½æ•°åœ¨æ‰§è¡Œåˆ›é€ å¯¹è±¡å®ä¾‹æ—¶ä¼šæ‰§è¡Œä»¥ä¸‹4æ­¥ã€‚
- é€šè¿‡newæ“ä½œç¬¦åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œåœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„åœ°å€ã€‚
- ä¸ºæ„é€ å‡½æ•°ä¸­çš„thisç¡®å®šæŒ‡å‘ã€‚
- æ‰§è¡Œæ„é€ å‡½æ•°ä»£ç ï¼Œä¸ºå®ä¾‹æ·»åŠ å±æ€§ã€‚
- è¿”å›è¿™ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ã€‚

ä»¥å‰é¢ç”Ÿæˆpersonå®ä¾‹çš„ä»£ç ä¸ºä¾‹ã€‚
ç¬¬ä¸€æ­¥ï¼šä¸ºpersonå®ä¾‹åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„åœ°å€ã€‚
ç¬¬äºŒæ­¥ï¼šç¡®å®špersonå®ä¾‹çš„thisæŒ‡å‘ï¼ŒæŒ‡å‘personæœ¬èº«ã€‚
ç¬¬ä¸‰æ­¥ï¼šä¸ºpersonå®ä¾‹æ·»åŠ nameã€ageå’ŒsayNameå±æ€§ï¼Œå…¶ä¸­sayNameå±æ€§å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚
ç¬¬å››æ­¥ï¼šè¿”å›è¿™ä¸ªpersonå®ä¾‹ã€‚

ç¼ºç‚¹ï¼šå³å¯¹å‡½æ•°çš„å¤„ç†ã€‚
åœ¨æ„é€ å‡½æ•°ä¸­ä¸ºthisæ·»åŠ äº†ä¸€ä¸ªsayNameå±æ€§ï¼Œå®ƒçš„å€¼ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·åœ¨æ¯æ¬¡åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹æ—¶ï¼Œéƒ½ä¼šç»™å®ä¾‹æ–°å¢ä¸€ä¸ªsayNameå±æ€§ï¼Œè€Œä¸”ä¸åŒå®ä¾‹ä¸­çš„sayNameå±æ€§æ˜¯ä¸åŒçš„ã€‚
```js
var person1 = new Person();
var person2 = new Person();
console.log(person1.sayName === person2.sayName); // false
```
> è®¾ç½®å…¨å±€è®¿é—®å‡½æ•°ä¼šæ±¡æŸ“ä½œç”¨åŸŸï¼Œä½¿ç”¨åŸå‹å³å¯è§£å†³ã€‚
## å˜é‡æå‡ä¸å‡½æ•°æå‡
ä¸€ä¸ªå‡½æ•°ä½“å†…ï¼Œå˜é‡åœ¨å®šä¹‰ä¹‹å‰å°±å¯ä»¥è¢«è®¿é—®åˆ°ï¼Œè€Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
```js
function fn() {
  console.log(a); // undefined
  var a = 1;
}
```
å‡½æ•°ä¹Ÿæœ‰ç±»ä¼¼çš„è¡¨ç°ï¼Œå‡½æ•°åœ¨å®šä¹‰ä¹‹å‰å°±å¯ä»¥è¢«è°ƒç”¨ï¼Œè€Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
```js
fn();
function fn() {
  console.log('out'); // out
}
```
### ä½œç”¨åŸŸ
åœ¨JavaScriptä¸­ï¼Œä¸€ä¸ªå˜é‡çš„å®šä¹‰ä¸è°ƒç”¨éƒ½æ˜¯ä¼šåœ¨ä¸€ä¸ªå›ºå®šçš„èŒƒå›´ä¸­çš„ï¼Œè¿™ä¸ªèŒƒå›´æˆ‘ä»¬ç§°ä¹‹ä¸ºä½œç”¨åŸŸã€‚
ä½œç”¨åŸŸå¯ä»¥åˆ†ä¸ºå…¨å±€ä½œç”¨åŸŸã€å‡½æ•°ä½œç”¨åŸŸå’Œå—çº§ä½œç”¨åŸŸ(ES6ï¼šlet/const)ã€‚
- å…¨å±€ä½œç”¨åŸŸï¼šå¦‚æœå˜é‡å®šä¹‰åœ¨å…¨å±€ç¯å¢ƒä¸­ï¼Œé‚£ä¹ˆåœ¨ä»»ä½•ä½ç½®éƒ½å¯ä»¥è®¿é—®åˆ°è¿™ä¸ªå˜é‡ï¼›
- å‡½æ•°ä½œç”¨åŸŸï¼šå¦‚æœå˜é‡å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨ï¼Œé‚£ä¹ˆåªèƒ½åœ¨å‡½æ•°å†…éƒ¨è®¿é—®åˆ°è¿™ä¸ªå˜é‡ï¼›
- å—çº§ä½œç”¨åŸŸï¼šå¦‚æœå˜é‡å®šä¹‰åœ¨ä¸€ä¸ªä»£ç å—ä¸­ï¼Œé‚£ä¹ˆåªèƒ½åœ¨ä»£ç å—ä¸­è®¿é—®åˆ°è¿™ä¸ªå˜é‡ã€‚
```js
// å…¨å±€ä½œç”¨åŸŸå†…çš„å˜é‡a
var a = 'global variable';
function foo() {
  // å‡½æ•°ä½œç”¨åŸŸå†…çš„å˜é‡b
  var b = 'function variable';
  console.log(a); // global variable
  console.log(b); // function variable
}
// å—çº§ä½œç”¨åŸŸå†…çš„å˜é‡c
{
  let c = 'block variable';
  console.log(c); // block variable
}
console.log(c); // Uncaught ReferenceError: c is not defined
```
åœ¨å‡½æ•°å†…éƒ¨**ä½¿ç”¨varå®šä¹‰çš„å˜é‡**
#### ä»£ç 1
```js
var v = 'Hello World';
(function() {
  console.log(v); // Hello World
})();
```
#### ä»£ç 2
```js
var v = 'Hello World';
(function() {
  // var v;
  console.log(v); // undefined
  var v = 'Hello JM'; // v = 'Hello JM'
})();
```
### å˜é‡æå‡
å˜é‡æå‡ï¼ˆå¿…é¡»æ˜¯é€šè¿‡varå…³é”®å­—ï¼‰æ˜¯å°†å˜é‡çš„å£°æ˜æå‡åˆ°å‡½æ•°é¡¶éƒ¨çš„ä½ç½®ï¼Œè€Œ**å˜é‡çš„èµ‹å€¼å¹¶ä¸ä¼šè¢«æå‡**ã€‚
```js
(function () {
  console.log(v); // Uncaught ReferenceError: v is not defined
  v = 'Hello JM';
})
```
#### [ä»£ç 1çš„æ‰§è¡Œè¿‡ç¨‹](#ä»£ç 1)
åœ¨å…¨å±€å¯¹è±¡windowä¸Šå®šä¹‰ä¸€ä¸ªå˜é‡vï¼Œå¹¶èµ‹å€¼ä¸ºHello Worldã€‚ç„¶åå®šä¹‰ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œè¿™ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°çš„ä½œç”¨åŸŸä¸ºwindowã€‚åœ¨å‡½æ•°å†…éƒ¨å¼•ç”¨å˜é‡vï¼Œç„¶åä¼šé¡ºç€ä½œç”¨åŸŸå¯»æ‰¾ï¼Œæœ€ç»ˆä¼šåœ¨windowä¸Šæ‰¾åˆ°è¿™ä¸ªå˜é‡vï¼Œå› æ­¤è¾“å‡ºâ€œHello Worldâ€ã€‚
#### [ä»£ç 2çš„æ‰§è¡Œè¿‡ç¨‹](#ä»£ç 2)
å‡ºç°äº†å˜é‡æå‡ï¼Œåœ¨ç«‹å³æ‰§è¡Œå‡½æ•°çš„å†…éƒ¨ï¼Œå˜é‡vçš„å®šä¹‰ä¼šæå‡åˆ°å‡½æ•°é¡¶éƒ¨ï¼Œå®é™…æ‰§è¡Œè¿‡ç¨‹çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚
```js
var v = 'Hello World';
(function () {
  var v;   // å˜é‡çš„å£°æ˜å¾—åˆ°æå‡  
  console.log(v);
  v = 'Hello JavaScript';  // å˜é‡çš„èµ‹å€¼å¹¶æœªæå‡
})();
```
### å‡½æ•°æå‡
ä½¿ç”¨å‡½æ•°å£°æ˜æ–¹å¼å®šä¹‰çš„å‡½æ•°ä¹Ÿä¼šå‡ºç°æå‡ã€‚
```js
foo(); // foo()å‡½æ•°è¢«æå‡è‡³ä½œç”¨åŸŸé¡¶éƒ¨
function foo() {
  console.log('I am come from foo');
}
// ç›¸å½“äº
function foo() {
   console.log("æˆ‘æ¥è‡ª foo");
}
foo();  // æˆ‘æ¥è‡ª foo
```
> éœ€è¦æ³¨æ„çš„æ˜¯å‡½æ•°æå‡ä¼šå°†æ•´ä¸ªå‡½æ•°ä½“ä¸€èµ·è¿›è¡Œæå‡ï¼ŒåŒ…æ‹¬é‡Œé¢çš„æ‰§è¡Œé€»è¾‘ã€‚
> è€Œå¯¹äºå‡½æ•°è¡¨è¾¾å¼ï¼Œæ˜¯ä¸ä¼šè¿›è¡Œå‡½æ•°æå‡çš„ã€‚
```js
foo();  // Uncaught TypeError: foo is not a function
var foo = function () {
  console.log('æˆ‘è‡ªæ¥ foo');
};
```
ä¸¤è€…åŒæ—¶ä½¿ç”¨æ—¶çš„æƒ…å†µ
```js
show(); // hello
var show;
// å‡½æ•°å£°æ˜ï¼Œä¼šè¢«æå‡
function show() {
  console.log('hello');
}
// å‡½æ•°è¡¨è¾¾å¼ï¼Œä¸ä¼šè¢«æå‡
show = function() {
  console.log('world');
}
```
### å˜é‡æå‡ä¸å‡½æ•°æå‡çš„åº”ç”¨
#### å…³äºå‡½æ•°æå‡
```js
function foo() {
  function bar() {
    return 3;
  }
  return bar();
}
function bar() {
  return 8;
}
console.log(foo()); // 3

function foo() {
  function bar() {
    return 3;
  }
  return bar();
  function bar() {
    return 8;
  }
}
console.log(foo()); // 8
```
ç”±äºå˜é‡æå‡çš„å­˜åœ¨ï¼Œä¸¤æ®µä»£ç éƒ½ä¼šè¢«æå‡è‡³foo()å‡½æ•°çš„é¡¶éƒ¨ï¼Œè€Œä¸”åä¸€ä¸ªå‡½æ•°ä¼šè¦†ç›–å‰ä¸€ä¸ªbar()å‡½æ•°ï¼Œå› æ­¤æœ€åè¾“å‡ºå€¼ä¸ºâ€œ8â€ã€‚
#### å˜é‡æå‡å’Œå‡½æ•°æå‡åŒæ—¶ä½¿ç”¨
```js
var a = true;
foo(); // å‡½æ•°æå‡æ­£å¸¸è°ƒç”¨
function foo() {
  if (a) {
    var a = 10;
  }
  console.log(a); // undefined
}
// æ‰§è¡Œè¿‡ç¨‹
var a;
a = true;
function foo() {
  var a;
  if (a) {
    a = 10;
  }
  console.log(a); // undefined
}
foo();
```
#### å˜é‡æå‡å’Œå‡½æ•°æå‡ä¼˜å…ˆçº§ğŸ‘ğŸ‘ğŸ‘
```js
function fn() {
  console.log(typeof foo); // function
  // å˜é‡æå‡
  var foo = 'variable';
  // å‡½æ•°æå‡
  function foo() {
    return 'function';
  }
  console.log(typeof foo); // string
}
fn();
```
**å˜é‡æå‡çš„ä¼˜å…ˆçº§è¦æ¯”å‡½æ•°æå‡çš„ä¼˜å…ˆçº§é«˜**ï¼Œå› æ­¤å®é™…æ‰§è¡Œè¿‡ç¨‹å¯ä»¥æ”¹å†™ä¸ºä»¥ä¸‹ä»£ç æ®µã€‚
```js
function fn() {
  // å˜é‡æå‡è‡³å‡½æ•°é¡¶éƒ¨
  var foo;
  // å‡½æ•°æå‡ï¼Œä½†æ˜¯ä¼˜å…ˆçº§ä½ï¼Œå‡ºç°åœ¨å˜é‡å£°æ˜åé¢ï¼Œåˆ™fooæ˜¯ä¸€ä¸ªå‡½æ•°
  function foo() {
    return 'function';
  }
  console.log(typeof foo); // function
  foo = 'variable';
  console.log(typeof foo); // string
}
```
#### å˜é‡æå‡å’Œå‡½æ•°æå‡æ•´ä½“åº”ç”¨ğŸ‘ğŸ‘ğŸ‘
```js
function foo() {
  var a = 1;
  function b() {
    a = 10;
    return;
    function a() {} // å˜é‡açš„å‡½æ•°å£°æ˜ï¼Œåˆ™ä¼šè¿›è¡Œæå‡
  }
  b();
  console.log(a); // 1
}
foo();
```
æ•´ä½“æ‰§è¡Œè¿‡ç¨‹å¯ä»¥æ”¹å†™ä¸ºä»¥ä¸‹ä»£ç æ®µã€‚
```js
function foo() {
  // å˜é‡açš„æå‡
  var a;
  // å‡½æ•°å£°æ˜bçš„æå‡
  function b() {
    // å†…éƒ¨çš„å‡½æ•°å£°æ˜açš„æå‡
    function a() {}
    a = 10;
    return;
  }
  a = 1;
  b();
  console.log(a); // 1
}
foo();
```
> `ä»¥ä¸ŠçŸ¥è¯†ç‚¹æ²¡å•¥åµç”¨`ï¼Œæ— è®ºå˜é‡è¿˜æ˜¯å‡½æ•°ï¼Œéƒ½åšåˆ°å…ˆå£°æ˜åä½¿ç”¨ã€‚
```js
// å®šä¹‰å˜é‡
var name = 'Scott';
// å…ˆå®šä¹‰å‡½æ•°
var sayHello = function(guest) {
   console.log(name, 'says hello to', guest);
};
// é¢„å…ˆå®šä¹‰å°†è¦ä½¿ç”¨åˆ°çš„å˜é‡
var i;
var guest;
var guests = ['John', 'Tom', 'Jack'];
for (i = 0; i < guests.length; i++) {
   // ä½¿ç”¨å˜é‡
   guest = guests[i];
   // ä½¿ç”¨é¢„å…ˆå®šä¹‰çš„sayHello()å‡½æ•°
  sayHello(guest);
}
```
ES6
```js
const name = 'Scott';
let sayHello = function(guest) {
   console.log(name, 'says hello to', guest);
};

let guests = ['John', 'Tom', 'Jack'];

for (let i = 0; i < guests.length; i++) {
   let guest = guests[i];
   sayHello(guest);
}
```
## é—­åŒ…
åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸï¼Œåœ¨å‡½æ•°ä½“ä¸­çš„å±€éƒ¨å˜é‡ä¼šåœ¨è¿™ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­ä½¿ç”¨ã€‚ä¸€æ—¦å‡½æ•°æ‰§è¡Œå®Œæˆï¼Œå‡½æ•°æ‰€å ç©ºé—´å°±ä¼šè¢«å›æ”¶ï¼Œå­˜åœ¨äºå‡½æ•°ä½“ä¸­çš„å±€éƒ¨å˜é‡åŒæ ·ä¼šè¢«å›æ”¶ï¼Œå›æ”¶åå°†ä¸èƒ½è¢«è®¿é—®åˆ°ã€‚
æœŸæœ›åœ¨å‡½æ•°æ‰§è¡Œå®Œæˆåï¼Œå‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ä»ç„¶å¯ä»¥è¢«è®¿é—®åˆ°ï¼Œè¿™èƒ½ä¸èƒ½å®ç°å‘¢ï¼Ÿ
### æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘
JavaScriptæ¯æ®µä»£ç çš„æ‰§è¡Œéƒ½ä¼šå­˜åœ¨äºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ï¼Œè€Œä»»ä½•ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒéƒ½ä¼šå­˜åœ¨äºæ•´ä½“çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ã€‚æ ¹æ®æ ˆå…ˆè¿›åå‡ºçš„ç‰¹ç‚¹ï¼Œå…¨å±€ç¯å¢ƒäº§ç”Ÿçš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¼šæœ€å…ˆå‹å…¥æ ˆä¸­ï¼Œå­˜åœ¨äºæ ˆåº•ã€‚å½“æ–°çš„å‡½æ•°è¿›è¡Œè°ƒç”¨æ—¶ï¼Œä¼šäº§ç”Ÿçš„æ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œä¹Ÿä¼šå‹å…¥æ ˆä¸­ã€‚å½“å‡½æ•°è°ƒç”¨å®Œæˆåï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒåŠå…¶ä¸­çš„æ•°æ®éƒ½ä¼šè¢«é”€æ¯ï¼Œå¹¶å¼¹å‡ºæ ˆï¼Œä»è€Œè¿›å…¥ä¹‹å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ã€‚

å¤„äºæ´»è·ƒçŠ¶æ€çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒåªèƒ½åŒæ—¶æœ‰ä¸€ä¸ªï¼š
å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒ  === å‹æ ˆ ===> å‡½æ•°ä¸Šä¸‹æ–‡ç¯å¢ƒorå…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒ === å‡ºæ ˆï¼ˆé”€æ¯ï¼‰ ===> å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒ
```js
1  var a = 10;    // 1.è¿›å…¥å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ
2  var fn = function (x) {
3      var c = 10;
4      console.log(c + x);
5  };
6  var bar = function (y) {
7      var b = 5;
8      fn(y + b);  // 3.è¿›å…¥fn()å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ
9  };
10 bar(20);  // 2.è¿›å…¥bar()å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ
```
ä»ç¬¬1è¡Œä»£ç å¼€å§‹ï¼Œè¿›å…¥å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œæ­¤æ—¶æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸­åªå­˜åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒã€‚
```js
     æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ
|                     |
|                     |
|                     |
|   å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ  |  <---- æ´»è·ƒçŠ¶æ€çš„ä¸Šä¸‹æ–‡ç¯å¢ƒ
 ____________________
```
å½“ä»£ç æ‰§è¡Œåˆ°ç¬¬10è¡Œæ—¶ï¼Œè°ƒç”¨bar()å‡½æ•°ï¼Œè¿›å…¥bar()å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ã€‚
```js
    æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ
|                        |
|                        |
|  bar()å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ |   <---- æ´»è·ƒçŠ¶æ€çš„ä¸Šä¸‹æ–‡ç¯å¢ƒ
|    å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ    |
 ______________________
```
æ‰§è¡Œåˆ°ç¬¬8è¡Œæ—¶ï¼Œè°ƒç”¨fn()å‡½æ•°ï¼Œè¿›å…¥fn()å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ã€‚
```js
     æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ
|                        |
|   fnå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ   |   <---- æ´»è·ƒçŠ¶æ€çš„ä¸Šä¸‹æ–‡ç¯å¢ƒ
|   barå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ  |
|    å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ    |
 ______________________
```
è¿›å…¥fn()å‡½æ•°ä¸­ï¼Œæ‰§è¡Œå®Œç¬¬5è¡Œä»£ç åï¼Œfn()å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒå°†ä¼šè¢«é”€æ¯ï¼Œä»è€Œå¼¹å‡ºæ ˆã€‚
```js
     æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ
|                        |
|                        |
|   barå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ  |   <---- æ´»è·ƒçŠ¶æ€çš„ä¸Šä¸‹æ–‡ç¯å¢ƒ
|    å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ    |
 ______________________
```
fn()å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒè¢«é”€æ¯åï¼Œå›åˆ°bar()å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ï¼Œæ‰§è¡Œå®Œç¬¬9è¡Œä»£ç åï¼Œbar()å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¹Ÿå°†è¢«é”€æ¯ï¼Œä»è€Œå¼¹å‡ºæ ˆ
```js
     æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ
|                     |
|                     |
|                     |
|   å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ  |  <---- æ´»è·ƒçŠ¶æ€çš„ä¸Šä¸‹æ–‡ç¯å¢ƒ
 ____________________
```
æœ€åå…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒæ‰§è¡Œå®Œæ¯•ï¼Œæ ˆè¢«æ¸…ç©ºï¼Œæµç¨‹æ‰§è¡Œç»“æŸã€‚
åƒä¸Šé¢è¿™ç§ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒå°±ä¼šè¢«é”€æ¯çš„åœºæ™¯ï¼Œæ˜¯ä¸€ç§æ¯”è¾ƒç†æƒ³çš„æƒ…å†µã€‚
æœ‰å¦å¤–ä¸€ç§æƒ…å†µï¼Œè™½ç„¶ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œä½†æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒå´è¢«æ— æ³•å¹²å‡€åœ°é”€æ¯ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è¦è®²åˆ°çš„é—­åŒ…ã€‚

> ä¸ªäººç†è§£æœ‰ç‚¹åƒ--(-(-(-)-)-)-->æ´‹è‘±åœˆæ¨¡å‹ã€‚

### é—­åŒ…çš„æ¦‚å¿µ
> å®˜æ–¹é€šç”¨çš„è§£é‡Šï¼šä¸€ä¸ªæ‹¥æœ‰è®¸å¤šå˜é‡å’Œç»‘å®šäº†è¿™äº›å˜é‡æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒçš„è¡¨è¾¾å¼ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚

é—­åŒ…æœ‰ä¸¤ä¸ªå¾ˆæ˜æ˜¾çš„ç‰¹ç‚¹ã€‚
- å‡½æ•°æ‹¥æœ‰çš„å¤–éƒ¨å˜é‡çš„å¼•ç”¨ï¼Œåœ¨å‡½æ•°è¿”å›æ—¶ï¼Œè¯¥å˜é‡ä»ç„¶å¤„äºæ´»è·ƒçŠ¶æ€ã€‚
- é—­åŒ…ä½œä¸ºä¸€ä¸ªå‡½æ•°è¿”å›æ—¶ï¼Œå…¶æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸ä¼šè¢«é”€æ¯ï¼Œä»å¤„äºæ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ã€‚
```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```
