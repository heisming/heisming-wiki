# Vue项目化

## 使用Vue Cli构建项目
1. 打开控制台，输入：
   ```bash
     cnpm i @vue/cli -g
   ```
安装Vue Cli，尚未安装cnpm的同学可以输入：
```bash
npm i cnpm -g --registry=https://registry.npm.taobao.org
```
安装国内的淘宝镜像源的cnpm。
在命令执行结束之后，输入：
```bash
vue --version
```
如果控制台输出版本号，即表示安装成功。

2. 在项目所要防止的文件目录下打开控制台，输入：
```bash
vue create my-project
```
初始化项目（此处的my-project为项目名称）

3. 在模板下载完成之后，VC将使用默认配置直接完成项目配置，选择Vue3 Preview
```bash

```
4. 输入：
```bash
cnpm i
```
安装项目依赖
5. 输入：
```bash
npm run serve
```
构建项目的开发版本，并启动development-server
此时，在浏览器地址栏输入`http://localhost:8080`即可访问项目
6. 另打开一个控制台，输入：
```bash
npm run build
```

VC项目初始目录
| 名称 | 说明 |
| ---- | ---- |
| dist | 由npm ruu build生成；项目的生产版本；项目完成后，交付该文件夹即可 |
| src | 项目开发的关键资源目录和主要工作空间 |
| src/asset | 用于存放图片、音频、视频等资源 |
| src/components | 用于存放开发的单文件组件 |
| src/App.vue | 默认创建的项目的根组件 |
| src/main.js | webpack的入口文件 |
| public | 静态资源，包括图标、index.html等 |
| .babel.config.js | babel（下一代JS的预编译器）的配置文件 |
| .gitignore | 应被Git版本控制工具忽略的文件 |

`App.vue`
```vue
<template>
  <img alt="Vue log" src="./asset/log.png">
  <HelloWorld msg="Welcome to Your Vue.js App" />
</template>
<script>
import HelloWorld from './components/HelloWorld.vue'
export default {
  name: 'App',
  components: { HelloWorld }
}
</script>
<style>
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px; 
}
</style>
- 这是一个单文件组件，包含HTML、JavaScript和CSS三个部分。显然，VC采用关注点分离的开发方式。这种开发方式使得组件的内聚性更强，也更适合组件化的开发。
- script标签中的内容为Vue组件；template标签中的内容为组件的DOM结构；style标签中的内容为CSS样式表（在被赋予scoped属性之后，样式表的作用域仅限于当前组件）。
- export和import是ECMAScript6语法中用于模块化管理的两个关键字，这里使用export导出Vue组件以供外部调用。
```

main.js中的代码如下：
```js
import { createApp } from 'vue';
import App from './App.vue';
createApp(App).mount('#app')
```
- 这里使用import引入全局的createApp对象、App组件。之后，创建一个Vue实例，并将App组件注册到实例中。
在main.js中,App实例绑定了id为app的DOM元素。然而，这个元素在哪里呢？App组件中似乎有一个id为app的div元素，看下index.html的代码
```html
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title><%= htmlWebpackPlugin.options.title %></title>
</head>
<body>
  <noscript>
    <strong>We're sorry but <%= htmlWebpackPlugin.options.title %>
    doesn't work properly without JavaScript enabled.
    Please enable it to continue.
    </strong>
  </noscript>
  <div id="app"></div>
  <!-- built files will be auto injected -->
</body>
</html>
```
由于App组件是被注册在实例中的（作为实例的子组件），因此App组件中的元素当然不可能作为实例的挂载元素，那么，实例最终是被挂载在index.html中的div元素上吗？其实也不是
VC会将所有编译整理的资源路径注入以index.html为模板的镜像中，被注入后的镜像即生产版本中项目的入口文件，也就是dist文件目录下的index.html，这里的元素才是实例最终被挂载的地方。
在src文件目录下，原本还有一个重要的文件——使用VR配置的router/index.js、




```bash

```

```bash

```

```bash

```

```bash

```

```bash

```

```bash

```


```bash

```

```bash

```

```bash

```


```bash

```

```bash

```

```bash

```


