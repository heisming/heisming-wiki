# ç¬¬ä¸€ç« ï¼šJSé‡ç‚¹æ¦‚å¿µ

## undefined
```js
var a; console.log(a); // *
var obj = { name: 'some' }; console.log(obj.age) // *
function foo() {}; console.log(foo()); // *
function foo(param1, param2, parm3) { console.log(param3)}; foo(1, 2); // *
```

## null
```js
console.log(typeof null); // object

// å¦‚æœå£°æ˜çš„å˜é‡æ˜¯ä¸ºäº†ä»¥åä¿å­˜æŸä¸ªå€¼ï¼Œåˆ™åº”è¯¥åœ¨å£°æ˜æ—¶å°±å°†å…¶èµ‹å€¼ä¸º null
var obj = null; function foo() { return { name: 'some' } }; obj = foo();

document.querySelector('#id') // null

'test'.match(/a/) // null
```

> å¯¹æ¯”
```js
var a; var b = null;
console.log(a.name); // Cannot read property 'name' of undefined
console.log(b.name); // Cannot read property 'name' of null

null == undefined // true
```
==nullæ˜¯jsçš„å…³é”®å­—,è€Œundefinedæ˜¯jsçš„ä¸€ä¸ªå…¨å±€å˜é‡(æŒ‚è½½åœ¨windowå¯¹è±¡ä¸Š)==

```js
typeof undefined // undefined
typeof null // object

Object.prototype.toString.call(undefined) // [object, Undefined]
Object.prototype.toString.call(null) // [object, Null]

undefined + '=abc' // undefined=abc
null + '=abc' // null=abc

undefined + 0 // NaN
null + 1 // 1
```

## Boolean
```js
Boolean(" "); // true
Boolean(-1); // true
Boolean({}); // true
Boolean([]); // true
Boolean(() => {}); // true
```

## Number
### Number()
```js
var num1 = 024 === 0o24; // 20
var num2 = 079 // 79

var num3 = 0x3f // 63
var num4 = 0x3g // caught SyntaxError: Invalid or unexpected token

Number(null) // 0
Number(undefined) // NaN
Number('0123') // 123
Number('01.23') // 1.23
Number('0x3f') // 63
Number('  ') === Number('')// 0
Number('0o24') // 20
Number('024') === Number('0024') // 24
Number('0.24.1') // NaN

Number(010) === Number(0o10) // 8
Number(0x10) // 10

// â—å¦‚æœå€¼ä¸ºå¯¹è±¡ç±»å‹ï¼Œåˆ™ä¼šå…ˆè°ƒç”¨å¯¹è±¡çš„valueOfå‡½æ•°è·å–è¿”å›å€¼ï¼Œå¹¶é‡æ–°åˆ¤æ–­æ˜¯å¦èƒ½è½¬æ¢ä¸ºNumberç±»å‹ã€‚ä¸è¡Œå°±å†æ¬¡è°ƒç”¨å¯¹è±¡çš„toStringå‡½æ•°ï¼Œå¦‚æœä¸æ»¡è¶³è¿”å›NaN
var obj = {
  age: 21,
  valueOf: function() { return this.age },
  toString: function() { return 'study' },
}
Number(obj) // 21

var obj = {
  age: 21,
  valueOf: function() { return [] },
  toString: function() { return this.age },
}
Number(obj) // 21

var obj = {
  age: 21,
  valueOf: function() { return 'a' },
  toString: function() { return '021' },
}
Number(obj) // NaN

var obj = {
  age: 21,
  valueOf: function() { return [] },
  toString: function() { return {} },
}
Number(obj) // â“TypeError: Cannot convert object to primitive value
```
### parseInt(string, radix)
- `typeof string !== string` ===è°ƒç”¨===> `string.toString();`
- radix(2~36)è¿›åˆ¶ï¼Œé»˜è®¤10

```js
parseInt('0x12', 16) // 18
parseInt(0x12, 16) === parseInt(18, 16) === parseInt('18', 16) // 24

```
**æ•°æ®æˆªå–çš„å‰ç½®åŒ¹é…åŸåˆ™**
å¯¹äºä¼ å…¥çš„å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…ï¼Œå¦‚æœå¤„äºåŸºæ•°æŒ‡å®šçš„èŒƒå›´ï¼Œåˆ™ä¿ç•™å¹¶ç»§ç»­å¾€ååŒ¹é…æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ï¼Œä¹‹é“æŸä¸ªå­—ç¬¦ä¸æ»¡è¶³åŸºæ•°æŒ‡å®šçš„æ•°æ®èŒƒå›´ï¼Œåˆ™ä»è¯¥å­—ç¬¦å¼€å§‹ï¼Œèˆå¼ƒåé¢çš„å…¨éƒ¨å­—ç¬¦ã€‚åœ¨è·å–åˆ°æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦åï¼Œå°†è¿™äº›å­—ç¬¦è½¬æ¢ä¸ºæ•´æ•°ã€‚
```js
parseInt('fg123', 16) // 15

parseInt('0x12', 16) // 18
parseInt(0x12, 10) // 0

parseInt('15 * 3', 10) // 15
parseInt(15 * 3, 10) // 45
```

**ç‰¹æ®Šçš„e**
```js
parseInt(6e3, 10) // 6000
parseInt(6e3, 16) // 24576
parseInt('6e3', 10) // 6
parseInt('6e3', 16) === parseInt('0x6e3', 16) // 1763

parseInt('6.03', 10) // 6
parseInt('6.993', 10) === parseInt(6.993, 10) // 6

```
**map()å‡½æ•°ä¸parseInt()å‡½æ•°çš„éšå½¢å‘**
```js
var arr = ['1', '2', '3', '4'];
var result = arr.map(parseInt);
// ç­‰æ•ˆ
var result = arr.map(function(val, index){ return parseInt(val, index)});
console.log(result); // [1, NaN, NaN, NaN]
// è§£æ
parseInt('1', 0); // 1: ä»»ä½•æ•´æ•°ä»¥0ä¸ºåŸºæ•°å–æ•´æ—¶ï¼Œéƒ½ä¼šè¿”å›æœ¬èº«ã€‚
parseInt('2', 1); // NaN: radixä¸èƒ½ä¸º1
parseInt('3', 2); // NaN: '3' > 2
parseInt('4', 3); // NaN: '4' > 3
```

### parseFloat()
ç¬¦å·ä½å¿…é¡»å‡ºç°åœ¨å­—ç¬¦çš„ç¬¬ä¸€ä½
```js
parseFloat('+1.2') // 1.2
parseFloat('-1.2') // -1.2
parseFloat('++1.2') // NaN
parseFloat('--1.2') // C
parseFloat('1+1.2') // 1
```
ç©ºç™½ç¬¦
```js
parseFloat('  1.2') // 1.2
parseFloat('F1.2') // NaN
```
ç§‘å­¦è¿ç®—ç¬¦e
```js
parseFloat(4e3) === parseFloat('4e3') // 4000
// å¯¹æ¯”
parseInt('4e3', 10) // 4

parseFloat('1e1.20') === parseFloat('1e1')  // 10
```
å°æ•°ç‚¹
```js
parseFloat('11.20'); // 11.2
parseFloat('122.13.123') // 122.13
```

==æ€»ç»“== 
> Numberï¼šè½¬æ¢ä¼ å…¥çš„æ•´ä¸ªå€¼
> parseInt/parseFloatï¼šä»é¦–ä½å¼€å§‹åŒ¹é…ç¬¦åˆæ¡ä»¶çš„å€¼ã€‚å¦‚æœæ•´ä¸ªå€¼çš„éƒ½ä¸èƒ½è¢«å®Œæ•´è½¬æ¢ï¼Œåˆ™ä¼šè¿”å›NaN

### isNaN() & Number.isNaN()
NaNå­˜åœ¨ç›®çš„æ˜¯åœ¨æŸäº›å¼‚å¸¸æƒ…å†µä¸‹ä¿è¯ç¨‹åºçš„æ­£å¸¸æ‰§è¡Œã€‚ä¾‹å¦‚: `0 / 0`;
- æ¶‰åŠNaNçš„æ“ä½œéƒ½è¿”å›NaN
- NaNä¸èƒ½ç­‰äºä»»ä½•æ•°å€¼ï¼ŒåŒ…æ‹¬NaN
```js
NaN * 1000 == NaN // false
```
å¦‚ä½•åˆ¤æ–­ï¼Ÿ
- ES5: isNaN()
- ES6: Number.isNaN()

#### isNaN()
```js
// true
isNaN(NaN);
isNaN(undefined);
isNaN({});
isNaN('JavaScript'); // å­—ç¬¦ä¸²"JavaScript"æ— æ³•è½¬æ¢æˆæ•°å­—
isNaN(new Date().toString()); // new Date().toString() === 'Wed May 10 2023 22:16:54 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)'æ— æ³•è½¬æ¢ä¸ºæ•°å€¼ç±»å‹
isNaN(() => {});

// false
isNaN(true); // Number(true) è½¬æ¢ä¸ºæ•°å­— 1
isNaN(null); // Number(null) è½¬æ¢ä¸ºæ•°å­— 0
isNaN(1);
isNaN(''); // Number('') è½¬æ¢ä¸ºæ•°å­— 0
isNaN('1'); // å­—ç¬¦ä¸²"1"å¯ä»¥è½¬æ¢ä¸ºæ•°å­—1
isNaN(new Date()) === isNaN(Date.now()); // ä¼šè½¬æ¢ä¸ºæ—¶é—´æˆ³ï¼ˆæ•°å­—ï¼‰ï¼šNumber(new Date()) === 1683728188307
isNaN([]); // â—Number([]) è½¬æ¢ä¸ºæ•°å­— 0
```
#### Number.isNaN()
å…¨å±€çš„ç¯å¢ƒçš„isNaN()å­˜åœ¨è¯¯å¯¼æ€§ï¼Œè€ŒES6ä¸­çš„`Number.isNaN()`å‡½æ•°ä¼šåœ¨çœŸæ­£æ„ä¹‰ä¸Šå»åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºNaNï¼Œ**ä¸ä¼šåšæ•°æ®ç±»å‹è½¬æ¢**ã€‚é™¤NaNå…¶å®ƒéƒ½æ˜¯falseã€‚
```js
// true
Number.isNaN(NaN) === Number.isNaN(NaN + 100);

// false
Number.isNaN(undefined);
Number.isNaN(null);
Number.isNaN(true);
Number.isNaN('');
Number.isNaN(123);
```
é‚£ä¹ˆéES6ç¯å¢ƒæ€ä¹ˆåŠå‘¢ï¼Ÿ
```js
// å…¼å®¹æ€§å¤„ç†
if (!Number.isNaN) {
  // å› ä¸ºåœ¨æ‰€æœ‰ç±»å‹æ•°æ®ä¸­ï¼Œå¦‚æœä¸€ä¸ªå˜é‡å’Œè‡ªèº«ä½œæ¯”è¾ƒåªæœ‰NaNè¿”å›false,å…¶å®ƒéƒ½ä¼štrueã€‚
  Number.isNaN = function(n) { return n !== n; }
}
```

### Float
> åœ¨JSä¸­ï¼Œæ•´æ•°å’Œæµ®ç‚¹æ•°éƒ½å±äºNumberï¼Œéƒ½ç»Ÿä¸€é‡‡ç”¨==64ä½æµ®ç‚¹æ•°==è¿›è¡Œå­˜å‚¨ã€‚

#### æµ®ç‚¹æ•°çš„ç‰¹æ®Šç»“æœ
```js
0.1+0.2 // 0.30000000000000004
0.7 +0.1 // 0.7999999999999999

1.5-1.2 // 0.30000000000000004
0.3-0.2// 0.09999999999999998

0.7*180 // 125.99999999999999
9.7*100 // 969.9999999999999

0.3/0.1 // 2.9999999999999996
0.69/ 10 // 0.06899999999999999
```
#### why?
é¦–å…ˆä¸€ä¸ªæµ®ç‚¹æ•°åœ¨è®¡ç®—æœºä¸­æ€»é•¿åº¦æ˜¯64ä½ï¼Œå…¶ä¸­æœ€é«˜ä½ä¸ºç¬¦å·ä½ï¼Œå11ä½ä¸ºæŒ‡æ•°ä½ï¼Œæœ€åçš„52ä½ä¸ºå°æ•°ä½ï¼Œå³æœ‰æ•ˆæ•°å­—çš„éƒ¨åˆ†ã€‚
- ç¬¬0ä½ï¼šç¬¦å·ä½signè¡¨ç¤ºæ•°å€¼çš„æ­£è´Ÿï¼Œ1+0-ã€‚
- ç¬¬1~11ï¼šå­˜å‚¨æŒ‡æ•°éƒ¨åˆ†ï¼Œeè¡¨ç¤ºã€‚
- ç¬¬12~63ï¼šå­˜å‚¨å°æ•°éƒ¨åˆ†ï¼ˆå³æœ‰æ•ˆæ•°å­—ï¼‰ï¼Œfè¡¨ç¤ºã€‚

> å› ä¸ºæµ®ç‚¹å‹æ•°ä½¿ç”¨64ä½å­˜å‚¨æ—¶ï¼Œæœ€å¤šåªèƒ½å­˜å‚¨52ä½çš„å°æ•°ä½ï¼Œå¯¹äºä¸€äº›å­˜åœ¨æ— é™å¾ªç¯çš„å°æ•°ä½æµ®ç‚¹æ•°ï¼Œä¼šæˆªå–å‰52ä½ï¼Œä»è€Œä¸¢å¤±ç²¾åº¦ï¼Œæ‰€ä»¥ä¼šå‡ºç°ä¸Šé¢å®ä¾‹ä¸­çš„ç»“æœã€‚

**ä¸¾ä¾‹**
0.1 + 0.2 = 0.30000000000000004

é¦–å…ˆå°†å„ä¸ªæµ®ç‚¹æ•°çš„å°æ•°ä½æŒ‰ç…§â€œä¹˜2å–æ•´ï¼Œé¡ºåºæ’åˆ—â€çš„æ–¹æ³•è½¬æ¢æˆäºŒè¿›åˆ¶è¡¨ç¤ºã€‚

å…·ä½“åšæ³•æ˜¯ç”¨2ä¹˜ä»¥åè¿›åˆ¶å°æ•°ï¼Œå¾—åˆ°ç§¯ï¼Œå°†ç§¯çš„æ•´æ•°éƒ¨åˆ†å–å‡ºï¼›ç„¶åå†ç”¨2ä¹˜ä»¥ä½™ä¸‹çš„å°æ•°éƒ¨åˆ†ï¼Œåˆå¾—åˆ°ä¸€ä¸ªç§¯ï¼›å†å°†ç§¯çš„æ•´æ•°éƒ¨åˆ†å–å‡ºï¼Œå¦‚æ­¤æ¨è¿›ï¼Œç›´åˆ°ç§¯ä¸­çš„å°æ•°éƒ¨åˆ†ä¸ºé›¶ä¸ºæ­¢ã€‚

ç„¶åæŠŠå–å‡ºçš„æ•´æ•°éƒ¨åˆ†æŒ‰é¡ºåºæ’åˆ—èµ·æ¥ï¼Œå…ˆå–çš„æ•´æ•°ä½œä¸ºäºŒè¿›åˆ¶å°æ•°çš„é«˜ä½æœ‰æ•ˆä½ï¼Œåå–çš„æ•´æ•°ä½œä¸ºä½ä½æœ‰æ•ˆä½ï¼Œå¾—åˆ°æœ€ç»ˆç»“æœã€‚

0.1è½¬æ¢ä¸ºäºŒè¿›åˆ¶è¡¨ç¤ºçš„è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ã€‚
```js
0.1 * 2 = 0.2 //å–å‡ºæ•´æ•°éƒ¨åˆ†0

0.2 * 2 = 0.4 //å–å‡ºæ•´æ•°éƒ¨åˆ†0

0.4 * 2 = 0.8 //å–å‡ºæ•´æ•°éƒ¨åˆ†0

0.8 * 2 = 1.6 //å–å‡ºæ•´æ•°éƒ¨åˆ†1

0.6 * 2 = 1.2 //å–å‡ºæ•´æ•°éƒ¨åˆ†1

0.2 * 2 = 0.4 //å–å‡ºæ•´æ•°éƒ¨åˆ†0

0.4 * 2 = 0.8 //å–å‡ºæ•´æ•°éƒ¨åˆ†0

0.8 * 2 = 1.6 //å–å‡ºæ•´æ•°éƒ¨åˆ†1

0.6 * 2 = 1.2 //å–å‡ºæ•´æ•°éƒ¨åˆ†1
```
1.2å–å‡ºæ•´æ•°éƒ¨åˆ†1åï¼Œå‰©ä½™å°æ•°ä¸º0.2ï¼Œä¸è¿™ä¸€è½®è¿ç®—çš„ç¬¬ä¸€ä½ç›¸åŒï¼Œè¡¨ç¤ºè¿™å°†æ˜¯ä¸€ä¸ªæ— é™å¾ªç¯çš„è®¡ç®—è¿‡ç¨‹ã€‚

å› æ­¤0.1è½¬æ¢æˆäºŒè¿›åˆ¶è¡¨ç¤ºä¸º0.0 0011 0011 0011 0011 00110011â€¦â€¦ï¼ˆæ— é™å¾ªç¯ï¼‰ã€‚

åŒç†å¯¹0.2è¿›è¡ŒäºŒè¿›åˆ¶çš„è½¬æ¢ï¼Œè®¡ç®—è¿‡ç¨‹ä¸ä¸Šé¢ç±»ä¼¼ï¼Œç›´æ¥ä»0.2å¼€å§‹ï¼Œç›¸æ¯”äº0.1ï¼Œå°‘äº†ç¬¬ä¸€ä½çš„0ï¼Œå…¶ä½™ä½æ•°å®Œå…¨ç›¸åŒï¼Œç»“æœä¸º0.0011 0011 0011 0011 0011 0011â€¦â€¦ï¼ˆæ— é™å¾ªç¯ï¼‰ã€‚

å°†0.1ä¸0.2ç›¸åŠ ï¼Œç„¶åè½¬æ¢æˆ52ä½ç²¾åº¦çš„æµ®ç‚¹å‹è¡¨ç¤ºã€‚
```js
// 0001 + 0001 = 0010
 0.0001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1001   (0.1)
+0.0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011   (0.2)
=0.0100 1100 1100 1100 1100 1100 1100 1100 1100 1100 1100 1100 1100
```

#### how?
> å°†æµ®ç‚¹æ•°å…ˆä¹˜ä»¥ä¸€å®šçš„æ•°å€¼è½¬æ¢ä¸ºæ•´æ•°ï¼Œé€šè¿‡æ•´æ•°è¿›è¡Œè¿ç®—ï¼Œç„¶åå°†ç»“æœé™¤ä»¥ç›¸åŒçš„æ•°å€¼è½¬æ¢æˆæµ®ç‚¹æ•°åè¿”å›ã€‚
```js
const operationObj = {
   /**
    * å¤„ç†ä¼ å…¥çš„å‚æ•°ï¼Œä¸ç®¡ä¼ å…¥çš„æ˜¯æ•°ç»„è¿˜æ˜¯ä»¥é€—å·åˆ†éš”çš„å‚æ•°éƒ½å¤„ç†ä¸ºæ•°ç»„
    * @param args
    * @returns {*}
    */
   getParam(args) {
      return Array.prototype.concat.apply([], args);
   },

   /**
    * è·å–æ¯ä¸ªæ•°çš„ä¹˜æ•°å› å­ï¼Œæ ¹æ®å°æ•°ä½æ•°è®¡ç®—
    * 1.é¦–å…ˆåˆ¤æ–­æ˜¯å¦æœ‰å°æ•°ç‚¹ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿”å›1ï¼›
    * 2.æœ‰å°æ•°ç‚¹æ—¶ï¼Œå°†å°æ•°ä½æ•°çš„é•¿åº¦ä½œä¸ºMath.pow()å‡½æ•°çš„å‚æ•°è¿›è¡Œè®¡ç®—
    * ä¾‹å¦‚2çš„ä¹˜æ•°å› å­ä¸º1ï¼Œ2.01çš„ä¹˜æ•°å› å­ä¸º100
    * @param x
    * @returns {number}
    */
   multiplier(x) {
      let parts = x.toString().split('.');
      return parts.length < 2 ? 1 : Math.pow(10, parts[1].length);
   },

   /**
    * è·å–å¤šä¸ªæ•°æ®ä¸­æœ€å¤§çš„ä¹˜æ•°å› å­
    * ä¾‹å¦‚1.3çš„ä¹˜æ•°å› å­ä¸º10ï¼Œ2.13çš„ä¹˜æ•°å› å­ä¸º100
    * åˆ™1.3å’Œ2.13çš„æœ€å¤§ä¹˜æ•°å› å­ä¸º100
    * @returns {*}
    */
   correctionFactor() {
       let args = Array.prototype.slice.call(arguments);
       let argArr = this.getParam(args);
       return argArr.reduce((accum, next) => {
           let num = this.multiplier(next);
           return Math.max(accum, num);
       }, 1);
   },

   /**
    * åŠ æ³•è¿ç®—
    * @param args
    * @returns {number}
    */
   add(...args) {
       let calArr = this.getParam(args);
       // è·å–å‚ä¸è¿ç®—å€¼çš„æœ€å¤§ä¹˜æ•°å› å­
       let corrFactor = this.correctionFactor(calArr);
       let sum = calArr.reduce((accum, curr) => {
           // å°†æµ®ç‚¹æ•°ä¹˜ä»¥æœ€å¤§ä¹˜æ•°å› å­ï¼Œè½¬æ¢ä¸ºæ•´æ•°å‚ä¸è¿ç®—
           return accum + Math.round(curr * corrFactor);
       }, 0);
       // é™¤ä»¥æœ€å¤§ä¹˜æ•°å› å­
       return sum / corrFactor;
   },

   /**
    * å‡æ³•è¿ç®—
    * @param args
    * @returns {number}
    */
   subtract(...args) {
       let calArr = this.getParam(args);
       let corrFactor = this.correctionFactor(calArr);
       let diï¬€ = calArr.reduce((accum, curr, curIndex) => {
          // reduce()å‡½æ•°åœ¨æœªä¼ å…¥åˆå§‹å€¼æ—¶ï¼ŒcurIndexä»1å¼€å§‹ï¼Œç¬¬ä¸€ä½å‚ä¸è¿ç®—çš„å€¼éœ€è¦
          // ä¹˜ä»¥æœ€å¤§ä¹˜æ•°å› å­
          if (curIndex === 1) {
              return Math.round(accum * corrFactor) - Math.round(curr * corrFactor);
          }
          // accumä½œä¸ºä¸Šä¸€æ¬¡è¿ç®—çš„ç»“æœï¼Œå°±æ— é¡»å†ä¹˜ä»¥æœ€å¤§å› å­
          return Math.round(accum) - Math.round(curr * corrFactor);
       });
     // é™¤ä»¥æœ€å¤§ä¹˜æ•°å› å­
       return diï¬€ / corrFactor;
   },

   /**
    * ä¹˜æ³•è¿ç®—
    * @param args
    * @returns {*}
    */
   multiply(...args) {
      let calArr = this.getParam(args);
      let corrFactor = this.correctionFactor(calArr);
      calArr = calArr.map((item) => {
          // ä¹˜ä»¥æœ€å¤§ä¹˜æ•°å› å­
          return item * corrFactor;
      });
      let multi = calArr.reduce((accum, curr) => {
          return Math.round(accum) * Math.round(curr);
      }, 1);
      // é™¤ä»¥æœ€å¤§ä¹˜æ•°å› å­
      return multi / Math.pow(corrFactor, calArr.length);
   },

   /**
    * é™¤æ³•è¿ç®—
    * @param args
    * @returns {*}
    */
   divide(...args) {
       let calArr = this.getParam(args);
       let quotient = calArr.reduce((accum, curr) => {
           let corrFactor = this.correctionFactor(accum, curr);
           // åŒæ—¶è½¬æ¢ä¸ºæ•´æ•°å‚ä¸è¿ç®—
           return Math.round(accum * corrFactor) / Math.round(curr * corrFactor);
       });
       return quotient;
   }
};
console.log(operationObj.add(0.1, 0.7));      // 0.8
console.log(operationObj.subtract(0.3, 0.2)); // 0.1
console.log(operationObj.multiply(0.7, 180)); // 126
console.log(operationObj.divide(0.3, 0.1));   // 3
```

## String
> å¦‚æœæ˜¯åŸºæœ¬ç±»å‹æ•°æ®ç›´æ¥å°†å­—é¢é‡å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼Œå¼•ç”¨ç±»å‹çš„æ•°æ®ï¼Œåˆ™è°ƒç”¨toString()å‡½æ•°ï¼Œå¾—åˆ°ä¸åŒç±»å‹çš„å­—ç¬¦ä¸²è¡¨ç°ã€‚
```js
console.log(123+'') // '123'
console.log([1, 2, 3]+'') // '1,2,3'
console.log(true+'') // 'true'
```

### å­—ç¬¦ä¸²å­—é¢é‡
ç›´æ¥é€šè¿‡å•å¼•å·æˆ–è€…åŒå¼•å·å®šä¹‰å­—ç¬¦ä¸²çš„æ–¹å¼ã€‚

### è°ƒç”¨String()å‡½æ•°
String()å‡½æ•°ï¼Œä¼šå°†ä¼ å…¥çš„ä»»ä½•ç±»å‹çš„å€¼è½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹
#### åŸºæœ¬ç±»å‹
```js
// 1.Number
String(123) // 123
String(12.3) // 12.3
// 2.Boolean
String(true) // 'true'
String(false) // 'false'
// 3.null
String(null) // 'null'
// 4.undefined
String(undefined) // 'undefined'
// 5.String
String('string') // 'string'
```
#### å¼•ç”¨ç±»å‹
- å…ˆè°ƒç”¨`toString()`å‡½æ•°è·å–è¿”å›å€¼
- å°†è¿”å›å€¼æŒ‰ç…§ä¸Šè¿°æ­¥éª¤1ï½5åˆ¤æ–­èƒ½å¦è½¬æ¢å­—ç¬¦ä¸²ç±»å‹
- å¦‚æœéƒ½ä¸æ»¡è¶³ï¼Œåˆ™ä¼šè°ƒç”¨å¯¹è±¡çš„`valueOf()`å‡½æ•°è·å–è¿”å›å€¼ï¼Œå¹¶å°†è¿”å›å€¼é‡æ–°æŒ‰ç…§æ­¥éª¤1ï½5åˆ¤æ–­èƒ½å¦è½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹
- å¦‚æœä¹Ÿä¸æ»¡è¶³ï¼Œåˆ™ä¼šæŠ›å‡ºç±»å‹è½¬æ¢çš„å¼‚å¸¸ã€‚
```js
// toString
var obj = { 
  age: 21,
  valueOf: function() { return this.age },
  toString: function() { return 'this.age' },
}
String(obj); // 'this.age'
// valueOf
var obj = {
   age: 21,
   valueOf: function () { return this.age },
   toString: function () { return [] },
};
String(obj);  // '21'
// error
var obj = {
   age: 21,
   valueOf: function () { return [] },
   toString: function () { return [] },
};
String(obj); // Cannot convert object to primitive value 
```
### new String()æ„é€ å‡½æ•°
> å¯¹äºä¼ å…¥çš„å‚æ•°åŒæ ·é‡‡ç”¨å’Œä¸Šè¿°String()å‡½æ•°ä¸€æ ·çš„ç±»å‹è½¬æ¢ç­–ç•¥ï¼Œæœ€åçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªStringç±»å‹å¯¹è±¡çš„å®ä¾‹ã€‚
```js
console.log(new String('hello JavaScript')); // VM12:1 StringÂ {'hello JavaScript'}
```
### æ¯”è¾ƒ
- 1&2ç”ŸæˆåŸºæœ¬å­—ç¬¦ä¸²ï¼Œ3é€šè¿‡newè¿ç®—ç”Ÿæˆ**å­—ç¬¦ä¸²å¯¹è±¡**
- åŸºæœ¬å­—ç¬¦ä¸²æ¯”è¾ƒå­—ç¬¦ä¸²çš„å€¼å³å¯ï¼›æ¯”è¾ƒå­—ç¬¦ä¸²å¯¹è±¡æ—¶ï¼Œæ¯”è¾ƒå¯¹è±¡æ‰€åœ¨çš„åœ°å€ã€‚
```js
var str = 'hello';
var str2 = String(str);
var str3 = String('hello');
var str4 = new String(str);
var str5 = new String(str);
var str6 = new String('hello');

str === str2;   // true
str2 === str3;  // true
// æ¯”è¾ƒåœ°å€
str3 === str4;  // false
str4 === str5;  // false
str5 === str6;  // false
```
### å‡½æ•°çš„è°ƒç”¨
åœ¨Stringå¯¹è±¡çš„åŸå‹é“¾ä¸Šæœ‰ä¸€ç³»åˆ—çš„å‡½æ•°ï¼Œä¾‹å¦‚indexOf()å‡½æ•°ã€substring()å‡½æ•°ã€slice()å‡½æ•°ç­‰ï¼Œé€šè¿‡Stringå¯¹è±¡çš„å®ä¾‹å¯ä»¥è°ƒç”¨è¿™äº›å‡½æ•°åšå­—ç¬¦ä¸²çš„å¤„ç†ã€‚
é‡‡ç”¨å­—é¢é‡æ–¹å¼å®šä¹‰çš„å­—ç¬¦ä¸²ä¹Ÿèƒ½å¤Ÿç›´æ¥è°ƒç”¨åŸå‹é“¾ä¸Šçš„å‡½æ•°ã€‚
```js
'hello'.indexOf('e');  // 1
'hello'.substring(1);  // 'ello'
'hello'.slice(1);      // 'ello'
```
**why?**
JSä¼šè‡ªåŠ¨å°†åŸºæœ¬å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå½¢æˆä¸€ç§**åŒ…è£…ç±»å‹**ï¼Œè¿™æ ·åŸºæœ¬å­—ç¬¦ä¸²å°±å¯ä»¥æ­£å¸¸è°ƒç”¨å­—ç¬¦ä¸²å¯¹è±¡çš„æ–¹æ³•äº†ã€‚

eval()å‡½æ•°ä¼šå°†åŸºæœ¬å­—ç¬¦ä¸²ä½œä¸ºæºä»£ç å¤„ç†ï¼Œå¦‚æœæ¶‰åŠè¡¨è¾¾å¼ä¼šç›´æ¥è¿›è¡Œè¿ç®—ï¼Œè¿”å›è¿ç®—åçš„ç»“æœï¼›è€Œå­—ç¬¦ä¸²å¯¹è±¡åˆ™ä¼šè¢«çœ‹ä½œå¯¹è±¡å¤„ç†ï¼Œè¿”å›å¯¹è±¡æœ¬èº«ã€‚
```js
var s1 = '2 + 2'; // å­—ç¬¦ä¸²å­—é¢é‡
var s2 = new String('2 + 2'); // å­—ç¬¦ä¸²å¯¹è±¡
console.log(eval(s1)); // 4
console.log(eval(s2)); // String {"2 + 2"}
```

### ç®—æ³•
#### é€†åºè¾“å‡º
'abcdefg' => 'gfedcba'
- å€ŸåŠ©==æ•°ç»„==çš„reverse()å‡½æ•°
```js
function reverseString1(str) {
   return str.split('').reverse().join('');
}
```
- åˆ©ç”¨å­—ç¬¦ä¸²æœ¬èº«çš„charAt()å‡½æ•°
```js
// ä»å°¾éƒ¨å¼€å§‹éå†å­—ç¬¦ä¸²ï¼Œç„¶ååˆ©ç”¨charAt()å‡½æ•°è·å–å­—ç¬¦å¹¶é€ä¸ªæ‹¼æ¥
function reverseString2(str) {
  var result = '';
  for(var i = str.length - 1; i >= 0; i--) {
    result += str.charAt(i);
  }
  return result;
}
// é€šè¿‡é€’å½’å®ç°é€†åºè¾“å‡º
function revereString3(strIn, pos, strOut) {
  if (pos < 0) return strOut;
  strOut += strIn.charAt(pos--);
  return reverseString3(strIn, pos, strOut);
}
```
- é€šè¿‡call()å‡½æ•°æ¥æ”¹å˜slice()å‡½æ•°çš„æ‰§è¡Œä¸»ä½“ã€‚
```js
// è°ƒç”¨call()å‡½æ•°åï¼Œå¯ä»¥è®©å­—ç¬¦ä¸²å…·æœ‰æ•°ç»„çš„ç‰¹æ€§ï¼Œåœ¨è°ƒç”¨æœªä¼ å…¥å‚æ•°çš„slice()å‡½æ•°åï¼Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ªä¸è‡ªèº«ç›¸ç­‰çš„æ•°ç»„ï¼Œä»è€Œå¯ä»¥ç›´æ¥è°ƒç”¨reverse()å‡½æ•°ï¼Œæœ€åå†é€šè¿‡è°ƒç”¨join()å‡½æ•°ï¼Œå¾—åˆ°é€†åºå­—ç¬¦ä¸²ã€‚
function reverseString4(str)
  var arr = Array.prototype.slice.call(str);
  return arr.reverse().join('');
```
- å€ŸåŠ©æ ˆçš„å…ˆè¿›åå‡ºåŸåˆ™ã€‚
```js
function Stack() {
  this.data = []; // ä¿å­˜æ ˆå†…å…ƒç´ 
  this.top = 0; // è®°å½•æ ˆé¡¶çš„ä½ç½®
}
// åŸå‹é“¾å¢åŠ å‡ºæ ˆã€å…¥æ ˆæ–¹æ³•
Stack.prototype = {
  // å…¥æ ˆï¼šå…ˆåœ¨æ ˆé¡¶æ·»åŠ å…ƒç´ ï¼Œç„¶åå…ƒç´ ä¸ªæ•°+1
  push: function push(element) {
    this.data[this.top++] = element;
  },
  // å‡ºæ ˆï¼šå…ˆè¿”å›æ ˆé¡¶å…ƒç´ ï¼Œç„¶åå…ƒç´ ä¸ªæ•°-1
  pop: function pop() {
    return this.data[--this.top];
  },
  // è¿”å›æ ˆå†…çš„å…ƒç´ ä¸ªæ•°ï¼Œå³é•¿åº¦
  length: function() { return this.top; }
}

function reverseString5(str) {
  var s = new Stack();
  var arr = str.split('');
  var len = arr.length;
  var result = '';
  for (var i = 0; i < len; i++) {
    s.push(arr[i]);
  }
  for (var i = 0; j < len; i++) {
    result += s.pop(j);
  }
  return result;
}
```
#### ç»Ÿè®¡å­—ç¬¦ä¸²å‡ºç°æ¬¡æ•°
> ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦åŠå‡ºç°çš„æ¬¡æ•°
'helloJavascripthellohtmlhellocss'
- key-valueå½¢å¼çš„å¯¹è±¡æ¥å­˜å‚¨å­—ç¬¦ä¸²ä»¥åŠå­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åé€ä¸ªåˆ¤æ–­å‡ºç°æ¬¡æ•°æœ€å¤§å€¼ï¼ŒåŒæ—¶è·å–å¯¹åº”çš„å­—ç¬¦
```js
// map?
function getMaxCount(str) {
  var json = {};
  for(var i = 0; i< str.length; i++) {
    if(!json[str.charAt(i)]){
      json[str.charAt(i)] = 1;
    } else {
      json[str.charAt(i)]++;
    }
  }
  var maxCountChar = '';
  var maxCount = 0;
  for(var key in json) {
    if(json[key] > maxCount) {
      maxCount = json[key];
      maxCountChar = key;
    }
  }
  return 'å‡ºç°æœ€å¤šçš„å€¼æ˜¯' + 
  maxCountChar + 'ï¼Œå‡ºç°æ¬¡æ•°ä¸º' + 
  maxCount;
}
var str = 'helloJavaScripthhellohtmlhellocss';
getMaxCount(str);
```
- key-valueå½¢å¼çš„å¯¹è±¡æ¥å­˜å‚¨å­—ç¬¦ä¸å­—ç¬¦å‡ºç°çš„æ¬¡æ•°
```js
function getMaxCount2(str) {
  var json = {};
  var maxCount = 0, maxCountChar = '';
  str.split('').forEach(function(item){
    // hasOwn
    // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwn
    if (!json.hasOwnProperty(item)) {
      var number = str.split(item).length - 1;
      if (number > maxCount) {
        json[item] = number;
        maxCount = number;
        maxCountChar = item;
      }
    }
  });
  return 'å‡ºç°æœ€å¤šçš„å€¼æ˜¯' + 
  maxCountChar + 'ï¼Œå‡ºç°æ¬¡æ•°ä¸º' + 
  maxCount;
}
var str = 'helloJavaScripthhellohtmlhellocss';
console.log(getMaxCount2(str));
```

- å­—ç¬¦ä¸²æ’åº+lastIndexOf()å‡½æ•°
> å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ’åºï¼Œç„¶åé€šè¿‡lastIndexOf()å‡½æ•°è·å–ç´¢å¼•å€¼åï¼Œåˆ¤æ–­ç´¢å¼•å€¼çš„å¤§å°ä»¥è·å–å‡ºç°çš„æœ€å¤§æ¬¡æ•°ã€‚
```js
function getMaxCount3(str) {
  var maxCount = 0, maxCountChar = '';
  str = str.split('').sort().join('');
  for(var i = 0, j = str.length; i < j; i++) {
    var char = str[i];
    var charCount = str.lastIndexOf(char) - i + 1;
    if (charCount > maxCount) {
      maxCount = charCount;
      maxCountChar = char;
    }
    i = str.lastIndexOf(char);
  }
  return 'å‡ºç°æœ€å¤šçš„å€¼æ˜¯' + 
  maxCountChar + 'ï¼Œå‡ºç°æ¬¡æ•°ä¸º' + 
  maxCount;
}
var str = 'helloJavaScripthhellohtmlhellocss';
console.log(getMaxCount3(str));
```
- å­—ç¬¦ä¸²æ’åº+æ­£åˆ™
> å­—ç¬¦ä¸²è¿›è¡Œæ’åºï¼Œç„¶åé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼å°†å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…æ‹†åˆ†ï¼Œå°†ç›¸åŒå­—ç¬¦ç»„åˆåœ¨ä¸€èµ·ï¼Œæœ€ååˆ¤æ–­å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ã€‚
```js
function getMaxCount4(str) {
  var maxCount = 0, maxCountChar = '';
  str = str.split('').sort().join('');
  var arr = str.match(/(\w)\1+/g);
  for(var i = 0; i < arr.length; i++) {
    var length = arr[i].length;
    if (length > maxCount) {
      maxCount = length;
      maxCountChar = arr[i][0];
    }
  }
  return 'å‡ºç°æœ€å¤šçš„å€¼æ˜¯' + 
  maxCountChar + 'ï¼Œå‡ºç°æ¬¡æ•°ä¸º' + 
  maxCount;
}
var str = 'helloJavaScripthhellohtmlhellocss';
console.log(getMaxCount4(str));
```

- replace()å‡½æ•°
```js
function getMaxCount5(str) {
  var maxCount = 0, maxCountChar = '';
  while(str) {
    var originCount = str.length;
    var char = str[0];
    // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp
    // ç”Ÿæˆå¯¹åº”çš„æ­£åˆ™è¡¨è¾¾å¼
    var reg = new RegExp(char, 'g');
    // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace
    str = str.replace(reg, '');
    var remainCount = str.length;
    var charCount = originCount - remainCount;
    if(charCount > maxCount) {
      maxCount = charCount;
      maxCountChar = char;
    }
  }
  return 'å‡ºç°æœ€å¤šçš„å€¼æ˜¯' + 
  maxCountChar + 'ï¼Œå‡ºç°æ¬¡æ•°ä¸º' + 
  maxCount;
}
var str = 'helloJavaScripthhellohtmlhellocss';
console.log(getMaxCount5(str));
```

#### å­—ç¬¦ä¸²å»é‡
- key-valueç±»å‹çš„å¯¹è±¡å­˜å‚¨
```js
function removeDuplicateChar1(str) {
  var result = [];
  var json = {};
  for (var i = 0; i < str.length; i++) {
    var char = str[i];
    if(!json[char]) {
      json[char] = true;
      result.push(char);
    }
  }
  return result.join('');
}
var str = 'helloJavaScripthhellohtmlhellocss';
console.log(removeDuplicateChar1(str));
```
- filter()å‡½æ•°+indexOf()å‡½æ•°
```js
function removeDuplicateChar2(str) {
  return Array.prototype.filter
  .call(str, function(char, index, arr) {
    return arr.indexOf(char) === index;
  }).join('');
}
var str = 'helloJavaScripthhellohtmlhellocss';
console.log(removeDuplicateChar2(str));
```

- Setæ•°æ®ç»“æ„
```js
function removeDuplicateChar3(str) {
  let set = new Set(str.split(''));
  return [...set].join('');
}
var str = 'helloJavaScripthhellohtmlhellocss';
console.log(removeDuplicateChar3(str));
```

#### å›æ–‡å­—ç¬¦ä¸²
> ä¸€ä¸ªå­—ç¬¦ä¸²æ­£åºå’Œå€’åºæ˜¯ç›¸åŒçš„ï¼Œ'abcdcba';
- å·¦å³å¤¹å‡»
```js
function isPalindromicStr1(str) {
  if (!str.length) return true;
  str = str.toLowerCase().split('');
  var start = 0, end = str.length - 1;
  while (start < end) {
    if (str[start] === str[end]) {
      start++;
      end--;
    } else {
      return false;
    }
  }
  return true;
}
var str1 = 'abcdcba';
var str2 = 'abcedba';
console.log(isPalindromicStr1(str1), isPalindromicStr1(str2));
```
- é€’å½’å·¦å³å¤¹å‡»
```js
function isPalindromicStr2(str) {
  if (!str.length) return true;
  str = str.toLowerCase();
  let end = str.length - 1;
  if (str[0] !== str[end]) return false;
  return isPalindromicStr2(str.slice(1, end));
}
var str1 = 'abcdcba';
var str2 = 'abcedba';
console.log(isPalindromicStr2(str1),
 isPalindromicStr2(str2));
```

- é€†åºç›¸ç­‰æ³•
```js
function isPalindromicStr3(str) {
  if (!str.length) return true;
  str = str.toLowerCase();
  var arr = str.split('');
  var revereStr = arr.reverse().join('');
  return str === revereStr;
}
var str1 = 'abcdcba';
var str2 = 'abcedba';
console.log(isPalindromicStr3(str1), isPalindromicStr3(str2));
```

## è¿ç®—ç¬¦
### =
- ==ï¼šéšå¼è½¬æ¢ï¼Œæ¯”è¾ƒå€¼å¤§å°
- ===ï¼šä¼šä¼˜å…ˆæ¯”è¾ƒ`æ•°æ®ç±»å‹`ï¼Œç›¸åŒåˆ¤æ–­å€¼çš„å¤§å°

#### ===
1ã€å¦‚æœæ¯”è¾ƒçš„å€¼ç±»å‹ä¸ç›¸åŒï¼Œåˆ™ç›´æ¥è¿”å›â€œfalseâ€ã€‚
```js
1 === '1'; // false
true === 'true';  // false 
```
> åŸºæœ¬ç±»å‹æ•°æ®å­˜åœ¨åŒ…è£…ç±»å‹ã€‚åœ¨æœªä½¿ç”¨newæ“ä½œç¬¦æ—¶ï¼Œç®€å•ç±»å‹çš„æ¯”è¾ƒå®é™…ä¸ºå€¼çš„æ¯”è¾ƒï¼Œè€Œä½¿ç”¨äº†newæ“ä½œç¬¦åï¼Œå®é™…å¾—åˆ°çš„æ˜¯`å¼•ç”¨ç±»å‹`çš„å€¼ï¼Œåœ¨åˆ¤æ–­æ—¶ä¼šå› ä¸ºç±»å‹ä¸åŒè€Œç›´æ¥è¿”å›â€œfalseâ€ã€‚
```js
1 === Number(1);  // true
1 === new Number(1);  // false
// 'hello' === String('hello');  // true
// 'hello' === new String('hello'); // false
```
2ã€å¦‚æœæ¯”è¾ƒçš„å€¼éƒ½æ˜¯æ•°å€¼ç±»å‹ï¼Œåˆ™ç›´æ¥æ¯”è¾ƒå€¼çš„å¤§å°ï¼Œæœ‰NaNï¼Œå¿…false
```js
23 === 23;   // true
34 === NaN;  // false
NaN === NaN; // false
```
3ã€å¦‚æœæ¯”è¾ƒçš„å€¼éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ™åˆ¤æ–­æ¯ä¸ªä½ç½®çš„å­—ç¬¦æ˜¯å¦ä¸€æ ·
```js
'kingx' === 'kingx';   // true
'kingx' === 'kingx2';  // false
```
4ã€å¦‚æœæ¯”è¾ƒçš„å€¼éƒ½æ˜¯Booleanç±»å‹ï¼Œåˆ™ä¸¤è€…åŒæ—¶ä¸ºtrueæˆ–è€…falseæ—¶ï¼Œè¿”å›â€œtrueâ€ï¼Œå¦åˆ™è¿”å›â€œfalseâ€ã€‚
```js
false === false;  // true
true === false;   // false
```
5ã€å¦‚æœæ¯”è¾ƒçš„å€¼éƒ½æ˜¯nullæˆ–è€…undefinedï¼Œåˆ™è¿”å›â€œtrueâ€ï¼›å¦‚æœåªæœ‰ä¸€æ–¹ä¸ºnullæˆ–è€…undefinedï¼Œåˆ™è¿”å›â€œfalseâ€ã€‚
```js
null === null;   // true
undefined === undefined;   // tr
null === undefined;   // false
```
6ã€å¦‚æœæ¯”è¾ƒçš„å€¼éƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼Œåˆ™æ¯”è¾ƒçš„æ˜¯`å¼•ç”¨ç±»å‹çš„åœ°å€`ã€‚
```js
var a = [];
var b = a;
var c = [];
console.log(a === b); // true
console.log(a === c); // false
console.log({} === {}); // false
console.log([] === []); // false
```
> å®é™…ä¸Šï¼Œå¦‚æœä¸æ˜¯é€šè¿‡èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ=ï¼‰å°†å®šä¹‰çš„å¼•ç”¨ç±»å‹çš„å€¼èµ‹äºˆå˜é‡ï¼Œé‚£ä¹ˆå¼•ç”¨ç±»å‹çš„å€¼åœ¨æ¯”è¾ƒåéƒ½ä¼šè¿”å›â€œfalseâ€

> åªè¦æœ‰ä¸€ä¸ªå˜é‡æ˜¯é€šè¿‡newæ“ä½œç¬¦å¾—åˆ°çš„ï¼Œéƒ½ä¼šè¿”å›â€œfalseâ€ï¼ŒåŒ…æ‹¬åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»å‹ã€‚
```js
'hello' === new String('hello');  // false
new String('hello') === new String('hello');  // false
// å‡½æ•°å¯¹è±¡ç±»å‹
function Person(name) { this.name = name; }
var p1 = new Person('zhangsan');
var p2 = new Person('zhangsan');
console.log(p1 === p2);  // false
```

#### == 
> ä¸åŒºåˆ†æ•°æ®ç±»å‹ï¼Œè€Œä¸”ä¼šåšéšå¼ç±»å‹è½¬æ¢

**1ã€å¦‚æœæ¯”è¾ƒçš„å€¼ç±»å‹ç›¸åŒï¼Œåˆ™é‡‡ç”¨ä¸[ä¸‰ç­‰äº](#===)è¿ç®—ç¬¦ä¸€æ ·çš„è§„åˆ™ã€‚**
```js
123 === 123;    // true
false == false; // true
[] == [];       // false
{} == {};       // false
```
2ã€å¦‚æœæ¯”è¾ƒçš„å€¼ç±»å‹ä¸åŒï¼Œåˆ™ä¼šæŒ‰ç…§ä¸‹é¢çš„è§„åˆ™è¿›è¡Œè½¬æ¢åå†è¿›è¡Œæ¯”è¾ƒã€‚
- å¦‚æœæ¯”è¾ƒçš„ä¸€æ–¹æ˜¯nullæˆ–è€…undefined
```js
null == undefined;      // true
null == 1;             // false
null == false;         // false
undefined == 0;         // false
undefined == false;      // false
```
- **å¦‚æœæ¯”è¾ƒçš„æ˜¯å­—ç¬¦ä¸²å’Œæ•°å€¼ç±»å‹æ•°æ®ï¼Œåˆ™ä¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼åå†è¿›è¡Œæ¯”è¾ƒ**
```js
1 == '1';     // true
123 == '123'; // true
// å¦‚æœå­—ç¬¦ä¸²æ˜¯åå…­è¿›åˆ¶çš„æ•°æ®ï¼Œä¼šè½¬æ¢ä¸ºåè¿›åˆ¶åå†è¿›è¡Œæ¯”è¾ƒã€‚
'0x15' == 21;  // true
// å­—ç¬¦ä¸²å¹¶ä¸æ”¯æŒå…«è¿›åˆ¶çš„æ•°æ®
'020' == 16;  // false
'020' == 20;  // true
```
- å¦‚æœä»»ä¸€ç±»å‹æ˜¯booleanå€¼ï¼Œåˆ™ä¼š==å°†booleanç±»å‹çš„å€¼è¿›è¡Œè½¬æ¢==
```js
'1' == true;    // true
'0' == false;   // true
'0.0' == false; // true
'true' == true; // false
```
ä¸Šè¿°ä»£ç ä¸­ï¼Œtrueä¼šè½¬æ¢ä¸º1ï¼Œfalseä¼šè½¬æ¢ä¸º0ï¼Œå­—ç¬¦ä¸²'1'ä¼šè½¬æ¢ä¸º1ï¼Œ'0'å’Œ'0.0'ä¼šè½¬æ¢ä¸º0ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒã€‚

è€Œå­—ç¬¦ä¸²'true'ä¸èƒ½æ­£å¸¸è½¬æ¢ä¸ºæ•°å­—ï¼Œæœ€ç»ˆè½¬æ¢ä¸ºNaNï¼Œæ‰€ä»¥'true'ä¸trueçš„æ¯”è¾ƒä¼šè¿”å›â€œfalseâ€ã€‚

- å¦‚æœå…¶ä¸­ä¸€ä¸ªå€¼æ˜¯å¯¹è±¡ç±»å‹ï¼Œå¦ä¸€ä¸ªå€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹æˆ–è€…å¯¹è±¡ç±»å‹ï¼Œåˆ™ä¼šè°ƒç”¨å¯¹è±¡çš„valueOf()å‡½æ•°æˆ–è€…toString()å‡½æ•°ï¼Œå°†å…¶è½¬æ¢æˆåŸºæœ¬æ•°æ®ç±»å‹åå†ä½œæ¯”è¾ƒ
[è¯¦è§](#å°ç»“)

### typeof
ç”¨äºè¿”å›æ“ä½œæ•°çš„æ•°æ®ç±»å‹ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§ä½¿ç”¨å½¢å¼ã€‚
- typeof operand
- typeof (operand)
- operandè¡¨ç¤ºéœ€è¦è¿”å›æ•°æ®ç±»å‹çš„æ“ä½œæ•°ï¼Œå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€‚
> æ‹¬å·æœ‰çš„æ—¶å€™æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœä¸åŠ ä¸Šæ‹¬å·å°†ä¼šå› ä¸ºä¼˜å…ˆçº§çš„é—®é¢˜å¾—ä¸åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚

| ç±»å‹| ç»“æœ | 
| --- | --- | 
| Undefined| "undefined" |
| Null | "object" |
| Boolean | "boolean" |
| Number | "number" |
| String | "string" |
| Symbol(es6) | "symbol" |
| å‡½æ•°å¯¹è±¡ | "function" |
| ä»»ä½•å…¶ä»–å¯¹è±¡ | "object" |

#### Undefined
3ç§ç‰¹æ®Šæƒ…å†µ
```js
var declaredButUndefinedVariable;
typeof undefined === 'undefined';    // trueï¼Œundefinedæœ¬èº«
typeof declaredButUndefinedVariable === 'undefined';  // trueï¼Œå·²å£°æ˜æœªåˆå§‹åŒ–çš„å˜é‡
typeof undeclaredVariable === 'undefined';  // trueï¼Œæœªå£°æ˜çš„å˜é‡
```
#### Boolean
å¤„ç†è¿™ä¸¤ä¸ªå€¼ä»¥åŠå®ƒä»¬çš„åŒ…è£…ç±»å‹(ä¸æ¨è)æ—¶éƒ½ä¼šè¿”å›â€œbooleanâ€
```js
typeof true === 'boolean';          // true
typeof false === 'boolean';         // true
typeof Boolean(true) === 'boolean'; // trueï¼Œä¸æ¨èè¿™ä¹ˆå†™
```
#### Number
å¤„ç†ä»¥ä¸‹æƒ…å†µä¼šè¿”å›â€œnumberâ€
- æ•°å­—ï¼Œå¦‚1ã€123ã€145ã€‚
- Numberç±»å‹çš„é™æ€å˜é‡ï¼Œå¦‚Number.MAX_VALUEã€Number.EPSILONç­‰ã€‚
- Mathå¯¹è±¡çš„é™æ€å˜é‡å€¼ï¼Œå¦‚Math.PIã€Math.LN2ï¼ˆä»¥eä¸ºåº•ï¼Œ2çš„å¯¹æ•°ï¼‰ã€‚
- NaNï¼Œè™½ç„¶NaNæ˜¯Not a Numberçš„ç¼©å†™ï¼Œä½†å®ƒæ˜¯Numberç±»å‹çš„å€¼ã€‚
- Infinityå’Œ-Infinityï¼Œè¡¨ç¤ºçš„æ˜¯æ— ç©·å¤§å’Œæ— ç©·å°çš„æ•°ã€‚
- æ•°å€¼ç±»å‹çš„åŒ…è£…ç±»å‹(ä¸æ¨è)ï¼Œå¦‚Number(1)ã€Number(123)
```js
typeof 37 === 'number';        // true
typeof 3.14 === 'number';      // true
typeof Math.LN2 === 'number';  // true
typeof Infinity === 'number';   // true
typeof NaN === 'number';       // true
typeof Number(1) === 'number'; // trueï¼Œä¸æ¨èè¿™ä¹ˆå†™
```
#### String
å¤„ç†ä»¥ä¸‹æƒ…å†µä¼šè¿”å›â€œstringâ€
- ä»»ä½•ç±»å‹çš„å­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬ç©ºå­—ç¬¦ä¸²å’Œéç©ºå­—ç¬¦ä¸²ã€‚
- è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„è¡¨è¾¾å¼ã€‚
- å­—ç¬¦ä¸²ç±»å‹çš„åŒ…è£…ç±»å‹(ä¸æ¨è)ï¼Œä¾‹å¦‚String('hello')ã€String('hello' +'world')ã€‚
```js
typeof "" === 'string';            // true
typeof "bla" === 'string';         // true
typeof (typeof 1) === 'string';    // trueï¼Œå› ä¸ºtypeofä¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²
typeof String("abc") === 'string'; // trueï¼Œä¸æ¨èè¿™ä¹ˆå†™
```
#### Symbol
ES6ä¸­æ–°å¢çš„åŸç”Ÿæ•°æ®ç±»å‹ï¼Œè¡¨ç¤ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼
```js
typeof Symbol() === 'symbol';      // true
typeof Symbol('foo') === 'symbol'; // true
```
#### Function
- å‡½æ•°çš„å®šä¹‰ï¼ŒåŒ…æ‹¬å‡½æ•°å£°æ˜æˆ–è€…å‡½æ•°è¡¨è¾¾å¼ä¸¤ç§å½¢å¼ã€‚
- ä½¿ç”¨classå…³é”®å­—å®šä¹‰çš„ç±»ï¼Œclassæ˜¯åœ¨ES6ä¸­æ–°å¢çš„å…³é”®å­—ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªå…¨æ–°çš„æ¦‚å¿µï¼ŒåŸç†ä¾æ—§æ˜¯åŸå‹ç»§æ‰¿ï¼Œæœ¬è´¨ä¸Šä»ç„¶æ˜¯ä¸€ä¸ªFunctionã€‚
- æŸäº›å†…ç½®å¯¹è±¡çš„ç‰¹å®šå‡½æ•°ï¼Œä¾‹å¦‚Math.sin()å‡½æ•°ã€Number.isNaN()å‡½æ•°ç­‰ã€‚
- Functionç±»å‹å¯¹è±¡çš„å®ä¾‹ï¼Œä¸€èˆ¬é€šè¿‡newå…³é”®å­—å¾—åˆ°ã€‚
```js
var foo = function () {};
function foo2() {}

typeof foo === 'function';       // trueï¼Œå‡½æ•°è¡¨è¾¾å¼
typeof foo2 === 'function';      // trueï¼Œå‡½æ•°å£°æ˜
typeof class C{} === 'function'; // true
typeof Math.sin === 'function';  // true
typeof new Function() === 'function';  // trueï¼Œnewæ“ä½œç¬¦å¾—åˆ°Functionç±»å‹çš„å®ä¾‹
```
#### Object
- å¯¹è±¡å­—é¢é‡å½¢å¼ï¼Œä¾‹å¦‚{name: 'ming'}ã€‚
- æ•°ç»„ï¼Œä¾‹å¦‚[1, 2, 3]å’ŒArray(1, 2, 3)ã€‚
- æ‰€æœ‰æ„é€ å‡½æ•°é€šè¿‡newæ“ä½œç¬¦å®ä¾‹åŒ–åå¾—åˆ°çš„å¯¹è±¡ï¼Œä¾‹å¦‚new Date()ã€new function(){}ï¼Œä½†æ˜¯new Function(){}é™¤å¤–ã€‚
- é€šè¿‡newæ“ä½œç¬¦å¾—åˆ°çš„åŸºæœ¬æ•°æ®ç±»å‹çš„åŒ…è£…ç±»å‹å¯¹è±¡(ä¸æ¨è)ï¼Œå¦‚new Boolean(true)ã€newNumber(1)ã€‚

> æ¶‰åŠåŒ…è£…ç±»å‹æ—¶ï¼Œä½¿ç”¨äº†newæ“ä½œç¬¦ä¸æ²¡æœ‰ä½¿ç”¨newæ“ä½œç¬¦å¾—åˆ°çš„å€¼åœ¨é€šè¿‡typeofè¿ç®—ç¬¦å¤„ç†åå¾—åˆ°çš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼Œå¾ˆå®¹æ˜“è®©äººæ··æ·†ã€‚
```js
typeof { a: 1 } === 'object';      // trueï¼Œå¯¹è±¡å­—é¢é‡
typeof [1, 2, 4] === 'object';  // trueï¼Œæ•°ç»„
typeof new Date() === 'object'; // trueï¼ŒDateå¯¹è±¡çš„å®ä¾‹
// ä¸‹é¢çš„ä»£ç å®¹æ˜“ä»¤äººè¿·æƒ‘ï¼Œä¸è¦ä½¿ç”¨ï¼
typeof Boolean(true) === 'boolean';  // true
typeof new Boolean(true) === 'object';  // true
typeof Number(1) === 'number';      // true
typeof new Number(1) === 'object';      // true
typeof String("abc") === 'string';  // true
typeof new String("abc") === 'object';  // true
```

#### åŒºåˆ†Objectå’ŒFunction
> ä»æŠ€æœ¯è§’åº¦è®²ï¼Œå‡½æ•°åœ¨ECMAScriptä¸­æ˜¯å¯¹è±¡ï¼Œä¸æ˜¯ä¸€ç§æ•°æ®ç±»å‹ã€‚

#### å¯¹nullçš„å¤„ç†
> ä½¿ç”¨typeofè¿ç®—ç¬¦å¯¹nullè¿›è¡Œå¤„ç†ï¼Œè¿”å›çš„æ˜¯â€œobjectâ€

Why?
-
åœ¨JavaScriptä¸­ï¼Œæ¯ç§æ•°æ®ç±»å‹éƒ½ä¼šä½¿ç”¨`3bit`è¡¨ç¤ºã€‚
- 000è¡¨ç¤ºObjectç±»å‹çš„æ•°æ®ã€‚
- 001è¡¨ç¤ºIntç±»å‹çš„æ•°æ®ã€‚
- 010è¡¨ç¤ºDoubleç±»å‹çš„æ•°æ®ã€‚
- 100è¡¨ç¤ºStringç±»å‹çš„æ•°æ®ã€‚
- 110è¡¨ç¤ºBooleanç±»å‹çš„æ•°æ®ã€‚

ç”±äºnullä»£è¡¨çš„æ˜¯ç©ºæŒ‡é’ˆï¼Œå¤§å¤šæ•°å¹³å°ä¸­å€¼ä¸º0x00ï¼Œå› æ­¤nullçš„ç±»å‹æ ‡ç­¾å°±æˆäº†0ï¼Œæ‰€ä»¥ä½¿ç”¨typeofè¿ç®—ç¬¦æ—¶ä¼šåˆ¤æ–­ä¸ºobjectç±»å‹ï¼Œè¿”å›â€œobjectâ€ï¼Œè™½ç„¶åœ¨åé¢çš„ææ¡ˆä¸­æœ‰æå‡ºä¿®å¤æ–¹æ¡ˆï¼Œä½†æ˜¯å› ä¸ºå½±å“é¢å¤ªå¤§ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰è¢«é‡‡çº³ï¼Œä»è€Œå¯¼è‡´è¿™ä¸ªé—®é¢˜ä¸€ç›´å­˜åœ¨ã€‚

#### ç›¸å…³è¯­æ³•çš„æ‹¬å·
```js
var number = 123;
typeof (number + ' hello');  // "string"
typeof number + ' hello';    // "number hello"
```
è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§: () > typeof > +
```js
typeof 1 / 0;     // NaN
typeof (1 / 0);   // "number"
```

### ,
- åŸºæœ¬çš„åˆ†éš”ç¬¦
```js
console.log('æˆ‘å–œæ¬¢å»%sä¸Šå­¦ä¹ %s', 'é¢è¯•å…', 'JavaScript'); // æˆ‘å–œæ¬¢å»é¢è¯•å…ä¸Šå­¦ä¹ JavaScript
```
- è¿ç®—ç¬¦
> ä½œç”¨æ˜¯å°†å¤šä¸ªè¡¨è¾¾å¼è¿æ¥èµ·æ¥ï¼Œä»å·¦è‡³å³ä¾æ¬¡æ‰§è¡Œã€‚

```js
var x;
x = 8 * 2, x * 4 // 64
y = x = 8 * 2, x * 4
console.log(y) // 16
```
#### forå¾ªç¯æ‰¹é‡æ‰§è¡Œè¡¨è¾¾å¼
```js
// å¦‚æœä¸€ä¸ªforå¾ªç¯ä¸­æœ‰å¤šä¸ªå˜é‡éœ€è¦æ‰§è¡Œè¡¨è¾¾å¼ï¼Œå¯ä»¥é€šè¿‡é€—å·è¿ç®—ç¬¦ä¸€æ¬¡æ€§æ‰§è¡Œã€‚
for (var i = 0, j = 10; i < 10, j < 20; i++, j++) {
  console.log(i, j); 
}
```
#### äº¤æ¢å˜é‡ğŸ’¥
```js
var a = 'a';
var b = 'b';
var c;

c = a;
a = b;
b = c;
```
ä½¿ç”¨é€—å·è¿ç®—ç¬¦
```js
var a = 'a';
var b = 'b';
// æ–¹æ¡ˆ1
a = [b, b = a][0];
// æ–¹æ¡ˆ2
a = [b][b = a, 0];
```
åœ¨æ–¹æ¡ˆ1ä¸­ï¼Œå‰ä¸€éƒ¨åˆ†[b, b = a]æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œæ•°ç»„ç¬¬äºŒé¡¹å€¼æ˜¯b = aï¼Œå®é™…ä¼šå°†aå€¼èµ‹ç»™bï¼Œç„¶åè¿”å›â€œ'a'â€ï¼Œå› æ­¤æ•°ç»„æœ€ç»ˆçš„å€¼ä¸º['b', 'a']ï¼Œç„¶åå–ç´¢å¼•0çš„å€¼ä¸º'b'ï¼Œèµ‹ç»™å˜é‡aï¼Œæœ€ç»ˆå®ç°a = 'b', b = 'a'ã€‚

åœ¨æ–¹æ¡ˆ2ä¸­ï¼Œå‰ä¸€éƒ¨åˆ†[b]æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œåä¸€éƒ¨åˆ†[b = a,0]ï¼Œå®é™…ä¼šå…ˆæ‰§è¡Œb = aï¼Œå°†aå€¼èµ‹ç»™bï¼Œç„¶åè¿”å›â€œ0â€ï¼Œå› æ­¤åä¸€éƒ¨åˆ†å®é™…æ˜¯ä¿®æ”¹äº†bçš„å€¼å¹¶è¿”å›ç´¢å¼•â€œ0â€ï¼Œæœ€ç»ˆæ˜¯a = [b][0]ï¼Œå³a = bï¼Œå®ç°äº†aä¸bçš„äº¤æ¢ã€‚

#### ç®€åŒ–ä»£ç ğŸ’¥
> ==å› ä¸ºé€—å·è¿ç®—ç¬¦å¯ä»¥ä½¿å¤šä¸ªè¡¨è¾¾å¼å…ˆåæ‰§è¡Œï¼Œå¹¶ä¸”è¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼==
```js
if (x) {
   foo();
   return bar();
} else {
   return 1;
}
// ä½¿ç”¨é€—å·è¿ç®—ç¬¦ç®€å†™å
x ? (foo(), bar()) : 1;
```

#### å°æ‹¬å·ä¿è¯é€—å·è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§
```js
var a = 20;
var b = ++a, 10;
// var b = (++a, 10); // 10
console.log(b);  // Uncaught SyntaxError: Unexpected number
```
å¯¹äºä¸Šé¢çš„è¯­å¥ï¼Œé¦–å…ˆå®šä¹‰ä¸€ä¸ªå˜é‡aï¼Œç„¶åä½¿ç”¨é€—å·è¿ç®—ç¬¦å¯¹å˜é‡aæ‰§è¡Œè‡ªå¢æ“ä½œï¼ŒåŒæ—¶è¿”å›â€œ10â€ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™å˜é‡bã€‚æˆ‘ä»¬å¯èƒ½ä¼šè®¤ä¸ºæœ€åè¾“å‡ºbçš„å€¼ä¸º10ï¼Œä½†æ˜¯è¿è¡Œåå´æŠ›å‡ºäº†å¼‚å¸¸ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼ŒåŒæ—¶å‡ºç°äº†èµ‹å€¼è¿ç®—ç¬¦ä¸é€—å·è¿ç®—ç¬¦ï¼Œå› ä¸ºé€—å·è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§æ¯”è¾ƒä½ï¼Œå®é™…ä¼šå…ˆæ‰§è¡Œèµ‹å€¼è¿ç®—ç¬¦ï¼Œå³å…ˆæ‰§è¡Œvar b = ++aè¯­å¥ï¼Œå†å»æ‰§è¡Œåé¢çš„10ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„è¯­å¥ï¼Œæ‰€ä»¥ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚

### ä¼˜å…ˆçº§
> a OP1 b OP2 c
```js
// è¯­å¥1: å› ä¸ºä¼˜å…ˆçº§ç›¸åŒï¼Œæ‰€ä»¥ä¼šä»å³åˆ°å·¦ä¾æ¬¡è¿è¡Œ
a = b = c;  // a = b = 10; => a = 10; b = 10;
// è¯­å¥2: å› ä¸ºä¼˜å…ˆçº§ç›¸åŒï¼Œæ‰€ä»¥ä»å·¦è‡³å³ä¾æ¬¡æ‰§è¡Œ
a > b > c; // 6 > 4 > 3 => true > 3 // false
```

#### ä¼˜å…ˆçº§è¡¨
| ä¼˜å…ˆçº§ | è¿ç®—ç±»å‹ | å…³è”æ€§ | è¿ç®—ç¬¦ | ä¸¾ä¾‹ |
| --- | --- | --- | --- | ---|
| 20 | åœ†æ‹¬å· | æ—  | (...) | (1 + 2) |
| 19 | æˆå‘˜è®¿é—® | ä»å·¦åˆ°å³ | ... . ... | data.name |
| 19 | éœ€è®¡ç®—çš„æˆå‘˜è®¿é—® | ä»å·¦åˆ°å³ | ...[...] | arr[0] |
| 19 | new(å¸¦å‚æ•°åˆ—è¡¨) | æ—  | new ...(...) | new Array(a, b) |
| 19 | å‡½æ•°è°ƒç”¨ | ä»å·¦åˆ°å³ | ...(...) | foo(a, b) |
| 18 | new(æ— å‚æ•°åˆ—è¡¨) | ä»å³åˆ°å·¦ | new ... | new String() |
| 17 | åç½®é€’å¢(è¿ç®—ç¬¦åœ¨å) | æ—  | ...++ | a++ |
| 17 | åç½®é€’å‡(è¿ç®—ç¬¦åœ¨å) | æ—  | ...-- | a-- |
| 16 | é€»è¾‘é | ä»å³åˆ°å·¦ | !... | !undefined |
| 16 | æŒ‰ä½é | ä»å³åˆ°å·¦ | ~... | ~12 |
| 16 | ä¸€å…ƒåŠ æ³• | ä»å³åˆ°å·¦ | +... | +12 |
| 16 | ä¸€å…ƒåŠ æ³• | ä»å³åˆ°å·¦ | +... | -12 |
| 16 | å‰ç½®é€’å¢(è¿ç®—ç¬¦åœ¨å‰) | ä»å³åˆ°å·¦ | ++... | ++a |
| 16 | å‰ç½®é€’å‡(è¿ç®—ç¬¦åœ¨å‰) | ä»å³åˆ°å·¦ | --... | --a |
| 16 | typeof | ä»å³åˆ°å·¦ | typeof... | typeof 123 |
| 16 | void | ä»å³åˆ°å·¦ | void... | â“ |
| 16 | delete | ä»å³åˆ°å·¦ | delete... | delete obj.name |
| 16 | await | ä»å³åˆ°å·¦ | await... | await foo(); â“ |
| 15 | å¹‚ | ä»å³åˆ°å·¦ | ...**... | 2 ** 3 |
| 14 | ä¹˜æ³• | ä»å·¦åˆ°å³ | ...*... | 2 * 3 |
| 14 | é™¤æ³• | ä»å·¦åˆ°å³ | .../... | 2 / 3 |
| 14 | å–æ¨¡ | ä»å·¦åˆ°å³ | ...%... | 2 % 3 |
| 13 | åŠ æ³• | ä»å·¦åˆ°å³ | ...+... | 2 + 3 |
| 13 | å‡æ³• | ä»å·¦åˆ°å³ | ...-... | 2 - 3 |
| 12 | æŒ‰ä½å·¦ç§» | ä»å·¦åˆ°å³ | ...<<... | 2 << 3 |
| 12 | æŒ‰ä½å³ç§» | ä»å·¦åˆ°å³ | ...>>... | 2 >> 3 |
| 12 | æ— ç¬¦å·å³ç§» | ä»å·¦åˆ°å³ | ...>>>... | 2 >>> 3 |
| 11 | å°äº | ä»å·¦åˆ°å³ | ...<... | 2 < 3 |
| 11 | å°äºç­‰äº | ä»å·¦åˆ°å³ | ...<=... | 2 <= 3 |
| 11 | å¤§äº | ä»å·¦åˆ°å³ | ...>... | 2 > 3 |
| 11 | å¤§äºç­‰äº | ä»å·¦åˆ°å³ | ...>=... | 2 >= 3 |
| 11 | in | ä»å·¦åˆ°å³ | ... in ... | name in obj |
| 11 | instanceof | ä»å·¦åˆ°å³ | ... instanceof ... | 
Function instanceof Object |
| 10 | ç­‰å· | ä»å·¦åˆ°å³ | ... == ... | 2 == 3 |
| 10 | éç­‰å· | ä»å·¦åˆ°å³ | ... != ... | 2 != 3 |
| 10 | å…¨ç­‰å· | ä»å·¦åˆ°å³ | ... === ... | 2 === 3 |
| 10 | éå…¨ç­‰å· | ä»å·¦åˆ°å³ | ... !== ... | 2 !== 3 |
| 9 | æŒ‰ä½ä¸ | ä»å·¦åˆ°å³ | ... & ... | 2 & 3 |
| 8 | æŒ‰å¼‚æˆ– | ä»å·¦åˆ°å³ | ... ^ ... | 2 ^ 3 |
| 7 | æŒ‰ä½æˆ– | ä»å·¦åˆ°å³ | ... \| ... | 2 \| 3 |
| 6 | é€»è¾‘ä¸ | ä»å·¦åˆ°å³ | ... && ... | 2 && 3 |
| 5 | é€»è¾‘æˆ– | ä»å·¦åˆ°å³ | ... || ... | 2 || 3 |
| 4 | æ¡ä»¶è¿ç®—ç¬¦ | ä»å³åˆ°å·¦ | ... ? ... : ... | true ? 3 : 2 |
| 3 | èµ‹å€¼ | ä»å³åˆ°å·¦ | ... = ... | a = 3 |
| 3 | èµ‹å€¼ | ä»å³åˆ°å·¦ | ... += ... | a += 3 |
| 3 | èµ‹å€¼ | ä»å³åˆ°å·¦ | ... -= ... | a -= 3 |
| 3 | èµ‹å€¼ | ä»å³åˆ°å·¦ | ... *= ... | a *= 3 |
| 3 | èµ‹å€¼ | ä»å³åˆ°å·¦ | ... /= ... | a /= 3 |
| 3 | èµ‹å€¼ | ä»å³åˆ°å·¦ | ... %= ... | a %= 3 |
| 3 | èµ‹å€¼ | ä»å³åˆ°å·¦ | ... <<= ... | a <<= 3 |
| 3 | èµ‹å€¼ | ä»å³åˆ°å·¦ | ... >>= ... | a >>= 3 |
| 3 | èµ‹å€¼ | ä»å³åˆ°å·¦ | ... >>>= ... | a >>>= 3 |
| 3 | èµ‹å€¼ | ä»å³åˆ°å·¦ | ... &= ... | a &= 3 |
| 3 | èµ‹å€¼ | ä»å³åˆ°å·¦ | ... ^= ... | a ^= 3 |
| 3 | èµ‹å€¼ | ä»å³åˆ°å·¦ | ... \|= ... | a \|= 3 |
| 2 | yield | ä»å³åˆ°å·¦ | yield ... | â“ |
| 2 | yield * | ä»å³åˆ°å·¦ | yield* ... | â“ |
| 1 | å±•å¼€è¿ç®—ç¬¦(...) | æ—  | ... ... | ...[1, 2] |
| 0 | é€—å· | æ—  | ... ... | ... , ... | x = 4 * 2, x * 4 |
 
å°è¯•ç‰›åˆ€
```js
var arr = [];
var y = arr.length <= 0 || arr[0] === undefined ? x : arr[0];
// å°äºç­‰äºï¼ˆ<=ï¼‰ã€å…¨ç­‰å·ï¼ˆ===ï¼‰ã€é€»è¾‘æˆ–ï¼ˆ||ï¼‰ã€æ¡ä»¶è¿ç®—ç¬¦ï¼ˆ?:ï¼‰ã€‚
// å®é™…è§„åˆ™
var y = ((arr.length <= 0) || (arr[0] === undefined)) ? x : arr[0];
```

> å°æ‹¬å·å¹¶ä¸æ˜¯è¿ç®—ç¬¦ï¼Œæ‰€ä»¥ä¸å…·æœ‰æ±‚å€¼ä½œç”¨ï¼Œå®ƒåªæ”¹å˜è¿ç®—çš„ä¼˜å…ˆçº§ã€‚

```js
var x = 1;
// ä¸‹é¢çš„ä»£ç å¯ä»¥è¿è¡Œï¼Œè¿™éªŒè¯äº†å°æ‹¬å·åªä¼šæ”¹å˜ä¼˜å…ˆçº§ï¼Œä¸ä¼šæ±‚å€¼ã€‚
(x) = 2;

(expression)
// ç­‰åŒäº
expression
```

```js
function f() { return 1; }
// å‡½æ•°æ”¾åœ¨å°æ‹¬å·ä¸­ï¼Œä¼šè¿”å›å‡½æ•°æœ¬èº«ã€‚
(f); // function f() { return 1; }
// è°ƒç”¨å‡½æ•°
f(); // 1
```
> å°æ‹¬å·ä¹‹ä¸­åªèƒ½æ”¾ç½®è¡¨è¾¾å¼ï¼Œå¦‚æœå°†è¯­å¥æ”¾åœ¨å°æ‹¬å·ä¹‹ä¸­ï¼Œå°±ä¼šæŠ¥é”™ã€‚
```js
(var a = 1); // Uncaught SyntaxError: Unexpected token 'var'
```

## toString()ã€valueOf()
> åœ¨JavaScriptä¸­ï¼ŒtoString()å‡½æ•°ä¸valueOf()å‡½æ•°è§£å†³çš„æ˜¯`å€¼`çš„`æ˜¾ç¤º`å’Œ`è¿ç®—`çš„é—®é¢˜ï¼Œæ‰€æœ‰==å¼•ç”¨ç±»å‹==éƒ½æ‹¥æœ‰è¿™ä¸¤ä¸ªå‡½æ•°ã€‚

### toString()
æŠŠä¸€ä¸ªé€»è¾‘å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç»“æœã€‚

Objectç±»å‹æ•°æ®çš„toString()å‡½æ•°é»˜è®¤çš„è¿”å›ç»“æœæ˜¯"[object Object]"

å½“æˆ‘ä»¬è‡ªå®šä¹‰æ–°çš„ç±»æ—¶ï¼Œå¯ä»¥é‡å†™toString()å‡½æ•°ï¼Œè¿”å›å¯è¯»æ€§æ›´é«˜çš„ç»“æœã€‚

åœ¨JavaScriptä¸­ï¼ŒArrayï¼ŒFunctionï¼ŒDateç­‰ç±»å‹éƒ½å®ç°äº†è‡ªå®šä¹‰çš„toString()å‡½æ•°ã€‚
```js
// Array
[1, 2, 3].toString(); // '1,2,3'
// Function
(function(x){return x *2;}).toString(); // 'function(x){return x *2;}'
// Date
new Date().toString(); // 'Thu May 18 2023 20:37:29 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)'
```

### valueOf()
> è¿”å›æœ€é€‚åˆå¼•ç”¨ç±»å‹çš„åŸå§‹å€¼ï¼Œå¦‚æœæ²¡æœ‰åŸå§‹å€¼ï¼Œåˆ™ä¼šè¿”å›å¼•ç”¨ç±»å‹è‡ªèº«ã€‚

Objectç±»å‹æ•°æ®çš„valueOf()å‡½æ•°é»˜è®¤çš„è¿”å›ç»“æœæ˜¯"{}"ï¼Œå³ä¸€ä¸ªç©ºçš„å¯¹è±¡å­—é¢é‡ã€‚

å¯¹äºArrayã€Functionã€Dateç­‰ç±»å‹ï¼ŒvalueOf()å‡½æ•°çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
```js
// Array
[1, 2, 3].valueOf(); // Â [1, 2, 3]
// Function
(function(x){return x * 2;}).valueOf() // function(x){return x * 2;}
// Date
new Date().valueOf(); // 1684413780643
```

### ä¸¤ç§åœºæ™¯
#### å¼•ç”¨ç±»å‹è½¬æ¢ä¸ºStringç±»å‹
1. å¦‚æœå¯¹è±¡å…·æœ‰toString()å‡½æ•°ï¼Œåˆ™ä¼šä¼˜å…ˆè°ƒç”¨toString()å‡½æ•°ã€‚å¦‚æœå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ä¼šç›´æ¥å°†è¿™ä¸ªåŸå§‹å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨ç¤ºï¼Œå¹¶è¿”å›è¯¥å­—ç¬¦ä¸²ã€‚
2. å¦‚æœå¯¹è±¡æ²¡æœ‰toString()å‡½æ•°ï¼Œæˆ–è€…toString()å‡½æ•°è¿”å›çš„ä¸æ˜¯ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ä¼šå†å»è°ƒç”¨valueOf()å‡½æ•°ï¼Œå¦‚æœvalueOf()å‡½æ•°è¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ä¼šå°†è¿™ä¸ªç»“æœè½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨ç¤ºï¼Œå¹¶è¿”å›è¯¥å­—ç¬¦ä¸²ã€‚
3. å¦‚æœé€šè¿‡toString()å‡½æ•°æˆ–è€…valueOf()å‡½æ•°éƒ½æ— æ³•è·å¾—ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ä¼šç›´æ¥æŠ›å‡ºç±»å‹è½¬æ¢å¼‚å¸¸ã€‚
```js
var arr = [];
arr.toString = function () {
  console.log('æ‰§è¡Œäº†toString()å‡½æ•°');
  return [];
};
arr.valueOf = function () {
  console.log('æ‰§è¡Œäº†valueOf()å‡½æ•°');
  return [];
};
console.log(String(arr)); 
// æ‰§è¡Œé¡ºåº
// 1ã€æ‰§è¡Œäº†toString()å‡½æ•°
// 2ã€æ‰§è¡Œäº†valueOf()å‡½æ•°
// 3ã€TypeError: Cannot convert Object to primitive value
```
#### å¼•ç”¨ç±»å‹è½¬æ¢ä¸ºNumberç±»å‹
1. å¦‚æœå¯¹è±¡å…·æœ‰valueOf()å‡½æ•°ï¼Œåˆ™ä¼šä¼˜å…ˆè°ƒç”¨valueOf()å‡½æ•°ï¼Œå¦‚æœvalueOf()å‡½æ•°è¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ä¼šç›´æ¥å°†è¿™ä¸ªåŸå§‹å€¼è½¬æ¢ä¸ºæ•°å­—è¡¨ç¤ºï¼Œå¹¶è¿”å›è¯¥æ•°å­—ã€‚
2. å¦‚æœå¯¹è±¡æ²¡æœ‰valueOf()å‡½æ•°ï¼Œæˆ–è€…valueOf()å‡½æ•°è¿”å›çš„ä¸æ˜¯åŸç”Ÿæ•°æ®ç±»å‹ï¼Œåˆ™ä¼šå†å»è°ƒç”¨toString()å‡½æ•°ï¼Œå¦‚æœtoString()å‡½æ•°è¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ä¼šå°†è¿™ä¸ªç»“æœè½¬æ¢ä¸ºæ•°å­—è¡¨ç¤ºï¼Œå¹¶è¿”å›è¯¥æ•°å­—ã€‚
3. å¦‚æœé€šè¿‡toString()å‡½æ•°æˆ–è€…valueOf()å‡½æ•°éƒ½æ— æ³•è·å¾—ä¸€ä¸ªåŸå§‹å€¼ï¼Œåˆ™ä¼šç›´æ¥æŠ›å‡ºç±»å‹è½¬æ¢å¼‚å¸¸ã€‚
```js
var arr = [];
arr.toString = function () {
   console.log('æ‰§è¡Œäº†toString()å‡½æ•°');
   return [];
};
arr.valueOf = function () {
   console.log('æ‰§è¡Œäº†valueOf()å‡½æ•°');
   return [];
};
console.log(Number(arr));
// æ‰§è¡Œé¡ºåº
// 1ã€æ‰§è¡Œäº†valueOf()å‡½æ•°
// 2ã€æ‰§è¡Œäº†toString()å‡½æ•°
// 3ã€TypeError: Cannot convert Object to primitive value
```

#### å°ç»“
> é™¤äº†Dateç±»å‹ä»¥å¤–çš„å¼•ç”¨ç±»å‹æ•°æ®è½¬æ¢ä¸ºåŸç”Ÿæ•°æ®ç±»å‹æ—¶
> ç”¨äºæ•°æ®è¿ç®—ï¼švalueOf => toString => error
> ç”¨äºæ•°æ®å±•ç¤ºï¼štoString => valueOf => error

```js
// Number([]) = 0;
[] == 0 // true 
// Number([1]) = 1;
[1] == 1 // true
// Number([2]) = 2;
[2] == 2 // true
```
åœ¨ç¬¬ä¸€è¡Œä¸­ï¼Œç©ºæ•°ç»„å¯ä»¥è½¬æ¢ä¸ºæ•°å­—0ï¼›åœ¨ç¬¬äºŒè¡Œå’Œç¬¬ä¸‰è¡Œä¸­ï¼Œåªæœ‰ä¸€ä¸ªæ•°å­—å…ƒç´ çš„æ•°ç»„å¯ä»¥è½¬æ¢ä¸ºè¯¥æ•°å­—ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

å› ä¸ºæ•°ç»„ç»§æ‰¿äº†Objectç±»å‹é»˜è®¤çš„valueOf()å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°[è¿”å›çš„æ˜¯æ•°ç»„è‡ªèº«](#valueOf())ï¼Œè€Œä¸æ˜¯åŸç”Ÿæ•°æ®ç±»å‹ï¼Œæ‰€ä»¥ä¼šç»§ç»­è°ƒç”¨toString()å‡½æ•°ã€‚æ•°ç»„è°ƒç”¨toString()å‡½æ•°æ—¶ä¼š[è¿”å›æ•°ç»„å…ƒç´ ä»¥é€—å·ä½œä¸ºåˆ†éš”ç¬¦æ„æˆçš„å­—ç¬¦ä¸²](#tostring())ï¼Œé‚£ä¹ˆç©ºæ•°ç»„å°±è½¬æ¢ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œè€Œç©ºå­—ç¬¦ä¸²ä¸æ•°å­—0åœ¨éä¸¥æ ¼ç›¸ç­‰çš„æƒ…å†µä¸‹æ˜¯ç›¸ç­‰çš„ï¼Œå³''== 0ï¼Œè¿”å›â€œtrueâ€ã€‚

```js
var obj = {
  i: 10,
  toString: function () {
      console.log('toString');
      return this.i;
  },
  valueOf: function () {
      console.log('valueOf');
      return this.i;
  }
};
// æ•°æ®è¿ç®—
+obj;  // valueOf => 10
// æ•°æ®è¿ç®—
'' + obj;  // valueOf => '10'
// æ•°æ®å±•ç¤º
String(obj);  // toString => '10'
// æ•°æ®å±•ç¤º
Number(obj);  // valueOf => 10
// æ•°æ®è¿ç®—
obj == '10';  // valueOf => true
// ğŸ’¥å› ä¸ºä¸¤è€…æ•°æ®ç±»å‹ä¸ä¸€è‡´ï¼Œç›´æ¥è¿”å›â€œfalseâ€ï¼Œå¹¶ä¸ä¼šæ‰§è¡ŒtoString()å‡½æ•°æˆ–è€…valueOf()å‡½æ•°ã€‚
obj === '10'; // false
```

## åˆ¤ç©ºæ–¹æ³•
å˜é‡å–å
```js
if(!x){}
```
### ç©ºå¯¹è±¡
#### nullã€undefined
```js
if(obj == null) {} // å¯ä»¥åˆ¤æ–­nullæˆ–è€…undefined
if(obj === undefined) {} // åªèƒ½åˆ¤æ–­undefined
```
#### {}
```js
// åˆ¤æ–­å˜é‡ä¸ºç©º
function isEmpty(obj) {
  for(let key in obj) {
      if(obj.hasOwnProperty(key)) {
        return false;
      }
  }
  return true;
}
var o = {}; // å®šä¹‰ç©ºçš„å¯¹è±¡å­—é¢é‡

function Person() {}
Person.prototype.name = 'ming';
var p = new Person(); // é€šè¿‡newæ“ä½œç¬¦è·å–å¯¹è±¡

console.log(isEmpty(o));  // true
console.log(isEmpty(p));  // true
```
å˜é‡pæ˜¯é€šè¿‡newæ“ä½œç¬¦å¾—åˆ°çš„Personå¯¹è±¡çš„å®ä¾‹ï¼Œæ‰€ä»¥pä¼šç»§æ‰¿PersonåŸå‹é“¾ä¸Šçš„nameå±æ€§ï¼Œä½†æ˜¯**å› ä¸ºä¸æ˜¯è‡ªèº«çš„å±æ€§**ï¼Œæ‰€ä»¥ä¼šè¢«åˆ¤ä¸ºç©ºï¼Œè¿”å›â€œtrueâ€ã€‚

```js
function isEmpty(obj) {
  return JSON.stringify(Obj) === '{}';
}
```
### []
```js
function isEmpty(arr) {
  return arr instanceof Array && arr.length === 0;
  // Array.isArray(arr) && arr.length === 0;
}
```

### ""
```js
function isEmpty(arr) {
  return str == '' || str.trim().length == 0;
}
```

### 0ã€NaN
```js
function isNaNOrZero(num) {
  return !(Number(num) && num) == true;
}
```

### !X == true
- å˜é‡ä¸ºnullã€‚
- å˜é‡ä¸ºundefinedã€‚
- å˜é‡ä¸ºç©ºå­—ç¬¦ä¸²' 'ã€‚
- å˜é‡ä¸ºæ•°å­—0ï¼ŒåŒ…æ‹¬+0ã€-0ã€‚
- å˜é‡ä¸ºNaNã€‚

## switch
> åœ¨JavaScriptä¸­ï¼Œswitchè¯­å¥å¯ä»¥ç”¨æ¥åˆ¤æ–­ä»»ä½•ç±»å‹çš„å€¼ï¼Œä¸ä¸€å®šæ˜¯Numberç±»å‹ã€‚
```js
// åˆ¤æ–­Stringç±»å‹çš„å€¼
function getString(str) {
   switch (str) {
      case '1':
          console.log('10');
          break;
      case '2':
          console.log('20');
          break;
      case '3':
          console.log('30');
          break;
      default:
          console.log('40');
   }
}

getString('2');  // 20
getString('4');  // 40
getString(3);  // 40
```
åœ¨JavaScriptä¸­å¯¹äºcaseçš„æ¯”è¾ƒæ˜¯é‡‡ç”¨ä¸¥æ ¼ç›¸ç­‰(===)çš„ã€‚
```js
// String('3') === '3';  // true
getString(String('3'));     // '30'
// è¿™é‡Œæ˜¯å¯¹è±¡å“¦ 
// new String('3') === '3'; // false
getString(new String('3')); // '40'
```

å¯ä»¥æ¥æ”¶å¯¹è±¡ç±»å‹çš„å¤„ç†.
```js
// åˆ¤æ–­ä¼ å…¥çš„å¯¹è±¡ï¼Œç¡®å®šæ‰§è¡Œçš„è¯­å¥
function getObj(obj) {
   switch (obj) {
      case firstObj:
         console.log('è¿™å°±æ˜¯ç¬¬ä¸€ä¸ªå¯¹è±¡');
         break;
      case secondObj:
         console.log('è¿™å°±æ˜¯ç¬¬äºŒä¸ªå¯¹è±¡');
         break;
      default:
         console.log('è¿™æ˜¯ç‹¬ä¸€æ— äºŒçš„å¯¹è±¡');
   }
}

function Person() {}

var uniqueObj = new Person();
var firstObj = new Person();
var secondObj = new Person();

getObj(firstObj);   // 'è¿™å°±æ˜¯ç¬¬ä¸€ä¸ªå¯¹è±¡'
getObj(secondObj);  // 'è¿™å°±æ˜¯ç¬¬äºŒä¸ªå¯¹è±¡'
getObj(uniqueObj);  // 'è¿™æ˜¯ç‹¬ä¸€æ— äºŒçš„å¯¹è±¡'
```
é€šè¿‡æ‰§è¡Œçš„ç»“æœå¯ä»¥çœ‹å‡ºï¼Œä¼ å…¥çš„objå‚æ•°åˆ†åˆ«æ‰§è¡Œäº†ä¸firstObjã€secondObjçš„æ¯”è¾ƒã€‚å› ä¸ºå¯¹è±¡çš„æ¯”è¾ƒéœ€è¦æ˜¯ç›¸åŒçš„å€¼æ‰ä¼šåœ¨ä¸¥æ ¼ç›¸ç­‰çš„æƒ…å†µä¸‹è¿”å›â€œtrueâ€ï¼Œæ‰€ä»¥åªæœ‰åœ¨ä¼ å…¥firstObjæ—¶ï¼Œæ‰ä¼šè¾“å‡º'è¿™å°±æ˜¯ç¬¬ä¸€ä¸ªå¯¹è±¡'ï¼Œä¼ å…¥secondObjæ—¶ï¼Œæ‰ä¼šè¾“å‡º'è¿™å°±æ˜¯ç¬¬äºŒä¸ªå¯¹è±¡'ï¼Œä¸æ˜¯è¿™ä¸¤ä¸ªå€¼ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œåˆ™ä¼šè¾“å‡º'è¿™æ˜¯ç‹¬ä¸€æ— äºŒçš„å¯¹è±¡'ã€‚
