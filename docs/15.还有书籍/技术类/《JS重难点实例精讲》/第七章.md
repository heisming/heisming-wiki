# ES6
## letå’Œconstå…³é”®å­—
å…¶å®åœ¨ES6ä¹‹å‰ï¼Œåªå­˜åœ¨å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸï¼Œå¹¶ä¸å­˜åœ¨å—çº§ä½œç”¨åŸŸï¼Œè¿™å°±ä¼šå¯¼è‡´å˜é‡æå‡çš„é—®é¢˜ã€‚
å˜é‡æå‡å¾€å¾€ä¼šå› ä¸ºå¾—åˆ°ä¸€äº›å‡ºä¹æ„æ–™çš„ç»“æœè€Œå—äººè¯Ÿç—…ï¼Œæ‰€ä»¥åœ¨ES6ä¸­æ–°å¢äº†å—çº§ä½œç”¨åŸŸæ¥é¿å…è¿™ä¸ªé—®é¢˜çš„å‡ºç°ã€‚

> å—çº§ä½œç”¨åŸŸè¡¨ç¤ºçš„æ˜¯å®šä¹‰çš„å˜é‡å¯æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒåªèƒ½åœ¨ä¸€ä¸ªä»£ç å—ä¸­ï¼Œä¸€ä¸ªä»£ç å—ç”±ä¸€ä¸ªå¤§æ‹¬å·æ‹¬ä½çš„ä»£ç æ„æˆï¼Œè¶…å‡ºè¿™ä¸ªä»£ç å—èŒƒå›´å°†æ— æ³•è®¿é—®å†…éƒ¨çš„å˜é‡ã€‚

Demo
```js
{
  let a = 1;
  console.log(a); // 1
}
console.log(a); // ReferenceError: a is not defined
```
å½“æˆ‘ä»¬ä½¿ç”¨letå…³é”®å­—å®šä¹‰ä¸€ä¸ªå˜é‡aåï¼Œèƒ½å¤Ÿåœ¨ä»£ç å—ä¸­è¾“å‡ºå˜é‡açš„å€¼ï¼Œä½†æ˜¯åœ¨ä»£ç å—å¤–è®¿é—®æ—¶ä¼šæŠ›å‡ºaæœªå®šä¹‰çš„å¼‚å¸¸ã€‚

### letå…³é”®å­—
letå…³é”®å­—ç”¨äºå£°æ˜å˜é‡ï¼Œå’Œvarå…³é”®å­—çš„ç”¨æ³•ç±»ä¼¼ã€‚ä½†æ˜¯ä¸varä¸åŒçš„æ˜¯ï¼Œletå£°æ˜çš„å˜é‡åªèƒ½åœ¨letæ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆï¼Œå³åœ¨å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆï¼Œè€Œvarå£°æ˜çš„å˜é‡åœ¨å—çº§ä½œç”¨åŸŸå¤–ä»ç„¶æœ‰æ•ˆã€‚
```js
// çœ‹åŒºåˆ«
{
    var a = 1;
    let b = 2;
}
console.log(a);  // 1
console.log(b);  // ReferenceError: b is not defined
```
#### letå…³é”®å­—çš„ç‰¹æ€§
##### ä¸å­˜åœ¨å˜é‡æå‡
ä½¿ç”¨varå®šä¹‰çš„å˜é‡ä¼šå­˜åœ¨å˜é‡æå‡çš„æƒ…å†µï¼Œå˜é‡æå‡ä¼šä½¿å¾—å˜é‡åœ¨å£°æ˜ä¹‹å‰å¯ä»¥è¢«è®¿é—®ï¼Œæ­£æ˜¯å› ä¸ºè¿™ä¸ªç‰¹æ€§çš„å­˜åœ¨ï¼Œæ‰€ä»¥ä¼šå‡ºç°å„ç§å¥‡æ€ªçš„ç»“æœã€‚
```js
// åœ¨ES6ä¸­ï¼Œä½¿ç”¨letå®šä¹‰çš„å˜é‡ä¸å­˜åœ¨å˜é‡æå‡ï¼Œæ‰€ä»¥å¦‚æœåœ¨å˜é‡å£°æ˜ä¹‹å‰å»ä½¿ç”¨å˜é‡ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
// varå£°æ˜å˜é‡
console.log(c);  // undefined
var c = 'ming';
// letå£°æ˜å˜é‡
console.log(d);  // ReferenceError: d is not defined
let d = 'ming';
```

##### å­˜åœ¨æš‚æ—¶æ€§æ­»åŒº
åœ¨ES6ä¸­ï¼Œæš‚æ—¶æ€§æ­»åŒºä¼šå‡ºç°åœ¨ä½¿ç”¨letæˆ–constçš„ä»£ç ä¸­ï¼Œè¡¨ç¤ºçš„æ˜¯å½“ç¨‹åºæµç¨‹è¿›å…¥ä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸæ—¶ï¼Œåœ¨æ­¤ä½œç”¨åŸŸå†…ä½¿ç”¨letæˆ–constå£°æ˜çš„å˜é‡ä¼šå…ˆåœ¨ä½œç”¨åŸŸä¸­è¢«åˆ›å»ºå‡ºæ¥ï¼Œä½†æ­¤æ—¶è¿˜æœªè¿›è¡Œèµ‹å€¼ï¼Œå¦‚æœæ­¤æ—¶å¯¹è¯¥å˜é‡è¿›è¡Œæ±‚å€¼è¿ç®—ï¼Œå˜é‡æ˜¯ä¸èƒ½è¢«è®¿é—®çš„ï¼Œè®¿é—®å°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚

> å…¶ä¸­ï¼Œæµç¨‹è¿›å…¥æ–°ä½œç”¨åŸŸåˆ›å»ºå˜é‡åˆ°å˜é‡å¯ä»¥è¢«è®¿é—®çš„è¿™ä¸€æ®µä»£ç åŒºåŸŸï¼Œè¢«ç§°ä¸ºæš‚æ—¶æ€§æ­»åŒºã€‚

ç®€å•ç‚¹æ¥è®²å°±æ˜¯ï¼Œåœ¨ä½¿ç”¨letå£°æ˜å˜é‡ä¹‹å‰ï¼Œè¯¥å˜é‡éƒ½æ˜¯ä¸å¯è®¿é—®çš„ã€‚
```js
if (true) {
    // æš‚æ—¶æ€§æ­»åŒºå¼€å§‹
    param = 'ming';
    console.log(param); // ReferenceError: param is not defined
    // â€¦â€¦
    // æš‚æ—¶æ€§æ­»åŒºç»“æŸ
    let param;
}
```
å› ä¸ºæœ‰æš‚æ—¶æ€§æ­»åŒºçš„å­˜åœ¨ï¼Œtypeofè¿ç®—ç¬¦ä¹Ÿä¸å†æ˜¯ç»å¯¹å®‰å…¨çš„ï¼Œåœ¨letå®šä¹‰çš„å˜é‡ä¹‹å‰ä½¿ç”¨typeofè¿ç®—ç¬¦åŒæ ·ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
```js
typeof param;  // ReferenceError: param is not defined
let param;
```
è€Œé’ˆå¯¹életæˆ–constå£°æ˜çš„å˜é‡ï¼Œä½¿ç”¨typeofè¿ç®—ç¬¦ç¡®å®æ˜¯ç»å¯¹å®‰å…¨çš„ï¼Œå¤„ç†ä¸€ä¸ªæœªå£°æ˜çš„å˜é‡æ—¶ä¼šè¿”å›â€œundefinedâ€ã€‚
```js
typeof param;  // undefined
```

##### ä¸èƒ½é‡å¤å£°æ˜

```js
1 function foo() {
2     let arg1 = 'ming';
3     if (true) {
4         let arg1 = 'ming';
5     }
6     var arg1 = 'ming'; // SyntaxError: Identifier 'arg1' has already been declared
7 }
```
åœ¨foo()å‡½æ•°å†…éƒ¨ï¼Œä½¿ç”¨letä¸varåŒæ—¶å£°æ˜äº†åä¸ºarg1çš„å˜é‡ï¼Œå› ä¸ºå¤„äºåŒä¸€ä¸ªä½œç”¨åŸŸï¼Œæ‰€ä»¥ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚

è€Œç¬¬4è¡ŒåŒæ ·ä½¿ç”¨letå®šä¹‰çš„å˜é‡arg1ï¼Œå…¶åªåœ¨ç¬¬3ï½5è¡Œçš„ä»£ç å—å†…æœ‰æ•ˆï¼Œä¸å¤–éƒ¨å£°æ˜çš„å˜é‡arg1ç›¸äº’ç‹¬ç«‹ï¼Œæ•…å¯ä»¥æ­£ç¡®å®šä¹‰ã€‚

åœ¨å‡½æ•°å†…éƒ¨ï¼Œå¦‚æœå¤„äºç›¸åŒä½œç”¨åŸŸä¸‹ï¼Œåˆ™ä¸èƒ½é‡å¤å£°æ˜å’Œå½¢å‚ç›¸åŒçš„å˜é‡åã€‚
```js
1 function foo(arg1) {
2     let arg1 = 'ming'; // SyntaxError: Identifier 'arg1' has already been declared
3     if (true) {
4         let arg1 = 'ming';
5     }
6 }
```
ç¬¬2è¡Œä»£ç ä½¿ç”¨letå£°æ˜äº†ä¸€ä¸ªä¸å½¢å‚ç›¸åŒçš„å˜é‡arg1ï¼Œä¸¤è€…åŒå¤„äºå‡½æ•°çº§ä½œç”¨åŸŸä¸­ï¼Œæ‰€ä»¥ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
è€Œç¬¬4è¡Œä»£ç ä½¿ç”¨letå£°æ˜çš„å˜é‡arg1ï¼Œå…¶åªåœ¨ç¬¬3ï½5è¡Œçš„ä»£ç å—å†…æœ‰æ•ˆï¼Œä¸å¤–éƒ¨å£°æ˜çš„å˜é‡arg1ç›¸äº’ç‹¬ç«‹ï¼Œæ•…å¯ä»¥æ­£ç¡®å®šä¹‰ã€‚

##### ä¸å†æ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§
åœ¨ES6ä»¥å‰ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒçš„å…¨å±€ä½œç”¨åŸŸä¸‹ï¼Œä½¿ç”¨varå£°æ˜çš„å˜é‡ã€å‡½æ•°è¡¨è¾¾å¼æˆ–è€…å‡½æ•°å£°æ˜å‡æ˜¯windowå¯¹è±¡çš„å±æ€§ã€‚
åœ¨ES6ä»¥åï¼Œä¾ç„¶éµå¾ªä¸Šè¿°åŸåˆ™ï¼Œä½†æ˜¯å¦‚æœæ˜¯ä½¿ç”¨letå£°æ˜çš„å˜é‡æˆ–è€…å‡½æ•°è¡¨è¾¾å¼ï¼Œå°†ä¸å†æ˜¯windowå¯¹è±¡çš„å±æ€§ã€‚
```js
// varå£°æ˜çš„å˜é‡å’Œå‡½æ•°è¡¨è¾¾å¼
var a = 1;
var fn = function () {
    console.log('global method');
};
console.log(window.a); // 1
window.fn();  // global method

// letå£°æ˜çš„å˜é‡å’Œå‡½æ•°è¡¨è¾¾å¼
let b = 2;
let foo = function () {
    console.log('global method');
};
console.log(window.b); // undefined
window.foo(); // TypeError: window.foo is not a function
```
#### ä½¿ç”¨letå…³é”®å­—çš„å¥½å¤„
##### ä¸ä¼šå¯¼è‡´forå¾ªç¯ç´¢å¼•å€¼æ³„éœ²
åœ¨forå¾ªç¯ä¸­ï¼Œå› ä¸ºå¾ªç¯çš„ç´¢å¼•å€¼ä¸€èˆ¬åªä¼šåœ¨å¾ªç¯ä½“å†…æœ‰æ•ˆï¼Œæ‰€ä»¥å½“å¾ªç¯ç»“æŸåç´¢å¼•å€¼åº”è¯¥è¢«å›æ”¶ã€‚ä½†æ˜¯å¦‚æœé€šè¿‡varå®šä¹‰ç´¢å¼•å€¼çš„è¯ï¼Œè¯¥ç´¢å¼•å€¼åœ¨å¾ªç¯ç»“æŸåä»ç„¶å¯ä»¥è®¿é—®ï¼Œæ­¤æ—¶ä½¿ç”¨letå®šä¹‰å¾ªç¯çš„ç´¢å¼•å€¼å°±å¾ˆåˆé€‚ã€‚
```js
// var
for (var i = 0; i < 10; i++) {
    // ...
}
console.log(i);  // 10
// let
for (let i = 0; i < 10; i++) {
    // ...
}
console.log(i); // ReferenceError: i is not defined
```
ç»å…¸åœºæ™¯ï¼šåœ¨forå¾ªç¯ä½“ä¸­é€šè¿‡å‡½æ•°è¾“å‡ºç´¢å¼•iå€¼ã€‚
```js
var arr = [];
for (var i = 0; i < 10; i++) {
    arr[i] = function () {
        console.log(i);
    };
}
arr[1]();  // 10
```
é€šè¿‡varå®šä¹‰çš„ç´¢å¼•iå€¼ï¼Œåœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œæœ€ç»ˆä¼šè¾“å‡ºâ€œ10â€ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ
å› ä¸ºé€šè¿‡varå£°æ˜çš„ç´¢å¼•iæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œæ¯ä¸€æ¬¡å¾ªç¯ï¼Œå…¨å±€å˜é‡iéƒ½ä¼šå‘ç”Ÿæ”¹å˜ã€‚è€Œæ•°ç»„arræ‰€æœ‰æˆå‘˜é‡Œé¢çš„iéƒ½æŒ‡å‘åŒä¸€ä¸ªiï¼Œå½“å¾ªç¯ç»“æŸåï¼Œå…¨å±€å˜é‡içš„å€¼å·²ç»å˜ä¸º10ã€‚
æœ€ç»ˆåœ¨è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶ï¼Œæ¯ä¸ªå‡½æ•°éƒ½é—­åŒ…äº†å…¨å±€å˜é‡iï¼Œå› æ­¤ä¼šè¾“å‡ºâ€œ10â€ã€‚

é€šè¿‡letå®šä¹‰çš„ç´¢å¼•å€¼å°±ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚
```js
var arr = [];
for (let i = 0; i < 10; i++) {
    arr[i] = function () {
        console.log(i);
    };
}
arr[1]();  // 1
```
è¿™æ˜¯å› ä¸ºé€šè¿‡letå®šä¹‰çš„ç´¢å¼•å€¼iï¼Œåªåœ¨å½“å‰å¾ªç¯å†…æœ‰æ•ˆï¼Œå®é™…ä¸Šæ¯ä¸€è½®å¾ªç¯ä¸­çš„iéƒ½æ˜¯ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œè€Œä¸”æœ€å…³é”®çš„æ˜¯JavaScriptå¼•æ“èƒ½å¤Ÿè®°ä½ä¸Šä¸€è½®å¾ªç¯çš„å€¼ï¼Œæ‰€ä»¥åœ¨æœ¬è½®å¾ªç¯å¼€å§‹æ—¶ï¼Œä¼šåŸºäºä¸Šä¸€è½®å¾ªç¯è®¡ç®—ï¼Œä»è€Œç´¢å¼•içš„å€¼ä¼šé€’å¢ã€‚

å› æ­¤åœ¨è°ƒç”¨arræ•°ç»„çš„æˆå‘˜å‡½æ•°æ—¶ï¼Œä¼šè¾“å‡ºæ­£ç¡®çš„ç´¢å¼•iå€¼ã€‚
ä¸ºä»€ä¹ˆé€šè¿‡letå£°æ˜çš„å˜é‡iåœ¨å¾ªç¯ä½“å¤–ï¼Œä»ç„¶å¯ä»¥è®¿é—®å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºarræ•°ç»„çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯¹å˜é‡içš„å¼•ç”¨**æ„æˆäº†ä¸€ä¸ªé—­åŒ…**ï¼Œæ‰€ä»¥åœ¨å¾ªç¯ä½“å¤–è°ƒç”¨å‡½æ•°æ—¶ä»ç„¶å¯ä»¥è®¿é—®åˆ°iã€‚

å¦å¤–forå¾ªç¯è¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«ä¹‹å¤„ï¼Œå£°æ˜å˜é‡çš„é‚£éƒ¨åˆ†ï¼ˆå°æ‹¬å·å†…éƒ¨ï¼‰æ˜¯ä¸€ä¸ªçˆ¶ä½œç”¨åŸŸï¼Œå¾ªç¯ä½“å†…éƒ¨æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­ä½œç”¨åŸŸã€‚
```js
for (let i = 0; i < 2; i++) {
    let i = 'ming';
    console.log(i); // è¾“å‡ºä¸¤æ¬¡'ming'
}
```
æ ¹æ®letçš„ç‰¹ç‚¹ï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªä»£ç å—ä¸­åŒæ—¶ä½¿ç”¨letå®šä¹‰äº†å…·æœ‰ç›¸åŒåç§°çš„å˜é‡ï¼Œåˆ™ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ã€‚
è€Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå°æ‹¬å·å†…å’Œå¾ªç¯ä½“å†…åŒæ—¶ä½¿ç”¨letå£°æ˜äº†å˜é‡iï¼Œä½†æ˜¯åœ¨å¾ªç¯ä½“å†…ä»ç„¶å¯ä»¥è¾“å‡ºå˜é‡içš„å€¼ï¼Œå°±è¡¨æ˜è¿™ä¸¤ä¸ªå˜é‡iæ˜¯å¤„åœ¨ä¸¤ä¸ªç‹¬ç«‹çš„çˆ¶å­ä½œç”¨åŸŸä¸­çš„ã€‚

##### é¿å…å‡ºç°å˜é‡æå‡å¯¼è‡´çš„å˜é‡è¦†ç›–é—®é¢˜
```js
var arg1 = 'ming';
function foo() {
    console.log(arg1);  // undefined
    if (false) {
        var arg1 = 'ming2';
    }
}
foo(); // undefined
```
åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªå…¨å±€å˜é‡arg1ï¼Œåœ¨foo()å‡½æ•°ä¸­æƒ³è¦è¾“å‡ºå˜é‡arg1ï¼Œä½†æ˜¯ç”±äºå˜é‡æå‡çš„å­˜åœ¨ï¼Œifä»£ç å—å†…çš„å˜é‡arg1ä¼šè¢«æå‡è‡³foo()å‡½æ•°é¡¶éƒ¨ï¼Œå¯¼è‡´è¾“å‡ºarg1æ—¶è¦†ç›–äº†å¤–å±‚çš„å…¨å±€å˜é‡arg1ï¼Œå› æ­¤è¾“å‡ºâ€œundefinedâ€ã€‚

å¦‚æœä½¿ç”¨letå®šä¹‰ifä»£ç å—å†…çš„arg1ï¼Œåˆ™è¯¥arg1åªåœ¨ifä»£ç å—å†…æœ‰æ•ˆï¼Œä¸ä¼šå½±å“åˆ°å…¨å±€çš„arg1å˜é‡ï¼Œä»è€Œèƒ½è¾“å‡ºâ€œmingâ€ã€‚
##### ä»£æ›¿ç«‹å³æ‰§è¡Œå‡½æ•°IIFE
ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆImmediately-Invoked Function Expressionï¼Œç®€ç§°IIFEï¼‰çš„å†…éƒ¨æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°çº§ä½œç”¨åŸŸï¼Œä½¿ç”¨IIFEçš„ç›®çš„ä¸»è¦æ˜¯é¿å…æ±¡æŸ“å½“å‰ä½œç”¨åŸŸå†…çš„å˜é‡ï¼Œè€Œä½¿ç”¨å—çº§ä½œç”¨åŸŸåˆ™å¯ä»¥ç›´æ¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚
```js
// I IFE å†™æ³•
(function () {
   var arg = ...;
    ...
}());
// å—çº§ä½œç”¨åŸŸå†™æ³•
{
    let arg = ...;
    ...
}
```
### constå…³é”®å­—
```js
// å£°æ˜çš„å€¼ä¸ºä¸€ä¸ªå¸¸é‡ï¼Œä¸€æ—¦å£°æ˜å°†ä¸ä¼šå†æ”¹å˜ã€‚
const MAX = 123;
MAX = 456; // TypeError: Assignment to constant variable.
// å¦‚æœåªå£°æ˜ï¼Œä¸åˆå§‹åŒ–ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
const MAX = 123; // å£°æ˜æ­£å¸¸
const MIN; // SyntaxError: Missing initializer in const declaration
```
constä¸letå£°æ˜çš„å˜é‡å­˜åœ¨ä»¥ä¸‹ç›¸åŒçš„ç‰¹æ€§ã€‚
#### åœ¨å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ
```js
if (true) {
    const MAX = 123;
}
console.log(MAX);  // ReferenceError: MAX is not defined
```
#### ä¸å­˜åœ¨å˜é‡æå‡ï¼Œä¼šäº§ç”Ÿæš‚æ—¶æ€§æ­»åŒº
ä½¿ç”¨constå£°æ˜çš„å¸¸é‡ä¹Ÿä¸ä¼šè¿›è¡Œå˜é‡æå‡ï¼Œåªèƒ½åœ¨constå£°æ˜ä¹‹åä½¿ç”¨å¸¸é‡ï¼Œåœ¨ä½¿ç”¨å¤„åˆ°å¸¸é‡çš„å£°æ˜ä¹‹å‰ä¼šäº§ç”Ÿæš‚æ—¶æ€§æ­»åŒºã€‚
```js
if (true) {
    console.log(MAX);  // ReferenceError: MAX is not defined
    const MAX = 123;
}
```
#### ä¸èƒ½é‡å¤å£°æ˜å˜é‡
åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼Œä¸èƒ½é‡å¤ä½¿ç”¨constå£°æ˜å¸¸é‡ã€‚
```js
var MIN = 1;
if (true) {
    const MIN = 1; // æ­£å¸¸å£°æ˜
}
const MIN = 2;  // SyntaxError: Identifier 'MIN' has already been declared
```
> ä½¿ç”¨constå£°æ˜çš„å˜é‡ä¸èƒ½è¢«ä¿®æ”¹ï¼Œä¸¥æ ¼æ„ä¹‰æ¥è¯´æ˜¯ä¿å­˜å˜é‡å€¼çš„å†…å­˜åœ°å€ä¸èƒ½è¢«ä¿®æ”¹ã€‚

å¯¹äºåŸºæœ¬ç±»å‹çš„å˜é‡æ¥è¯´ï¼Œå˜é‡å°±ä¿å­˜ç€å†…å­˜åœ°å€çš„å€¼ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼›è€Œå¯¹äºå¼•ç”¨ç±»å‹çš„å˜é‡æ¥è¯´ï¼Œå˜é‡ä¿å­˜çš„æ˜¯ä¸€ä¸ªæŒ‡å‘æ•°æ®å†…å­˜åœ°å€çš„æŒ‡é’ˆï¼Œåªè¦è¯¥æŒ‡é’ˆå›ºå®šä¸å˜ï¼Œå°±å¯ä»¥æ”¹å˜æ•°æ®æœ¬èº«çš„å€¼ã€‚
```js
const person = {
    age: 12
};
person.name = 'ming';
person.age = 13;
console.log(person); // { age: 13, name: 'ming' }
person = { age: 12 }; // TypeError: Assignment to constant variable.
```
åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œä½¿ç”¨constå®šä¹‰äº†ä¸€ä¸ªpersonå˜é‡ï¼Œå…¶å€¼ä¸ºå¯¹è±¡ç±»å‹ï¼Œç„¶åæ–°å¢äº†ä¸€ä¸ªnameå±æ€§ï¼Œå¹¶ä¿®æ”¹ageå±æ€§ï¼Œä»ç„¶èƒ½æ­£å¸¸è¾“å‡ºã€‚
ä½†æ˜¯å½“æˆ‘ä»¬é‡æ–°ç»™personå˜é‡èµ‹å€¼æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
å¯¹äºæ•°ç»„ç±»å‹çš„å˜é‡ï¼Œå˜é‡å­˜å‚¨çš„æ˜¯æ•°ç»„åœ¨å†…å­˜ä¸­çš„åœ°å€ï¼Œä»ç„¶å¯ä»¥ä¿®æ”¹æ¯ä¸ªå…ƒç´ çš„å€¼ã€‚
```js
// ç®€å•ç±»å‹æˆå‘˜çš„æ•°ç»„
const arr = ['1', '2'];
arr[0] = '3';  // æ­£å¸¸æ“ä½œ
// å¼•ç”¨ç±»å‹æˆå‘˜çš„æ•°ç»„
const arr2 = [{
    name: 'ming'
}];
arr2[0] = null;  // æ­£å¸¸æ“ä½œ
```
é‡æ–°ç»™arræˆ–è€…arr2èµ‹å€¼æ–°çš„æ•°ç»„æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
```js
arr = ['3']; // TypeError: Assignment to constant variable.
```
#### ä¸å†æ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§
ä¸letä¸€è‡´ï¼Œ**åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹**ï¼Œä½¿ç”¨constå£°æ˜çš„å˜é‡ä¸å†æ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§ã€‚
```js
const c = 1;
console.log(window.c); // undefined
```

## è§£æ„èµ‹å€¼
ä¼ ç»Ÿçš„ES5åŠä»¥å‰çš„ç‰ˆæœ¬ä¸­
```js
var arr = ['one', 'two', 'three'];
var one = arr[0];
var two = arr[1];

var obj = {name: 'ming', age: 21};
var name = obj.name;
var age = obj.age;
```
### æ•°ç»„çš„è§£æ„èµ‹å€¼
é’ˆå¯¹æ•°ç»„ï¼Œåœ¨è§£æ„èµ‹å€¼æ—¶ï¼Œä½¿ç”¨çš„æ˜¯æ¨¡å¼åŒ¹é…ï¼Œåªè¦ç­‰å·ä¸¤è¾¹æ•°ç»„çš„æ¨¡å¼ç›¸åŒï¼Œå³è¾¹æ•°ç»„çš„å€¼å°±ä¼šç›¸åº”èµ‹ç»™å·¦è¾¹æ•°ç»„çš„å˜é‡ã€‚
```js
let [arg1, arg2] = [12, 34];
console.log(num1); // 12
console.log(num2); // 34
```
ä½¿ç”¨é€—å·ä½œä¸ºå ä½ç¬¦ï¼Œè€Œä¸æŒ‡å®šå˜é‡åã€‚
```js
let [, , num3] = [12, 34, 56];
console.log(num3); // 56
```
å½“å³è¾¹çš„æ•°ç»„çš„å€¼ä¸è¶³ä»¥å°†å·¦è¾¹æ•°ç»„çš„å€¼å…¨éƒ¨èµ‹å€¼æ—¶ï¼Œä¼šè§£æ„å¤±è´¥ï¼Œå¯¹åº”çš„å€¼å°±ç­‰äºâ€œundefinedâ€ã€‚
```js
let [num1, num2, num3] = [12, 34];
console.log(num2); // 34
console.log(num3); // undefined
```
#### æ•°ç»„è§£æ„é»˜è®¤å€¼
åœ¨æ•°ç»„è§£æ„æ—¶è®¾ç½®é»˜è®¤å€¼ï¼Œå¯ä»¥é˜²æ­¢å‡ºç°è§£æ„å¾—åˆ°undefinedå€¼çš„æƒ…å†µã€‚å…·ä½“çš„åšæ³•æ˜¯åœ¨å·¦ä¾§çš„æ•°ç»„ä¸­ï¼Œç›´æ¥ç»™å˜é‡èµ‹åˆå§‹å€¼ã€‚
```js
let [num1 = 1, num2] = [, 34];
console.log(num1); // 1
console.log(num2); // 34
```
è¦æ³¨æ„çš„æ˜¯ï¼ŒES6åœ¨åˆ¤æ–­è§£æ„æ˜¯å¦ä¼šå¾—åˆ°undefinedå€¼æ—¶ï¼Œä½¿ç”¨çš„æ˜¯ä¸¥æ ¼ç­‰äºï¼ˆ===ï¼‰ã€‚åªæœ‰åœ¨**ä¸¥æ ¼ç­‰äºundefinedçš„æƒ…å†µä¸‹**ï¼Œæ‰ä¼šåˆ¤æ–­è¯¥å€¼è§£æ„ä¸ºundefinedï¼Œ**ç›¸åº”å˜é‡çš„é»˜è®¤å€¼æ‰ä¼šç”Ÿæ•ˆ**ã€‚
```js
let [
    num1 = 1,
    num2 = 2,
    num3 = 3
] = [null, ''];
console.log(num1);  // null
console.log(num2);  // ''
console.log(num3);  // 3
```
#### äº¤æ¢å˜é‡
åœ¨ä½¿ç”¨è§£æ„èµ‹å€¼ä»¥å‰ï¼Œå½“æˆ‘ä»¬éœ€è¦äº¤æ¢ä¸¤ä¸ªå˜é‡æ—¶ï¼Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç»å…¸çš„å†™æ³•ã€‚
```js
var a = 1;
var b = 2;
var tmp; // ä¸´æ—¶å˜é‡

tmp = a;
a = b;
b = tmp;
console.log(a);  // 2
console.log(b);  // 1
```
å¦‚æœä½¿ç”¨æ•°ç»„çš„è§£æ„èµ‹å€¼ï¼Œåªéœ€è¦åœ¨ç­‰å¼ä¸¤è¾¹çš„æ•°ç»„ä¸­äº¤æ¢ä¸¤ä¸ªå˜é‡çš„é¡ºåºå³å¯ã€‚
```js
var a = 1;
var b = 2;
// ä½¿ç”¨æ•°ç»„çš„è§£æ„èµ‹å€¼äº¤æ¢å˜é‡
[b, a] = [a, b];
console.log(a);  // 2
console.log(b);  // 1
```
#### è§£æå‡½æ•°è¿”å›çš„æ•°ç»„
```js
function fn() {
    return [12, 34];
}
let [num1, num2] = fn();
console.log(num1); // 12
console.log(num2); // 34
```
####  åµŒå¥—æ•°ç»„çš„è§£æ„
```js
let [num1, num2, [num3]] = [12, [34, 56], [78, 89]];
console.log(num1); // 12
console.log(num2); // [34, 56]
console.log(num3); // 78
```
#### å‡½æ•°å‚æ•°è§£æ„
å½“å‡½æ•°çš„å‚æ•°ä¸ºæ•°ç»„ç±»å‹æ—¶ï¼Œå¯ä»¥å°†å®å‚å’Œå½¢å‚è¿›è¡Œè§£æ„ã€‚
```js
function foo([arg1, arg2]) {
    console.log(arg1); // 2
    console.log(arg2); // 3
}
foo([2, 3]);
```
### å¯¹è±¡çš„è§£æ„èµ‹å€¼
åœ¨ES6ä¸­ï¼Œå¯¹è±¡åŒæ ·å¯ä»¥è¿›è¡Œè§£æ„èµ‹å€¼ã€‚æ•°ç»„çš„è§£æ„èµ‹å€¼æ˜¯åŸºäºæ•°ç»„å…ƒç´ çš„ç´¢å¼•ï¼Œåªè¦å·¦å³ä¸¤ä¾§çš„æ•°ç»„å…ƒç´ ç´¢å¼•ç›¸åŒï¼Œä¾¿å¯ä»¥è¿›è¡Œè§£æ„èµ‹å€¼ã€‚ä½†æ˜¯åœ¨å¯¹è±¡ä¸­ï¼Œå±æ€§æ˜¯æ²¡æœ‰é¡ºåºçš„ï¼Œè¿™å°±è¦æ±‚å³ä¾§è§£æ„å¯¹è±¡çš„å±æ€§åå’Œå·¦ä¾§å®šä¹‰å¯¹è±¡çš„å˜é‡åå¿…é¡»ç›¸åŒï¼Œè¿™æ ·æ‰å¯ä»¥è¿›è¡Œè§£æ„ã€‚
åŒæ ·ï¼ŒæœªåŒ¹é…åˆ°çš„å˜é‡ååœ¨è§£æ„æ—¶ä¼šèµ‹å€¼â€œundefinedâ€ã€‚
```js
let {m, n, o} = {m: 'ming', n: 12};
console.log(m); // ming
console.log(n); // 12
console.log(o); // undefined
```
å½“è§£æ„å¯¹è±¡çš„å±æ€§åå’Œå®šä¹‰çš„å˜é‡åä¸åŒæ—¶ï¼Œå¿…é¡»ä¸¥æ ¼æŒ‰ç…§key:valueçš„å½¢å¼è¡¥å……å·¦ä¾§å¯¹è±¡ã€‚
```js
let {m: name, n: age} = {m: 'ming', n: 12};
console.log(name); // ming
console.log(age); // 12
```
è€Œå½“keyå’Œvalueå€¼ç›¸åŒæ—¶ï¼Œå¯¹äºvalueçš„çœç•¥å®é™…ä¸Šæ˜¯ä¸€ç§ç®€å†™æ–¹æ¡ˆã€‚
```js
let {m: m, n: n} = {m: 'ming', n: 12};
// ç®€å†™æ–¹æ¡ˆ
let {m, n} = {m: 'ming', n: 12};
```
äº‹å®ä¸Šï¼Œå¯¹è±¡è§£æ„èµ‹å€¼çš„åŸç†æ˜¯ï¼šå…ˆæ‰¾åˆ°å·¦å³ä¸¤ä¾§ç›¸åŒçš„å±æ€§åï¼ˆkeyï¼‰ï¼Œç„¶åå†èµ‹ç»™å¯¹åº”çš„å˜é‡ï¼ˆvalueï¼‰ï¼ŒçœŸæ­£è¢«èµ‹å€¼çš„æ˜¯valueéƒ¨åˆ†ï¼Œå¹¶ä¸æ˜¯keyçš„éƒ¨åˆ†ã€‚
åœ¨å¦‚ä¸‹æ‰€ç¤ºçš„ä»£ç ä¸­ï¼Œmä½œä¸ºkeyï¼Œåªæ˜¯ç”¨äºåŒ¹é…ä¸¤ä¾§çš„å±æ€§åæ˜¯å¦ç›¸åŒï¼Œè€ŒçœŸæ­£è¢«èµ‹å€¼çš„æ˜¯å³ä¾§çš„nameå˜é‡ï¼Œæœ€ç»ˆnameå˜é‡ä¼šè¢«èµ‹å€¼ä¸ºâ€œmingâ€ï¼Œè€Œmä¸ä¼šè¢«èµ‹å€¼ã€‚
```js
let {m: name} = {m: 'ming'};
console.log(name);// ming
console.log(m); // ReferenceError: m is not defined
```
#### å¯¹è±¡è§£æ„çš„é»˜è®¤å€¼
é»˜è®¤å€¼ç”Ÿæ•ˆçš„æ¡ä»¶æ˜¯å¯¹åº”çš„å±æ€§å€¼ä¸¥æ ¼ç­‰äºundefinedã€‚
```js
let {m, n = 1, o = true} = {m: 'ming', o: null};
console.log(m); // ming
console.log(n); // 1
console.log(o); // nullï¼Œå› ä¸ºnullä¸undefinedä¸ä¸¥æ ¼ç›¸ç­‰ï¼Œé»˜è®¤å€¼å¹¶æœªç”Ÿæ•ˆ
```
å½“å±æ€§åå’Œå˜é‡åä¸ç›¸åŒæ—¶ï¼Œé»˜è®¤å€¼æ˜¯èµ‹ç»™å˜é‡çš„ã€‚
```js
let {m, n: age = 1} = {m: 'ming'};
console.log(m);   // ming
console.log(age); // 1
console.log(n);   // ReferenceError: n is not defined
```
#### åµŒå¥—å¯¹è±¡çš„è§£æ„
è§£æ„æ—¶ä»æœ€å¤–å±‚å¯¹è±¡å‘å†…éƒ¨é€å±‚è¿›è¡Œï¼Œæ¯ä¸€å±‚å¯¹è±¡å€¼éƒ½éµå¾ªç›¸åŒçš„è§£æ„è§„åˆ™ã€‚
```js
let obj = {
    p: [
        'Hello',
        {y: 'World'}
    ]
};
let {p: [x, {y: name}]} = obj;
console.log(x); // Hello
console.log(name); // World
console.log(y); // ReferenceError: y is not defined
```
åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œå˜é‡objæ˜¯ä¸€ä¸ªåµŒå¥—å¯¹è±¡ï¼Œä¼šå­˜åœ¨å¤šæ¬¡è§£æ„çš„è¿‡ç¨‹ã€‚
ç¬¬ä¸€æ¬¡è§£æ„ä»æœ€å¤–å±‚çš„å±æ€§på¼€å§‹ï¼Œå±æ€§på¯¹åº”çš„å€¼ä¸ºä¸€ä¸ªæ•°ç»„[â€˜Helloâ€™, {y: â€˜Worldâ€™}]ï¼Œå¯¹åº”å·¦ä¾§çš„[x, {y: name}]ã€‚
ç¬¬äºŒæ¬¡è§£æ„å¾—åˆ°çš„xå€¼ä¸ºâ€œHelloâ€ï¼Œ{y: â€˜Worldâ€™}å¯¹åº”å·¦ä¾§çš„{y: name} ã€‚
ç¬¬ä¸‰æ¬¡è§£æ„å¾—åˆ°nameå€¼ä¸ºâ€œWorldâ€ï¼Œè§£æ„ç»“æŸã€‚è€Œyä»…ä»…ä½œä¸ºåŒ¹é…å±æ€§åçš„keyï¼Œä¸ä¼šå‚ä¸èµ‹å€¼ï¼Œå› æ­¤è¾“å‡ºyå€¼æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
æ³¨æ„ï¼šå½“çˆ¶å±‚å¯¹è±¡å¯¹åº”çš„å±æ€§ä¸å­˜åœ¨ï¼Œè€Œè§£æ„å­å±‚å¯¹è±¡æ—¶ï¼Œä¼šå‡ºé”™å¹¶æŠ›å‡ºå¼‚å¸¸ã€‚
```js
let obj = {
    m: {
        n: 'ming'
    }
};

let {o: {n}} = obj;
console.log(n); //TypeError: Cannot match against 'undefined' or 'null'.
```
å› ä¸ºåœ¨objå¯¹è±¡ä¸­ï¼Œå¤–å±‚çš„å±æ€§åæ˜¯mï¼Œè€Œåœ¨å·¦ä¾§çš„å¯¹è±¡ä¸­ï¼Œå¤–å±‚å±æ€§åæ˜¯oï¼Œä¸¤è€…å¹¶ä¸åŒ¹é…ï¼Œæ‰€ä»¥oä¼šè§£æ„å¾—åˆ°â€œundefinedâ€ã€‚è€Œå¯¹undefinedå†æ¬¡è§£æ„æƒ³è¦è·å–nå±æ€§æ—¶ï¼Œç›¸å½“äºè°ƒç”¨undefined.nï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
#### é€‰æ‹©æ€§è§£æ„å¯¹è±¡çš„å±æ€§
å‡å¦‚ä¸€ä¸ªå¯¹è±¡æœ‰å¾ˆå¤šé€šç”¨çš„å‡½æ•°ï¼Œåœ¨æŸæ¬¡å¤„ç†ä¸­ï¼Œåªæƒ³ä½¿ç”¨å…¶ä¸­çš„å‡ ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼ã€‚
```js
let { min, max } = Math;
console.log(min(1, 3));  // 1
console.log(max(1, 3));  // 3
```
#### å‡½æ•°å‚æ•°è§£æ„
å½“å‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªå¤æ‚çš„å¯¹è±¡ç±»å‹æ—¶ï¼Œå¯ä»¥é€šè¿‡è§£æ„å»è·å¾—æƒ³è¦è·å–çš„å€¼å¹¶èµ‹ç»™å˜é‡ã€‚
```js
function whois({displayName: displayName, fullName: { firstName: name }}){
    console.log(displayName + "is" + name);
}
const user = {
    id: 42,
    displayName: "jdoe",
    fullName: {
        firstName: "John",
        lastName: "Doe"
    }
};
whois(user); // jdoe is John
```
## æ‰©å±•è¿ç®—ç¬¦ä¸restè¿ç®—ç¬¦
è¿™ä¸¤ç§è¿ç®—ç¬¦å¯ä»¥å¾ˆå¥½åœ°è§£å†³å‡½æ•°å‚æ•°å’Œæ•°ç»„å…ƒç´ é•¿åº¦æœªçŸ¥æƒ…å†µä¸‹çš„ç¼–ç é—®é¢˜ï¼Œä½¿å¾—ä»£ç èƒ½æ›´åŠ å¥å£®å’Œç®€æ´ã€‚
### æ‰©å±•è¿ç®—ç¬¦
ç”¨3ä¸ªç‚¹è¡¨ç¤ºï¼ˆ...ï¼‰ï¼Œç”¨äºå°†ä¸€ä¸ªæ•°ç»„æˆ–ç±»æ•°ç»„å¯¹è±¡è½¬æ¢ä¸ºç”¨é€—å·åˆ†éš”çš„å€¼åºåˆ—ã€‚
```js
// å®ƒçš„åŸºæœ¬ç”¨æ³•æ˜¯æ‹†è§£æ•°ç»„å’Œå­—ç¬¦ä¸²ã€‚
const array = [1, 2, 3, 4];
console.log(...array); // 1 2 3 4
const str = "string";
console.log(...str); // s t r i n g
```
æ•°ç»„ç±»å‹å˜é‡arrayå’Œå­—ç¬¦ä¸²ç±»å‹å˜é‡stråœ¨ç»è¿‡æ‰©å±•è¿ç®—ç¬¦çš„å¤„ç†åï¼Œå¾—åˆ°çš„éƒ½æ˜¯å•ç‹¬çš„å€¼åºåˆ—ã€‚
#### æ‰©å±•è¿ç®—ç¬¦ä»£æ›¿apply()å‡½æ•°
å°†æ•°ç»„è½¬æ¢ä¸ºå‡½æ•°å‚æ•°ã€‚
```js
// è·å–æ•°ç»„æœ€å¤§å€¼æ—¶
let arr = [1, 4, 6, 8, 2];
console.log(Math.max.apply(null, arr)); // 8
// ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦
console.log(Math.max(...arr)); // 8
```
ä¾‹å¦‚ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªadd()å‡½æ•°ï¼Œç”¨äºæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œå¹¶è¿”å›ä¸¤ä¸ªå‚æ•°ç›¸åŠ çš„å’Œã€‚å½“ä¼ é€’çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œå¦‚æœä½¿ç”¨apply()å‡½æ•°ï¼Œå†™æ³•å¦‚ä¸‹ã€‚
```js
function add (num1, num2) {
  return num1 + num2;
}
const arr = [1, 3];
add.apply(null, arr); // 4
// ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦
add(...arr); // 4
```
#### æ‰©å±•è¿ç®—ç¬¦ä»£æ›¿concat()å‡½æ•°åˆå¹¶æ•°ç»„

```js
let arr1 = [1, 2, 3];
let arr2 = [4, 5, 6];
console.log(arr1.concat(arr2)); // [ 1, 2, 3, 4, 5, 6 ]
// ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦
console.log([...arr1, ...arr2]); // [ 1, 2, 3, 4, 5, 6 ]
```
#### æ‰©å±•è¿ç®—ç¬¦è½¬æ¢Setï¼Œå¾—åˆ°å»é‡çš„æ•°ç»„
Setå…·æœ‰è‡ªåŠ¨çš„å»é‡æ€§è´¨
```js
let arr = [1, 2, 4, 6, 2, 7, 4];
console.log([...new Set(arr)]); // [ 1, 2, 4, 6, 7 ]
```
#### æ‰©å±•è¿ç®—ç¬¦ç”¨äºå¯¹è±¡å…‹éš†
ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å…‹éš†çš„å¯¹è±¡çš„å±æ€§å€¼ä¸ºåŸºæœ¬æ•°æ®ç±»å‹çš„åœºæ™¯ã€‚
```js
let obj = {name: 'ming'};
var obj2 = {...obj};
obj2.name = 'ming2';
console.log(obj); // {name: "ming"}
```
å…‹éš†åå¯¹è±¡çš„å€¼è¿›è¡Œä¿®æ”¹å¹¶æœªå½±å“åˆ°è¢«å…‹éš†çš„å¯¹è±¡ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å°±æ„å‘³ç€ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å®ç°çš„æ˜¯æ·±å…‹éš†å‘¢ï¼Ÿ

åœºæ™¯ï¼šå…‹éš†å¯¹è±¡çš„å±æ€§å€¼ä¸ºå¼•ç”¨æ•°æ®ç±»å‹ã€‚
```js
let obj3 = {
    name: 'ming', 
    address: {province: 'guangdong', city: 'guangzhou'}
};
let obj4 = {...obj3};
obj4.name = 'ming3';
obj4.address.city = 'shenzhen';
console.log(obj3);
// {name: "ming", address: {province: "guangdong", city: "shenzhen"}}
```
è¡¨æ˜å¯¹å…‹éš†åå¯¹è±¡çš„å€¼è¿›è¡Œæ›´æ”¹åï¼Œå½±å“åˆ°äº†è¢«å…‹éš†çš„å¯¹è±¡ï¼Œè¿™å°±æ„å‘³ç€ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦çš„å…‹éš†å¹¶ä¸æ˜¯ä¸¥æ ¼çš„æ·±å…‹éš†ã€‚
```js
// åŒæ ·é€‚ç”¨äºæ•°ç»„
let arr1 = [1, 3, 4, 6];  // å¯ä»¥è¿›è¡Œæ·±å…‹éš†
let arr2 = [1, 3, [4, 6]]; // ä¸å¯ä»¥è¿›è¡Œæ·±å…‹éš†
```
ç»“è®ºï¼šä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å¯¹æ•°ç»„æˆ–å¯¹è±¡è¿›è¡Œå…‹éš†æ—¶ï¼Œå¦‚æœæ•°ç»„çš„å…ƒç´ æˆ–è€…å¯¹è±¡çš„å±æ€§æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™æ”¯æŒæ·±å…‹éš†ï¼›å¦‚æœæ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œåˆ™ä¸æ”¯æŒæ·±å…‹éš†ã€‚
> å› ä¸ºå¼•ç”¨æ•°æ®ç±»å‹çš„å…‹éš†åªæ˜¯å¤åˆ¶äº†å¼•ç”¨çš„åœ°å€ï¼Œå…‹éš†åçš„å¯¹è±¡ä»ç„¶å…±äº«åŒä¸€ä¸ªå¼•ç”¨åœ°å€ã€‚
### restè¿ç®—ç¬¦
> åŒæ ·ä½¿ç”¨3ä¸ªç‚¹è¡¨ç¤ºï¼ˆ...ï¼‰ï¼Œå…¶ä½œç”¨ä¸æ‰©å±•è¿ç®—ç¬¦ç›¸åï¼Œç”¨äºå°†ä»¥é€—å·åˆ†éš”çš„å€¼åºåˆ—è½¬æ¢æˆæ•°ç»„ã€‚
#### ä¸è§£æ„ç»„åˆä½¿ç”¨
è§£æ„ä¼šå°†ç›¸åŒæ•°æ®ç»“æ„å¯¹åº”çš„å€¼èµ‹ç»™å¯¹åº”çš„å˜é‡ï¼Œå°†å…¶ä¸­çš„ä¸€éƒ¨åˆ†å€¼ç»Ÿä¸€èµ‹ç»™ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨restè¿ç®—ç¬¦ã€‚
```js
let arr = ['one', 'two', 'three', 'four'];
let [arg1, ...arg2] = arr;
console.log(arg1);  // one
console.log(arg2);  // [ 'two', 'three', 'four' ]
```
ä½¿ç”¨restè¿ç®—ç¬¦è¿›è¡Œè§£æ„ï¼Œåˆ™restè¿ç®—ç¬¦å¯¹åº”çš„å˜é‡åº”è¯¥æ”¾åœ¨æœ€åä¸€ä½ï¼Œå¦åˆ™å°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å› ä¸ºå¦‚æœrestè¿ç®—ç¬¦ä¸æ˜¯æ”¾åœ¨æœ€åä¸€ä½ï¼Œå˜é‡å¹¶ä¸çŸ¥é“è¦è¯»å–å¤šå°‘ä¸ªæ•°å€¼ã€‚
```js
let arr = ['one', 'two', 'three', 'four'];
let [...arg1, arg2] = arr; // SyntaxError: Rest element must be last element 
in array
```
å’Œå¯¹è±¡è§£æ„ç›¸å…³çš„å†…å®¹ã€‚
```js
let {x, y, ...z} = {x: 1, y: 2, a: 3, b: 4};
console.log(x); // 1
console.log(y); // 2
console.log(z); // {a: 3, b: 4}
```
#### ä»£æ›¿argumentså¤„ç†å‡½æ•°å‚æ•°
```js
// ä¸ç¡®å®šä¼ å…¥çš„å‚æ•°é•¿åº¦ï¼Œå¯ä»¥ç»Ÿä¸€ä½¿ç”¨argumentsæ¥è·å–æ‰€æœ‰ä¼ é€’çš„å‚æ•°
function foo() {
    for (let arg of arguments) {
        console.log(arg);
    }
}
foo('one', 'two', 'three', 'four');// è¾“å‡º'one', 'two', 'three', 'four'
```
å‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªä½¿ç”¨é€—å·åˆ†éš”çš„å€¼åºåˆ—ï¼Œå¯ä»¥ä½¿ç”¨restè¿ç®—ç¬¦å¤„ç†æˆä¸€ä¸ªæ•°ç»„ï¼Œä»è€Œç¡®å®šæœ€ç»ˆä¼ å…¥çš„å‚æ•°ï¼Œä»¥ä»£æ›¿argumentsçš„ä½¿ç”¨ã€‚
```js
function foo(...args) {
    for (let arg of args) {
        console.log(arg);
    }
}
foo('one', 'two', 'three', 'four');// è¾“å‡º'one', 'two', 'three', 'four'
```
é€šè¿‡ä»¥ä¸Šå¯¹æ‰©å±•è¿ç®—ç¬¦å’Œrestè¿ç®—ç¬¦çš„è®²è§£ï¼Œå…¶å®ä¸¤è€…æ˜¯äº’ä¸ºé€†è¿ç®—çš„ï¼Œ**æ‰©å±•è¿ç®—ç¬¦æ˜¯å°†æ•°ç»„åˆ†å‰²æˆç‹¬ç«‹çš„åºåˆ—ï¼Œè€Œrestè¿ç®—ç¬¦æ˜¯å°†ç‹¬ç«‹çš„åºåˆ—åˆå¹¶æˆä¸€ä¸ªæ•°ç»„ã€‚**

é‚£ä¹ˆå¦‚ä½•åˆ¤æ–­å‘¢ï¼Ÿ
- å½“3ä¸ªç‚¹ï¼ˆâ€¦ï¼‰å‡ºç°åœ¨å‡½æ•°çš„**å½¢å‚**ä¸Šæˆ–è€…å‡ºç°åœ¨èµ‹å€¼ç­‰å·çš„**å·¦ä¾§**ï¼Œåˆ™è¡¨ç¤ºå®ƒä¸ºrestè¿ç®—ç¬¦ã€‚
- å½“3ä¸ªç‚¹ï¼ˆâ€¦ï¼‰å‡ºç°åœ¨å‡½æ•°çš„**å®å‚**ä¸Šæˆ–è€…å‡ºç°åœ¨èµ‹å€¼ç­‰å·çš„**å³ä¾§**ï¼Œåˆ™è¡¨ç¤ºå®ƒä¸ºæ‰©å±•è¿ç®—ç¬¦ã€‚
## æ¨¡æ¿å­—ç¬¦ä¸²
ä½¿ç”¨åå¼•å·ï¼ˆ``ï¼‰æ‹¬èµ·æ¥ï¼Œå¯ç”¨ä½œæ™®é€šçš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼ŒåŒæ—¶æ”¯æŒåœ¨å­—ç¬¦ä¸²ä¸­ä½¿ç”¨${}åµŒå…¥å˜é‡ã€‚
### å­—ç¬¦ä¸²åŸç”Ÿè¾“å‡º
```js
// ä¼ ç»Ÿå­—ç¬¦ä¸²æ–¹æ¡ˆ
var str = 'Hello, my name is ming, ' +
          'I am working in Beijng.';
console.log(str); // Hello, my name is ming, I am working in Beijng.
```
strå˜é‡çš„ç¬¬ä¸€è¡Œå­—ç¬¦ä¸²å’Œç¬¬äºŒè¡Œå­—ç¬¦ä¸²ä¹‹é—´ä½¿ç”¨åŠ å·è¿›è¡Œæ‹¼æ¥ï¼Œå¹¶ä¸”å­—ç¬¦ä¸²ä¸­æœ‰ç¼©è¿›å’Œæ¢è¡Œç¬¦ï¼Œä½†æ˜¯è¾“å‡ºçš„ç»“æœä¸­å®ƒä»¬éƒ½è¢«å¿½ç•¥äº†ã€‚
```js
let str2 = `Hello, my name is ming,
            I am working in Beijng.`;
console.log(str2);
// ä»¥ä¸‹æ˜¯è¾“å‡ºç»“æœ
Hello, my name is ming,
            I am working in Beijng.
```
è€Œä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²è¯­æ³•ï¼Œä¼šä¿ç•™å­—ç¬¦ä¸²å†…éƒ¨çš„ç©ºç™½ã€ç¼©è¿›å’Œæ¢è¡Œç¬¦ã€‚
### å­—ç¬¦ä¸²å˜é‡å€¼ä¼ é€’
#### ä¼ é€’åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡
```js
// ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆ
var name = 'ming';
var address = 'Beijing';
var str = 'Hello, my name is ' + name + ', ' +
          'I am working in ' + address + '.';
console.log(str);  // Hello, my name is ming, I am working in Beijng.
```
åœ¨ä¸€ä¸ªå¤æ‚çš„è¯­å¥ä¸­ï¼Œé€šè¿‡å˜é‡æ‹¼æ¥ï¼Œä¼šå¾ˆå®¹æ˜“å‡ºé”™ï¼Œå°¤å…¶æ˜¯é‡åˆ°å•å¼•å·å’ŒåŒå¼•å·åŒæ—¶å‡ºç°çš„åœºæ™¯ã€‚
```js
// æ¨¡æ¿å­—ç¬¦ä¸²æ–¹æ¡ˆ
let name = 'ming';
let address = 'Beijing';
let str = `Hello, my name is ${name},
           I am working in ${address}.`;
console.log(str);
// ä»¥ä¸‹æ˜¯è¾“å‡ºç»“æœ
Hello, my name is ming,
            I am working Beijng.
```
#### ä¼ é€’è¡¨è¾¾å¼
åœ¨${}ä¹‹ä¸­ä¸ä»…å¯ä»¥ä¼ é€’å˜é‡ï¼Œè¿˜å¯ä»¥ä¼ é€’ä»»æ„çš„JavaScriptè¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬æ•°å­¦è¿ç®—ã€å±æ€§å¼•ç”¨ã€å‡½æ•°è°ƒç”¨ã€‚
```js
// æ•°å­¦è¿ç®—
let x = 1,
    y = 2;
console.log(`${x} + ${y * 2} = ${x + y * 2}`); // 1 + 4 = 5

// å±æ€§å¼•ç”¨å’Œæ•°å­¦è¿ç®—
let obj = {x: 1, y: 2};
console.log(`${obj.x + obj.y}`); // 3

// å‡½æ•°è°ƒç”¨
function fn() {
    return "Hello World";
}
console.log(`foo ${fn()} bar`); // foo Hello World bar
```
#### ä¼ é€’å¤æ‚å¼•ç”¨æ•°æ®ç±»å‹çš„å˜é‡
å½“ä¼ é€’çš„å˜é‡æ˜¯ä¸€ä¸ªå¤šå±‚åµŒå¥—çš„å¤æ‚å¼•ç”¨æ•°æ®ç±»å‹å€¼æ—¶ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²åŒæ ·å¯ä»¥æ”¯æŒåµŒå¥—è§£æï¼Œé‡åˆ°è¡¨è¾¾å¼ä¼šè§£ææˆå¯¹åº”çš„å€¼ã€‚
```js
const tmpl = function (addrs) {
    return `
        <table>
            ${addrs.map(addr => `
                <tr><td>${addr.provice}</td></tr>
                <tr><td>${addr.city}</td></tr>
            `).join('')}
        </table>
    `;
};
const addrs = [{ provice: 'æ¹–åŒ—çœ', city: 'æ­¦æ±‰å¸‚' }, 
{ provice: 'å¹¿ä¸œçœ', city: 'å¹¿å·å¸‚' }];
console.log(tmpl(addrs));
```
è¾“å‡ºçš„å­—ç¬¦ä¸²ç»“æœå¦‚ä¸‹æ‰€ç¤ºã€‚
```js
</table>  
    <tr><td>æ¹–åŒ—çœ</td></tr>
    <tr><td>æ­¦æ±‰å¸‚</td></tr>
    <tr><td>å¹¿ä¸œçœ</td></tr>
    <tr><td>å¹¿å·å¸‚</td></tr>
</table>
```
> ç»“è®ºï¼šåªè¦${}é‡Œæ˜¯å¯ä»¥è·å¾—å”¯ä¸€å€¼çš„å³å¯

## ç®­å¤´å‡½æ•°
```js
// ES6è¯­æ³•
const foo = v => v;
// ç­‰åŒäºä¼ ç»Ÿè¯­æ³•
var foo = function (v) {
    return v;
};
```
åœ¨ç¼–å†™ä¸Šçœå»äº†functionå…³é”®å­—ï¼Œå‡½æ•°å‚æ•°å’Œæ™®é€šçš„å‡½æ•°å‚æ•°ä¸€æ ·ï¼Œå‡½æ•°ä½“ä¼šè¢«ä¸€ä¸ªå¤§æ‹¬å·æ‹¬èµ·æ¥ã€‚
```js
const fn = (num1, num2) => {
    return num1 + num2;
};
```
å¦‚æœå‡½æ•°çš„å‚æ•°åªæœ‰ä¸€ä¸ªï¼Œåˆ™å¯ä»¥çœç•¥å°æ‹¬å·ï¼›å¦‚æœå‡½æ•°ä½“åªæœ‰ä¸€è¡Œï¼Œåˆ™å¯ä»¥çœç•¥å¤§æ‹¬å·å’Œreturnå…³é”®å­—ã€‚
```js
[1, 2, 3].map(r => r * 2);  // [2, 4, 6]
// ç­‰åŒäº
[1, 2, 3].map(function(r) {
    return r * 2;
});
```
### ç®­å¤´å‡½æ•°çš„ç‰¹ç‚¹
#### è¯­æ³•ç®€æ´
æ±‚ä¸€ä¸ªæ•°ç»„å„é¡¹çš„å’Œã€‚
```js
[1, 2, 3, 4].reduce((x, y) => x + y, 0); // 10
```
æ•°ç»„ä¸­çš„å…ƒç´ æŒ‰ç…§ä»å°åˆ°å¤§é¡ºåºæ’åºï¼Œå¯ä»¥ç®€å†™
```js
[1, 4, 6, 3, 2].sort((x, y) => x - y) //[1, 2, 3, 4, 6]
```
è¿‡æ»¤å‡ºæ•°ç»„ä¸­å¤§äº3çš„æ•°å­—ï¼Œå¯ä»¥ç®€å†™
```js
[1, 2, 5, 6, 3].filter(x => x > 3); // [ 5, 6 ]
```
#### ä¸ç»‘å®šthis
> function: thisçš„æŒ‡å‘é—®é¢˜ï¼Œå¾—å‡ºçš„ç»“è®ºæ˜¯ï¼šthisæ°¸è¿œæŒ‡å‘å‡½æ•°çš„è°ƒç”¨è€…ã€‚
> åœ¨ç®­å¤´å‡½æ•°ä¸­: thisæŒ‡å‘çš„æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚

é€šè¿‡setTimeout()å’ŒsetInterval()å‡½æ•°çœ‹åŒºåˆ«ã€‚
```js
function Timer() {
    this.s1 = 0;
    this.s2 = 0;
    // ç®­å¤´å‡½æ•°
    setInterval(() => this.s1++, 1000);
    // æ™®é€šå‡½æ•°
    setInterval(function () {
        this.s2++;
    }, 1000);
}

let timer = new Timer();

setTimeout(() => console.log('s1: ', timer.s1), 3100); // 3.1ç§’åè¾“å‡ºs1: 3
setTimeout(() => console.log('s2: ', timer.s2), 3100); // 3.1ç§’åè¾“å‡ºs2: 0
```
why?
åœ¨ç”ŸæˆTimerçš„å®ä¾‹timeråï¼Œé€šè¿‡setTimeout()å‡½æ•°åœ¨3.1ç§’åè¾“å‡ºtimerçš„s1å˜é‡ï¼Œæ­¤æ—¶setInterval()å‡½æ•°å·²ç»æ‰§è¡Œäº†3æ¬¡ï¼Œç”±äºthis.s1++æ˜¯å¤„åœ¨ç®­å¤´å‡½æ•°ä¸­çš„ï¼Œ**è¿™é‡Œçš„thiså°±æŒ‡å‘timer**ï¼Œæ­¤æ—¶timer.s1å€¼ä¸ºâ€œ3â€ã€‚

è€Œthis.s2++æ˜¯å¤„åœ¨æ™®é€šå‡½æ•°ä¸­çš„ï¼Œ**è¿™é‡Œçš„thisæŒ‡å‘çš„æ˜¯å…¨å±€å¯¹è±¡window**ï¼Œå®é™…ä¸Šç›¸å½“äº`window.s2++`ï¼Œç»“æœæ˜¯`window.s2 = 3`ï¼Œè€Œåœ¨æœ€åä¸€è¡Œçš„è¾“å‡ºç»“æœä¸­ï¼Œtimer.s2ä»ç„¶ä¸ºâ€œ0â€ã€‚

> ç®­å¤´å‡½æ•°ä¸­ä¸ä¼šåˆ›å»ºè‡ªå·±çš„thisï¼Œè€Œæ˜¯ä¼šä»è‡ªå·±ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿thisã€‚

```js
const Person = {
    'name': 'ming',
    'age': 18,
    'sayHello': function () {
        setTimeout(() => {
            console.log('æˆ‘å«' + this.name + 'ï¼Œæˆ‘ä»Šå¹´' + this.age + 'å²!')
        }, 1000);
    }
};
Person.sayHello(); // æˆ‘å«mingï¼Œæˆ‘ä»Šå¹´18å²!

const Person2 = {
    'name': 'little bear',
    'age': 18,
    'sayHello': () => {
        setTimeout(() => {
            console.log('æˆ‘å«' + this.name + 'ï¼Œæˆ‘ä»Šå¹´' + this.age + 'å²!')
        }, 1000);
    }
};
Person2.sayHello(); // æˆ‘å«undefinedï¼Œæˆ‘ä»Šå¹´undefinedå²!
```
åœ¨ç¬¬ä¸€æ®µä»£ç ä¸­ï¼ŒsayHello()å‡½æ•°é€šè¿‡functionå…³é”®å­—è¿›è¡Œå®šä¹‰ï¼Œåœ¨æ‰§è¡ŒPerson.sayHello()å‡½æ•°æ—¶ï¼ŒsayHello()å‡½æ•°ä¸­çš„thisä¼šæŒ‡å‘å‡½æ•°çš„è°ƒç”¨ä½“ï¼Œå³Personæœ¬èº«ï¼›åœ¨è°ƒç”¨setTimeout()å‡½æ•°æ—¶ï¼Œç”±äºå…¶å‡½æ•°ä½“éƒ¨åˆ†æ˜¯é€šè¿‡ç®­å¤´å‡½æ•°å®šä¹‰çš„ï¼Œå†…éƒ¨çš„thisä¼šç»§æ‰¿è‡³çˆ¶ä½œç”¨åŸŸçš„thisï¼Œå› æ­¤setTimeout()å‡½æ•°å†…éƒ¨çš„thisä¼šæŒ‡å‘Personï¼Œä»è€Œè¾“å‡ºç»“æœâ€œæˆ‘å«ming,æˆ‘ä»Šå¹´18å²!â€ã€‚

Person2.sayHello()å‡½æ•°æ—¶ï¼ŒsayHello()å‡½æ•°ä¸­çš„thisä¼šæŒ‡å‘å¤–å±‚ä½œç”¨åŸŸï¼Œè€ŒPerson2çš„çˆ¶ä½œç”¨åŸŸå°±æ˜¯å…¨å±€ä½œç”¨åŸŸwindowï¼›åœ¨è°ƒç”¨setTimeout()å‡½æ•°æ—¶ï¼Œç”±äºå…¶å‡½æ•°ä½“éƒ¨åˆ†æ˜¯é€šè¿‡ç®­å¤´å‡½æ•°å®šä¹‰çš„ï¼Œå†…éƒ¨çš„thisä¼šç»§æ‰¿è‡³sayHello()å‡½æ•°æ‰€åœ¨çš„ä½œç”¨åŸŸçš„thisï¼Œå³windowï¼Œè€Œwindowä¸Šå¹¶æ²¡æœ‰å®šä¹‰nameå’Œageå±æ€§ï¼Œå› æ­¤è¾“å‡ºç»“æœâ€œæˆ‘å«undefined,æˆ‘ä»Šå¹´undefinedå²!â€ã€‚

> å¯¹è±¡å‡½æ•°ä½¿ç”¨ç®­å¤´å‡½æ•°æ˜¯ä¸åˆé€‚çš„ã€‚

#### ä¸æ”¯æŒcall()ä¸apply()å‡½æ•°çš„ç‰¹æ€§
> è¢«è°ƒç”¨å‡½æ•°æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œåˆ™ä¸ä¼šæ”¹å˜ç®­å¤´å‡½æ•°ä¸­thisçš„æŒ‡å‘ã€‚

```js
let adder = {
  base : 1,
  add : function(a) {
    var f = v => v + this.base;
    return f(a);
  },
  addThruCall: function(a) {
    var f = v => v + this.base;
      var b = {
        base : 2
      };   
    return f.call(b, a);
  }
};
console.log(adder.add(1));         // 2
console.log(adder.addThruCall(1)); // 2
```
åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œæ‰§è¡Œadder.add(1)æ—¶ï¼Œadd()å‡½æ•°å†…éƒ¨é€šè¿‡ç®­å¤´å‡½æ•°çš„å½¢å¼å®šä¹‰äº†f()å‡½æ•°ï¼Œ**f()å‡½æ•°ä¸­çš„thisä¼šç»§æ‰¿è‡³çˆ¶ä½œç”¨åŸŸ**ï¼Œå³adderï¼Œé‚£ä¹ˆ`this.base = 1`ï¼Œå› æ­¤æ‰§è¡Œ`adder.add(1)`ç›¸å½“äºæ‰§è¡Œ1 + 1çš„æ“ä½œï¼Œç»“æœè¾“å‡ºâ€œ2â€ã€‚

æ‰§è¡Œadder.addThruCall(1)æ—¶ï¼ŒaddThruCall()å‡½æ•°å†…éƒ¨é€šè¿‡ç®­å¤´å‡½æ•°å®šä¹‰äº†f()å‡½æ•°ï¼Œ**å…¶ä¸­çš„thisæŒ‡å‘äº†adder**ã€‚è™½ç„¶åœ¨è¿”å›ç»“æœæ—¶ï¼Œé€šè¿‡call()å‡½æ•°è°ƒç”¨äº†f()å‡½æ•°ï¼Œä½†æ˜¯å¹¶**ä¸ä¼šæ”¹å˜f()å‡½æ•°ä¸­thisçš„æŒ‡å‘**ï¼Œthisä»ç„¶æŒ‡å‘adderï¼Œè€Œä¸”ä¼šæ¥æ”¶å‚æ•°aï¼Œå› æ­¤æ‰§è¡Œadder.addThruCall(1)ç›¸å½“äºæ‰§è¡Œ1 + 1çš„æ“ä½œï¼Œç»“æœè¾“å‡ºâ€œ2â€ã€‚

#### ä¸ç»‘å®šarguments
ç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰arguments
```js
const fn = () => {
    console.log(arguments);
};
fn(1, 2); // Uncaught ReferenceError: arguments is not defined

// å¯ä»¥å€ŸåŠ©restè¿ç®—ç¬¦ï¼ˆ...ï¼‰æ¥è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚
const fn = (..args) => {
  console.log(args);
}
fn(1, 2); // [1, 2]
```
å› ä¸ºæ— æ³•åœ¨ç®­å¤´å‡½æ•°ä¸­ä½¿ç”¨argumentsï¼ŒåŒæ ·ä¹Ÿå°±æ— æ³•ä½¿ç”¨callerå’Œcalleeå±æ€§ã€‚

#### æ”¯æŒåµŒå¥—
åœºæ™¯ï¼šæœ‰ä¸€ä¸ªå‚æ•°ä¼šä»¥ç®¡é“çš„å½¢å¼ç»è¿‡ä¸¤ä¸ªå‡½æ•°å¤„ç†ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°å¤„ç†å®Œçš„è¾“å‡ºå°†ä½œä¸ºç¬¬äºŒä¸ªå‡½æ•°çš„è¾“å…¥ï¼Œä¸¤ä¸ªå‡½æ•°è¿ç®—å®Œåè¾“å‡ºæœ€åçš„ç»“æœã€‚
```js
1  const pipeline = (...funcs) =>
2       val => funcs.reduce((a, b) => b(a), val);
3  const plus1 = a => a + 1;
4  const mult2 = a => a * 2;
5  const addThenMult = pipeline(plus1, mult2);
6  addThenMult(5);  // 12
```
å…ˆçœ‹ç¬¬5è¡Œä»£ç ï¼Œè¿™é‡Œè°ƒç”¨äº†pipeline()å‡½æ•°ï¼Œå¹¶ä¼ å…¥plus1å’Œmult2ä¸¤ä¸ªå‚æ•°ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­ä½¿ç”¨reduce()å‡½æ•°å…ˆåè°ƒç”¨ä¼ å…¥çš„ä¸¤ä¸ªå¤„ç†å‡½æ•°ã€‚

åœ¨æ‰§è¡Œç¬¬6è¡Œä»£ç æ—¶ï¼Œpipeline()å‡½æ•°ä¸­çš„valä¸º5ï¼Œåœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œreduce()å‡½æ•°æ—¶ï¼Œaä¸º5ï¼Œbä¸ºplus1()å‡½æ•°ï¼Œå®é™…ç›¸å½“äºæ‰§è¡Œ5 + 1 = 6ï¼Œå¹¶è¿”å›äº†è®¡ç®—ç»“æœã€‚

åœ¨ç¬¬äºŒæ¬¡æ‰§è¡Œreduce()å‡½æ•°æ—¶ï¼Œaä¸ºä¸Šä¸€æ¬¡è¿”å›çš„ç»“æœ6ï¼Œbä¸ºmult2()å‡½æ•°ï¼Œå®é™…ç›¸å½“äºæ‰§è¡Œ6Ã—2 = 12ï¼Œå› æ­¤æœ€åè¾“å‡ºâ€œ12â€ã€‚

### ä¸é€‚ç”¨çš„åœºæ™¯
#### ä¸é€‚åˆä½œä¸ºå¯¹è±¡çš„å‡½æ•°
ç®­å¤´å‡½æ•°å¹¶ä¸ä¼šç»‘å®šthisï¼Œå¦‚æœä½¿ç”¨ç®­å¤´å‡½æ•°å®šä¹‰å¯¹è±¡å­—é¢é‡çš„å‡½æ•°ï¼Œé‚£ä¹ˆå…¶ä¸­çš„thiså°†ä¼šæŒ‡å‘å¤–å±‚ä½œç”¨åŸŸï¼Œå¹¶ä¸ä¼šæŒ‡å‘å¯¹è±¡æœ¬èº«ï¼Œå› æ­¤ç®­å¤´å‡½æ•°å¹¶ä¸é€‚åˆä½œä¸ºå¯¹è±¡çš„å‡½æ•°ã€‚
#### ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨newæ“ä½œç¬¦
æ„é€ å‡½æ•°æ˜¯é€šè¿‡newæ“ä½œç¬¦ç”Ÿæˆå¯¹è±¡å®ä¾‹çš„ï¼Œ**ç”Ÿæˆå®ä¾‹çš„è¿‡ç¨‹ä¹Ÿæ˜¯é€šè¿‡æ„é€ å‡½æ•°ç»™å®ä¾‹ç»‘å®šthisçš„è¿‡ç¨‹**ï¼Œè€Œç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisã€‚å› æ­¤ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±ä¸èƒ½é€šè¿‡newæ“ä½œç¬¦æ¥è°ƒç”¨ç®­å¤´å‡½æ•°ã€‚
```js
// æ™®é€šå‡½æ•°
function Person(name) {
    this.name = name;
}
var p = new Person('ming'); // æ­£å¸¸
// ç®­å¤´å‡½æ•°
let Person = (name) => {
    this.name = name
};
let p = new Person('ming'); // Uncaught TypeError: Person is not a constructor
```
#### æ²¡æœ‰prototypeå±æ€§
ç®­å¤´å‡½æ•°ä¸­æ˜¯æ²¡æœ‰thisçš„ï¼Œä¹Ÿå°±ä¸å­˜åœ¨è‡ªå·±çš„ä½œç”¨åŸŸï¼Œå› æ­¤ç®­å¤´å‡½æ•°æ˜¯æ²¡æœ‰prototypeå±æ€§çš„ã€‚
```js
let a = () => {
    return 1;
};
function b(){
    return 2;
}
console.log(a.prototype);  // undefined
console.log(b.prototype);  // {constructor: Æ’}
```
#### ä¸é€‚åˆå°†åŸå‹å‡½æ•°å®šä¹‰æˆç®­å¤´å‡½æ•°
åœ¨ç»™æ„é€ å‡½æ•°æ·»åŠ åŸå‹å‡½æ•°æ—¶ï¼Œå¦‚æœä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œå…¶ä¸­çš„thisä¼šæŒ‡å‘å…¨å±€ä½œç”¨åŸŸwindowï¼Œè€Œå¹¶ä¸ä¼šæŒ‡å‘æ„é€ å‡½æ•°ï¼Œå› æ­¤å¹¶ä¸ä¼šè®¿é—®åˆ°æ„é€ å‡½æ•°æœ¬èº«ï¼Œä¹Ÿå°±æ— æ³•è®¿é—®åˆ°å®ä¾‹å±æ€§ï¼Œè¿™å°±å¤±å»äº†ä½œä¸ºåŸå‹å‡½æ•°çš„æ„ä¹‰ã€‚
```js
function Person(name) {
    this.name = name
}
Person.prototype.sayHello = () => {
    console.log(this);  // window
    console.log(this.name);  // undefined âŒâŒâŒ
};
let p1 = new Person('ming');
p1.sayHello(); 
```
Person()æ„é€ å‡½æ•°å¢åŠ äº†ä¸€ä¸ªåŸå‹å‡½æ•°sayHello()ï¼Œå› ä¸ºsayHello()å‡½æ•°æ˜¯é€šè¿‡ç®­å¤´å‡½æ•°å®šä¹‰çš„ï¼Œæ‰€ä»¥å…¶ä¸­çš„thisä¼šæŒ‡å‘å…¨å±€ä½œç”¨åŸŸwindowï¼Œä»è€Œæ— æ³•è®¿é—®åˆ°å®ä¾‹çš„nameå±æ€§ï¼Œè¾“å‡ºâ€œundefinedâ€ã€‚

## ES6å¯¹äºå¯¹è±¡çš„æ‰©å±•
### å±æ€§ç®€å†™
ä¼ ç»Ÿçš„JavaScriptä¸­ï¼Œå¯¹è±¡éƒ½ä¼šé‡‡ç”¨`{ key: value }`çš„å†™æ³•ï¼Œä½†æ˜¯åœ¨ES6ä¸­ï¼Œå¯ä»¥ç›´æ¥åœ¨å¯¹è±¡ä¸­å†™å…¥å˜é‡ï¼Œkeyç›¸å½“äºå˜é‡åï¼Œvalueç›¸å½“äºå˜é‡å€¼ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥çœç•¥valueï¼Œé€šè¿‡keyè¡¨ç¤ºä¸€ä¸ªå¯¹è±¡çš„å®Œæ•´å±æ€§ã€‚
```js
const name = 'ming';
const age = 12;
const obj = { name, age }; // { name: 'ming', age: 12 }
// ç­‰åŒäº
const obj = {
    name: name,
    age: age
};
```
å‡½æ•°ä¹Ÿå¯ä»¥ç®€å†™ï¼Œå³çœç•¥æ‰å…³é”®å­—functionã€‚
```js
const obj = {
    method: function () {
        return 'Hello';      
    }
};
// ç­‰åŒäº
const obj = {
    method() {
        return 'Hello';
    }
};
```

æŒ‰ç…§**CommonJSå†™æ³•**ï¼Œå½“éœ€è¦è¾“å‡ºä¸€ç»„æ¨¡å—å˜é‡æ—¶ï¼Œå¯¹è±¡ç®€å†™çš„æ–¹æ³•å°±éå¸¸åˆé€‚ã€‚
```js
// ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä½¿ç”¨å±æ€§ç®€å†™çš„ä¾‹å­ã€‚
let obj = {};
// è·å–å…ƒç´ 
function getItem (key) {
  return key in obj ? obj[key] : null;
}
// å¢åŠ å…ƒç´ 
function setItem (key, value) {
  obj[key] = value;
}
// æ¸…ç©ºå¯¹è±¡
function clear() {
  obj = {};
}
module.exports = { getItem, setItem, clear };
// ç­‰åŒäº
module.exports = { getItem: getItem, setItem: setItem, clear: clear };
```
### å±æ€§éå†ğŸ‘ğŸ‘ğŸ‘
åˆ°ES6ä¸ºæ­¢ï¼Œä¸€å…±æœ‰5ç§æ–¹æ³•å¯ä»¥å®ç°å¯¹è±¡å±æ€§çš„éå†ï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºã€‚
- for...inã€‚
- Object.keys(obj)ã€‚
- Object.getOwnPropertyNames(obj)ã€‚
- Object.getOwnPropertySymbols(obj)ã€‚
- Reflect.ownKeys(obj)ã€‚

ä½¿ç”¨æ–¹æ³•å’Œå·®å¼‚æ€§ã€‚

å®šä¹‰ä¸€ä¸ªæ‹¥æœ‰å®ä¾‹å±æ€§ã€ç»§æ‰¿å±æ€§çš„å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«Symbolå±æ€§ã€å¯æšä¸¾å±æ€§ã€ä¸å¯æšä¸¾å±æ€§ï¼Œè¦†ç›–å…¨éƒ¨çš„åœºæ™¯ï¼Œç”¨æ¥æµ‹è¯•è¿™5ç§å±æ€§éå†æ–¹æ³•çš„å·®å¼‚ã€‚
```js
// å®šä¹‰çˆ¶ç±»
function Animal(name, type) {
  this.name = name;
  this.type = type;
}
// å®šä¹‰å­ç±»
function Cat(age, weight) {
  this.age = age;
  this.weight = weight;
  this[Symbol('one')] = 'one';
}
// å­ç±»ç»§æ‰¿çˆ¶ç±»
Cat.prototype = new Animal();
Cat.prototype.constructor = Cat;
// ç”Ÿæˆå­ç±»çš„å®ä¾‹
let cat = new Cat(12, '10kg');
// å®ä¾‹å¢åŠ å¯æšä¸¾å±æ€§
Object.defineProperty(cat, 'color', {
  configurable: true,
  enumerable: true,
  value: 'blue',
  writable: true
});
// å®ä¾‹å¢åŠ ä¸å¯æšä¸¾å±æ€§
Object.defineProperty(cat, 'height', {
  configurable: true,
  enumerable: false,
  value: '20cm',
  writable: true
});
```
å®ä¾‹catå…·æœ‰çš„å±æ€§å¦‚ä¸‹æ‰€ç¤ºã€‚
```bash
å®ä¾‹å±æ€§: age, weight, Symbol('one'), color
ç»§æ‰¿å±æ€§: name, type
å¯æšä¸¾å±æ€§ï¼šage, weight, color
ä¸å¯æšä¸¾å±æ€§: height
Symbolå±æ€§: Symbol('one')
```
#### for...in
> ç”¨äºéå†å¯¹è±¡è‡ªèº«å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼ˆ**ä¸åŒ…å«**Symbolå±æ€§ï¼‰ã€‚
```js
for(let key in cat) {
  console.log(key); // 'age', 'weight', 'color', 'name', 'type'
}
```
æ²¡æœ‰åŒ…å«ä¸å¯æšä¸¾å±æ€§heightå’ŒSymbolå±æ€§Symbol('one')ã€‚
#### Object.keys()å‡½æ•°
> è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œ**åŒ…å«**å¯¹è±¡è‡ªèº«æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œ**ä¸åŒ…å«**ç»§æ‰¿å±æ€§å’ŒSymbolå±æ€§ã€‚
```js
Object.keys(cat); // ['age', 'weight', 'color']
```
#### Object.getOwnPropertyNames()å‡½æ•°
> è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œ**åŒ…å«**å¯¹è±¡è‡ªèº«æ‰€æœ‰å¯æšä¸¾å±æ€§å’Œä¸å¯æšä¸¾å±æ€§ï¼Œ**ä¸åŒ…å«**ç»§æ‰¿å±æ€§å’ŒSymbolå±æ€§ã€‚
```js
Object.getOwnPropertyNames(cat); // ['age', 'weight', 'color', 'height']
```
#### Object.getOwnPropertySymbols()å‡½æ•°
> è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œ**åŒ…å«**å¯¹è±¡è‡ªèº«æ‰€æœ‰Symbolå±æ€§ï¼Œ**ä¸åŒ…å«**å…¶ä»–å±æ€§ã€‚
```js
Object.getOwnPropertySymbols(cat); // [Symbol('one')]
```
#### Reflect.ownKeys()å‡½æ•°
> è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œ**åŒ…å«**å¯æšä¸¾å±æ€§ã€ä¸å¯æšä¸¾å±æ€§ä»¥åŠSymbolå±æ€§ï¼Œ**ä¸åŒ…å«**ç»§æ‰¿å±æ€§ã€‚
```js
Reflect.ownKeys(cat); // ['age', 'weight', 'color', 'height', Symbol('one')]
```
### æ–°å¢Object.assign()å‡½æ•°
ç”¨äºå°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªå¯¹è±¡çš„**å¯æšä¸¾å±æ€§èµ‹å€¼ç»™ç›®æ ‡å¯¹è±¡**ï¼Œç„¶åè¿”å›ç›®æ ‡å¯¹è±¡ã€‚

å½“å¤šä¸ªæºå¯¹è±¡å…·æœ‰ç›¸åŒçš„å±æ€§æ—¶ï¼Œåè€…çš„å±æ€§å€¼ä¼šè¦†ç›–å‰é¢çš„å±æ€§å€¼ã€‚
```js
let target = { a: 1 }; //ç›®æ ‡å¯¹è±¡
let source1 = { b: 2 }; //æºå¯¹è±¡1
let source2 = { c: 3 }; //æºå¯¹è±¡2
let source3 = { c: 4 }; //æºå¯¹è±¡3ï¼Œå’Œsource2å¯¹è±¡æœ‰åŒåå±æ€§c
console.log(Object.assign(target, source1, source2, source3));
// { a: 1, b: 2, c: 4 }
```
> Object.assign()å‡½æ•°æ— æ³•å¤åˆ¶å¯¹è±¡çš„ä¸å¯æšä¸¾å±æ€§å’Œç»§æ‰¿å±æ€§ï¼Œä½†å¯ä»¥å¤åˆ¶å¯æšä¸¾çš„Symbolå±æ€§ã€‚
```js
// åˆ›å»ºä¸€ä¸ªåŒæ—¶æ‹¥æœ‰å¯æšä¸¾å±æ€§ã€ä¸å¯æšä¸¾å±æ€§ã€ç»§æ‰¿å±æ€§ã€Symbolå±æ€§çš„å¯¹è±¡ã€‚
let obj = Object.create(
  { a: 1 }, // aæ˜¯ç»§æ‰¿å±æ€§
  { 
    b: { value: 2 }, // bæ˜¯ä¸å¯æšä¸¾å±æ€§
    c: { value: 3, enumerable: true }, // cæ˜¯å¯æšä¸¾å±æ€§
    [Symbol('one')]: { value: 'one', enumerable: true } // Symbolå±æ€§
});
console.log(Object.assign({}, obj)); // { c: 3, Symbol(one): "one" }
```
#### å¯¹è±¡å…‹éš†
æµ…å…‹éš†ï¼šå¦‚æœå±æ€§æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™ä¼šå¤åˆ¶å®ƒçš„å€¼ï¼›å¦‚æœå±æ€§æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œåˆ™ä¼šå¤åˆ¶å®ƒçš„å¼•ç”¨ã€‚
```js
function cloneObj(source) {
    return Object.assign({}, source);
}
let source = {
    name: 'ming',
    age: 18
};
let result = cloneObj(source);
console.log(result); // { name: 'ming', age: 18 }
```

```js
1 let target = {};
2 let source1 = {a: 1, b: {c: 2}};
3 let result = Object.assign(target, source1);
4 console.log(result.a);  // 1
5 console.log(result.b.c);// 2
6 source1.b.c = 3;
7 console.log(result.b.c); // 3
```
é€šè¿‡ä¸Šé¢å®ä¾‹çš„ç¬¬1ï½5è¡Œä»£ç å¯ä»¥çœ‹å‡ºï¼Œå°†source1å¯¹è±¡çš„å±æ€§å¤åˆ¶åå¾—åˆ°äº†resultå¯¹è±¡ï¼Œæ—¢å¯ä»¥è®¿é—®åˆ°åŸºæœ¬æ•°æ®ç±»å‹å±æ€§aï¼Œä¹Ÿå¯ä»¥è®¿é—®åˆ°å¼•ç”¨æ•°æ®ç±»å‹å±æ€§cã€‚
é€šè¿‡ç¬¬6ã€7è¡Œä»£ç å¯ä»¥çœ‹å‡ºï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯æµ…å…‹éš†ï¼Œå¯¹æºå¯¹è±¡å±æ€§å€¼è¿›è¡Œçš„ä¿®æ”¹ä¼šå½±å“åˆ°ç›®æ ‡å¯¹è±¡çš„å±æ€§å€¼ï¼Œä¸¤è€…å®é™…å…±äº«åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚
#### ç»™å¯¹è±¡æ·»åŠ å±æ€§
é‡‡ç”¨ä¼ ç»Ÿçš„å†™æ³•ä¸ºå¯¹è±¡æ·»åŠ å®ä¾‹å±æ€§æ—¶ï¼Œä¼šå°†å…¶æ·»åŠ åˆ°thiså±æ€§ä¸Šã€‚
å½“å±æ€§å¾ˆå¤šæ—¶ï¼Œé€šè¿‡Object.assign()å‡½æ•°å¯ä»¥èŠ‚çº¦æ“ä½œã€‚
```js
// ä¼ ç»Ÿçš„å†™æ³•
function Person(name, age, address) {
    this.name = name;
    this.age = age;
    this.address = address;
}
// Object.assign()å†™æ³•
function Person(name, age, address) {
    Object.assign(this, {name, age, address});
}
```
#### ç»™å¯¹è±¡æ·»åŠ å‡½æ•°
é‡‡ç”¨ä¼ ç»Ÿçš„å†™æ³•ä¸ºå¯¹è±¡æ·»åŠ å…¬å…±çš„å‡½æ•°æ—¶ï¼Œä¼šæ‰©å±•å…¶prototypeå±æ€§ï¼Œä½¿ç”¨Object.assign()å‡½æ•°ä¹Ÿå¯ä»¥ç®€åŒ–ä»£ç ç¼–å†™æ–¹å¼ã€‚
```js
// ä¼ ç»Ÿå†™æ³•
Person.prototype.getName = function () {
    return this.name;
};
Person.prototype.getAge = function () {
    return this.age;
};
// Object.assign()å†™æ³•
Object.assign(Person.prototype, {
    getName() {
        return this.name;
    },
    getAge() {
        return this.age;  
    }
});
```
#### åˆå¹¶å¯¹è±¡
å³å¯ä»¥å°†å¤šä¸ªå¯¹è±¡åˆå¹¶åˆ°æŸä¸ªå¯¹è±¡ä¸­ï¼Œä¹Ÿå¯ä»¥å°†å¤šä¸ªå¯¹è±¡åˆå¹¶ä¸ºä¸€ä¸ªæ–°å¯¹è±¡å¹¶è¿”å›ï¼Œåªéœ€è¦å°†targetè®¾ç½®ä¸ºç©ºå¯¹è±¡{}å³å¯ã€‚
```js
// å¤šä¸ªå¯¹è±¡åˆå¹¶åˆ°ä¸€ä¸ªç›®æ ‡å¯¹è±¡ä¸­
const merge = (target, ...sources) => Object.assign(target, ...sources);
// å¤šä¸ªå¯¹è±¡åˆå¹¶ä¸ºä¸€ä¸ªæ–°å¯¹è±¡å¹¶è¿”å›
const merge = (...sources) => Object.assign({}, ...sources);
```
## Symbolç±»å‹
åœ¨ä¼ ç»Ÿçš„JavaScriptä¸­ï¼Œå¯¹è±¡çš„å±æ€§åéƒ½æ˜¯ç”±å­—ç¬¦ä¸²æ„æˆçš„ã€‚è¿™æ ·å°±ä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œå‡å¦‚ä¸€ä¸ªå¯¹è±¡ç»§æ‰¿äº†å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œåˆéœ€è¦å®šä¹‰æ–°çš„å±æ€§æ—¶ï¼Œå¾ˆå®¹æ˜“é€ æˆå±æ€§åçš„å†²çªã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES6å¼•å…¥äº†ä¸€ç§æ–°çš„åŸºæœ¬æ•°æ®ç±»å‹Symbolï¼Œ**å®ƒè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼**ã€‚

è‡³æ­¤JavaScriptä¸­å°±ä¸€å…±å­˜åœ¨6ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ†åˆ«æ˜¯Undefinedç±»å‹ã€Nullç±»å‹ã€Booleanç±»å‹ã€Stringç±»å‹ã€Numberç±»å‹ã€**Symbolç±»å‹**ã€‚
### Symbolç±»å‹çš„ç‰¹æ€§
#### å€¼çš„å”¯ä¸€æ€§
ç±»ä¼¼äºä¸€ç§å”¯ä¸€æ ‡è¯†æ€§çš„IDï¼Œé€šè¿‡Symbol()å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªSymbolå€¼ã€‚
```js
let s = Symbol();
// Symbolç±»å‹æ˜¯ä¸€ä¸ªæ–°å¢çš„åŸºæœ¬æ•°æ®ç±»å‹
console.log(typeof s); // symbol
```
åœ¨Symbol()å‡½æ•°ä¸­å¯ä»¥ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè¡¨ç¤ºå¯¹Symbolå€¼çš„æè¿°ï¼Œä¸»è¦æ˜¯æ–¹ä¾¿å¯¹ä¸åŒSymbolå€¼çš„åŒºåˆ†ã€‚
ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºSymbolå€¼çš„å”¯ä¸€æ€§ï¼Œ**ä»»ä½•é€šè¿‡Symbol()å‡½æ•°åˆ›å»ºçš„Symbolå€¼éƒ½æ˜¯ä¸ç›¸åŒçš„ï¼Œå³ä½¿ä¼ é€’äº†ç›¸åŒçš„å­—ç¬¦ä¸²**ã€‚
```js
const a = Symbol();
const b = Symbol();
const c = Symbol('one');
const d = Symbol('one');
console.log(a === b);  // false
console.log(c === d);  // false
```
#### ä¸èƒ½ä½¿ç”¨newæ“ä½œç¬¦
Symbolå‡½æ•°å¹¶ä¸æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå› æ­¤ä¸èƒ½é€šè¿‡newæ“ä½œç¬¦åˆ›å»ºSymbolå€¼ã€‚
```js
let s1 = new Symbol(); // TypeError: Symbol is not a constructor
```
#### ä¸èƒ½å‚ä¸ç±»å‹è¿ç®—
Symbolå€¼å¯ä»¥é€šè¿‡toString()å‡½æ•°æ˜¾ç¤ºåœ°è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä½†æ˜¯æœ¬èº«ä¸èƒ½å‚ä¸å…¶ä»–ç±»å‹å€¼çš„è¿ç®—ï¼Œä¾‹å¦‚åœ¨å¯¹Symbolå€¼è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œæ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
```js
let s4 = Symbol('hello');
s4.toString(); // Symbol(hello)
's4 content is: ' + s4; // TypeError: Cannot convert a Symbol value to a string
```
#### å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªSymbolå€¼
é€šè¿‡Symbol()å‡½æ•°åˆ›å»ºçš„æ¯ä¸ªå€¼éƒ½æ˜¯ä¸åŒçš„ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬æƒ³è¦ä½¿ç”¨åŒä¸€ä¸ªSymbolå€¼æ—¶ï¼Œè¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ

é‚£å°±æ˜¯ä½¿ç”¨Symbol.for()å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œç„¶åæœç´¢æœ‰æ²¡æœ‰ä»¥è¯¥å‚æ•°ä½œä¸ºåç§°çš„Symbolå€¼ã€‚å¦‚æœæœ‰ï¼Œå°±è¿”å›è¿™ä¸ªSymbolå€¼ï¼Œå¦åˆ™å°±æ–°å»ºå¹¶è¿”å›ä¸€ä¸ªä»¥è¯¥å­—ç¬¦ä¸²ä¸ºåç§°çš„Symbolå€¼ã€‚
```js
let s1 = Symbol.for('one');
let s2 = Symbol.for('one');
s1 === s2; // true
```
åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œé€šè¿‡Symbol.for()å‡½æ•°ä¼ å…¥ç›¸åŒçš„å­—ç¬¦ä¸²ä¼šå¾—åˆ°ç›¸åŒçš„Symbolå€¼ï¼Œå› æ­¤è¿”å›â€œtrueâ€ã€‚

Symbol.for()å‡½æ•°ä¸Symbol()å‡½æ•°è¿™ä¸¤ç§å†™æ³•ï¼Œéƒ½ä¼šç”Ÿæˆæ–°çš„Symbolå€¼ã€‚
å®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼šå‰è€…ä¼šè¢«ç™»è®°åœ¨å…¨å±€ç¯å¢ƒä¸­ä»¥ä¾›æœç´¢ï¼Œè€Œåè€…ä¸ä¼šã€‚Symbol.for()å‡½æ•°ä¸ä¼šæ¯æ¬¡è°ƒç”¨å°±è¿”å›ä¸€ä¸ªæ–°çš„Symbolç±»å‹çš„å€¼ï¼Œè€Œæ˜¯ä¼šå…ˆæ£€æŸ¥ç»™å®šçš„keyæ˜¯å¦å·²ç»å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨æ‰ä¼šæ–°å»ºä¸€ä¸ªå€¼ã€‚
```js
Symbol.for("bar") === Symbol.for("bar"); // true
Symbol("bar") === Symbol("bar");  // false
```
### Symbolç±»å‹çš„ç”¨æ³•
#### ç”¨ä½œå¯¹è±¡å±æ€§å
ç”±äºæ¯ä¸€ä¸ªSymbolå€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ï¼Œå®ƒä¼šç»å¸¸ç”¨ä½œå¯¹è±¡çš„å±æ€§åï¼Œå°¤å…¶æ˜¯å½“ä¸€ä¸ªå¯¹è±¡ç”±å¤šä¸ªæ¨¡å—ç»„æˆæ—¶ï¼Œè¿™æ ·èƒ½å¤Ÿé¿å…å±æ€§åè¢«è¦†ç›–çš„æƒ…å†µã€‚
åœ¨ä½¿ç”¨Symbolç±»å‹çš„æ•°æ®æ—¶ï¼Œå­˜åœ¨å‡ ç§ä¸åŒçš„å†™æ³•ï¼Œéµå¾ªçš„ä¸€ä¸ªåŸåˆ™å°±æ˜¯**ä¸ºå¯¹è±¡å­—é¢é‡æ–°å¢å±æ€§æ—¶éœ€è¦ä½¿ç”¨æ–¹æ‹¬å·[]**ã€‚
```js
// æ–°å¢ä¸€ä¸ªsymbolå±æ€§
let PROP_NAME = Symbol();

// ç¬¬ä¸€ç§å†™æ³•
let obj = {};
obj[PROP_NAME] = 'Hello';

// ç¬¬äºŒç§å†™æ³•
let obj = {
    [PROP_NAME]: 'Hello'
};

// ç¬¬ä¸‰ç§å†™æ³•
let obj = {};
Object.defineProperty(obj, PROP_NAME, {
    value: 'Hello' 
});
```
> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸èƒ½é€šè¿‡ç‚¹è¿ç®—ç¬¦ä¸ºå¯¹è±¡æ·»åŠ Symbolå±æ€§ã€‚
```js
const PROP_NAME = Symbol();
const obj = {};

obj.PROP_NAME = 'Hello!';
console.log(obj[PROP_NAME]);  // undefined
console.log(obj['PROP_NAME']); // 'Hello'
```
åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œåœ¨é€šè¿‡ç‚¹è¿ç®—ç¬¦ä¸ºobjå¢åŠ PROP_NAMEå±æ€§æ—¶ï¼Œ**è¿™ä¸ªPROP_NAMEå®é™…æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²**ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªSymbolå˜é‡ã€‚å› æ­¤é€šè¿‡ä¸­æ‹¬å·è¾“å‡ºPROP_NAMEå˜é‡å¯¹åº”çš„å€¼æ—¶ï¼Œå¾—åˆ°çš„æ˜¯â€œundefinedâ€ï¼›è€Œé€šè¿‡ä¸­æ‹¬å·è¾“å‡º'PROP_NAME'å­—ç¬¦ä¸²å€¼æ—¶ï¼Œå¾—åˆ°çš„æ˜¯å­—ç¬¦ä¸²'Hello'ã€‚
#### ç”¨äºå±æ€§åŒºåˆ†
ä¸€ç§åœºæ™¯ï¼Œå³é€šè¿‡åŒºåˆ†ä¸¤ä¸ªå±æ€§æ¥åšå¯¹åº”çš„å¤„ç†ã€‚

å‡å¦‚å†™ä¸€ä¸ªå…¬å…±çš„å‡½æ•°ç”¨æ¥è®¡ç®—å›¾å½¢çš„é¢ç§¯ï¼Œä¸‰è§’å½¢é¢ç§¯ä¸º1/2Ã—åº•Ã—é«˜ï¼Œé•¿æ–¹å½¢é¢ç§¯ä¸ºåº•Ã—é«˜ã€‚åœ¨ä¼ ç»Ÿçš„å†™æ³•ä¸Šï¼Œä¼šé€šè¿‡switchåˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºå­—ç¬¦ä¸²'triangle'æˆ–è€…å­—ç¬¦ä¸²'rectangle'ï¼Œç„¶ååœ¨è°ƒç”¨çš„æ—¶å€™ä¼ é€’å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚
```js
// æ±‚å›¾å½¢çš„é¢ç§¯
function getArea(shape, options) {
    let area = 0;
    switch (shape) {
        case 'triangle':
            area = .5 * options.width * options.height;
            break;
        case 'rectangle':
            area = options.width * options.height;
            break;
    }
    return area;
}
console.log(getArea('triangle', { width: 100, height: 100 }));  // 5000
console.log(getArea('rectangle', { width: 100, height: 100 })); // 10000
```
åœ¨ä¸Šé¢çš„å†™æ³•ä¸­ï¼Œå­—ç¬¦ä¸²'triangle'å’Œ'rectangle'ä¼šå¼ºè€¦åˆåœ¨ä»£ç ä¸­ã€‚

è€Œäº‹å®ä¸Šï¼Œä»…æƒ³åŒºåˆ†å„ç§ä¸åŒçš„å½¢çŠ¶ï¼Œå¹¶ä¸å…³å¿ƒæ¯ä¸ªå½¢çŠ¶ä½¿ç”¨ä»€ä¹ˆå­—ç¬¦ä¸²è¡¨ç¤ºï¼Œåªéœ€è¦çŸ¥é“æ¯ä¸ªå˜é‡çš„å€¼æ˜¯ç‹¬ä¸€æ— äºŒçš„å³å¯ï¼Œæ­¤æ—¶ä½¿ç”¨Symbolå°±ä¼šå¾ˆåˆé€‚ã€‚
```js
// äº‹å…ˆå£°æ˜ä¸¤ä¸ªSymbolå€¼ï¼Œç”¨äºä½œåˆ¤æ–­
let shapeType = {
    triangle: Symbol('triangle'),
    rectangle: Symbol('rectangle')
};
function getArea(shape, options) {
    let area = 0;
    switch (shape) {
        case shapeType.triangle:
            area = .5 * options.width * options.height;
            break;
        case shapeType.rectangle:
            area = options.width * options.height;
            break;
    }
    return area;
}
console.log(getArea(shapeType.triangle, { width: 100, height: 100 }));  // 5000
console.log(getArea(shapeType.rectangle, { width: 100, height: 100 })); // 10000
```
#### ç”¨äºå±æ€§åéå†
ä½¿ç”¨Symbolä½œä¸ºå±æ€§åæ—¶ï¼Œä¸èƒ½é€šè¿‡Object.keys()å‡½æ•°æˆ–è€…for...inæ¥æšä¸¾ï¼Œè¿™æ ·å¯ä»¥å°†ä¸€äº›ä¸éœ€è¦å¯¹å¤–æ“ä½œå’Œè®¿é—®çš„å±æ€§é€šè¿‡Symbolæ¥å®šä¹‰ã€‚
```js
let obj = {
    [Symbol('name')]: 'Hello',
    age: 18,
    title: 'Engineer'
};
console.log(Object.keys(obj)); // ['age', 'title']
for (let p in obj) {
    console.log(p); // åˆ†åˆ«ä¼šè¾“å‡ºï¼š'age' å’Œ 'title'
}
console.log(Object.getOwnPropertyNames(obj)); // ['age', 'title']
```
å› ä¸ºSymbolå±æ€§ä¸ä¼šå‡ºç°åœ¨å±æ€§éå†çš„è¿‡ç¨‹ä¸­ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨JSON.stringify()å‡½æ•°å°†å¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²æ—¶ï¼ŒSymbolå€¼ä¹Ÿä¸ä¼šå‡ºç°åœ¨ç»“æœä¸­
```js
JSON.stringify(obj);  // { "age": 18,"title": "Engineer" }
```
å½“æˆ‘ä»¬éœ€è¦è·å–Symbolå±æ€§æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸“é—¨é’ˆå¯¹Symbolçš„APIã€‚
```js
// ä½¿ç”¨Objectçš„API
Object.getOwnPropertySymbols(obj); // [Symbol(name)]
// ä½¿ç”¨æ–°å¢çš„åå°„API
Reflect.ownKeys(obj); // [Symbol(name), 'age', 'title']
```
## Setå’ŒMapæ•°æ®ç»“æ„
### Setæ•°æ®ç»“æ„
```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```

```js

```
