
### 网格系统

#### 实现原理

通过定义容器大小，平分12份(也有平分成24份或32份，但12份是最常见的)，

再调整内外边距，最后结合媒体查询，就制作出了强大的响应式网格系统。

Bootstrap框架中的网格系统就是将容器平分成12份。

```html
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>实现原理</title>
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
  <div class="row">
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
  </div>
  <div class="row">
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
  </div>
    <div class="row">
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
    <div class="col-md-1">.col-md-1</div>
  </div>
</div>
</body>
</html>
```



#### 工作原理

1、数据行(.row)必须包含在容器（.container）中，以便为其赋予合适的对齐方式和内距(padding)。如：

```html
<div class="container">
  <div class="row"></div>
</div>
```

2、在行(.row)中可以添加列(.column)，但列数之和不能超过平分的总列数，比如12。如：

```html
<div class="container">
    <div class="row">
      <div class="col-md-4"></div>
      <div class="col-md-8"></div>
    </div>
</div>
```

3、具体内容应当放置在列容器（column）之内，而且只有列（column）才可以作为行容器(.row)的直接子元素

4、通过设置内距（padding）从而创建列与列之间的间距。然后通过为第一列和最后一列设置负值的外距（margin）来抵消内距(padding)的影响



为了更好的理解Bootstrap框架的网格系统工作原理，我们来看一张草图：

![img](https://img.mukewang.com/53b0f9c000018b9305540282.jpg)

简单对图解释一下：

1、最外边框，带有一大片白色区域，就是相当于浏览器的可视区域。网格系统中带有响应式效果，其带有四种类型的浏览器（超小屏，小屏，中屏和大屏），其

断点（像素的分界点）是768px、992px和1220px。

2、第二个边框(1)相当于容器(.container)。针对不同的浏览器分辨率，其宽度也不一样：自动、750px、970px和1170px。

```css
.container {
  padding-right: 15px;
  padding-left: 15px;
  margin-right: auto;
  margin-left: auto;
}
@media (min-width: 768px) {
  .container {
    width: 750px;
  }
}
@media (min-width: 992px) {
  .container {
    width: 970px;
  }
}
@media (min-width: 1200px) {
  .container {
    width: 1170px;
  }
}
```

3、２号横条阐述的是，将容器的行（.row）平分了12等份，也就是列。每个列都有一个“**padding-left:15px**”(图中粉红色部分)和一个“**padding-right:15px**”(图中紫色部分)。这样也导致了第一个列的padding-left和最后一列的padding-right占据了总宽度的30px，从而致使页面不美观，当然，如果你需要留有一定的间距，这个做法是不错的。

```css
.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1,
.col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, 
.col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, 
.col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, 
.col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, 
.col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, 
.col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, 
.col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, 
.col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, 
.col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, 
.col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, 
.col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {
  position: relative;
  min-height: 1px;
  padding-right: 15px;
  padding-left: 15px;
}
```

4、３号横条就是行容器(.row),其定义了“margin-left”和”margin-right”值为”-15px”，用来抵消第一个列的左内距和最后一列的右内距。

```css
.row {
  margin-right: -15px;
  margin-left: -15px;
}
```

5、将行与列给合在一起就能看到横条4的效果。也就是我们期望看到的效果，**第一列和最后一列与容器（.container）之间没有间距**。

6、横条５只是想向大家展示，你可以根据需要，任意组合列与列，只是他们的组合数之和不要超过总列数。



#### 基本用法

网格系统用来布局，其实就是列的组合。网格系统中有**四种基本的用法**。

![img](https://img.mukewang.com/53e483500001c7f408770494.jpg)

**Grid options**

See how aspects of the Bootstrap grid system work across multiple devices with a handy table.

|                 | Extra small devices Phones(≤768px) | Small devices Tablets(≥768px)                    | Medlum devices Desktops (≥992px) | Large devices Desktops (≥1200px) |
| --------------- | ---------------------------------- | ------------------------------------------------ | -------------------------------- | -------------------------------- |
| Grid behavior   | Horizontal at all times            | Collapsed to start, horizontal above breakpoints |                                  |                                  |
| Container width | None(auto)                         | 750px                                            | 970px                            | 1170px                           |
| Class prefix    | `.col-xs-`                         | `.col-sm-`                                       | `.col-md-`                       | `.col-lg-`                       |
| # of columns    | 12                                 |                                                  |                                  |                                  |
| Column width    | Auto                               | -62px                                            | -81px                            | -97px                            |
| Gutter width    | 30px(15 on each side of column)    |                                                  |                                  |                                  |
| Nestable        | Yes                                |                                                  |                                  |                                  |
| Offsets         | Yes                                |                                                  |                                  |                                  |
| Column ordering | Yes                                |                                                  |                                  |                                  |



##### 列组合

列组合简单理解就是**更改数字**来合并列（原则：列总和数不能超12），有点类似于表格的colspan属性，以中屏（970px）为例

```html
<div class="container">
  <div class="row">
    <div class="col-md-4">.col-md-4</div>
    <div class="col-md-8">.col-md-8</div>
  </div>
  <div class="row">
    <div class="col-md-4">.col-md-4</div>
    <div class="col-md-4">.col-md-4</div>
    <div class="col-md-4">.col-md-4</div>
  </div>
  <div class="row">
    <div class="col-md-3">.col-md-3</div>
    <div class="col-md-6">.col-md-6</div>
    <div class="col-md-3">.col-md-3</div>
 </div>
</div>
```

使用上面的结构，你将看到下图的效果：

![img](https://img.mukewang.com/53b0fbdc00015f2805540051.jpg)

实现列组合方式非常简单，两个CSS两个特性：**浮动**与**宽度百分比**。

```css
@media (min-width: 992px) {
  .col-md-1,
  .col-md-2,
  .col-md-3,
  .col-md-4,
  .col-md-5,
  .col-md-6,
  .col-md-7,
  .col-md-8,
  .col-md-9,
  .col-md-10,
  .col-md-11,
  .col-md-12 {
    float: left;
  }
  .col-md-12 {
    width: 100%;
  }
  .col-md-11 {
    width: 91.66666667%;
  }
  .col-md-10 {
    width: 83.33333333%;
  }
  .col-md-9 {
    width: 75%;
  }
  .col-md-8 {
    width: 66.66666667%;
  }
  .col-md-7 {
    width: 58.33333333%;
  }
  .col-md-6 {
    width: 50%;
  }
  .col-md-5 {
    width: 41.66666667%;
  }
  .col-md-4 {
    width: 33.33333333%;
  }
  .col-md-3 {
    width: 25%;
  }
  .col-md-2 {
    width: 16.66666667%;
  }
  .col-md-1 {
    width: 8.33333333%;
  }
  .col-md-pull-12 {
    right: 100%;
  }
  .col-md-pull-11 {
    right: 91.66666667%;
  }
  .col-md-pull-10 {
    right: 83.33333333%;
  }
  .col-md-pull-9 {
    right: 75%;
  }
  .col-md-pull-8 {
    right: 66.66666667%;
  }
  .col-md-pull-7 {
    right: 58.33333333%;
  }
  .col-md-pull-6 {
    right: 50%;
  }
  .col-md-pull-5 {
    right: 41.66666667%;
  }
  .col-md-pull-4 {
    right: 33.33333333%;
  }
  .col-md-pull-3 {
    right: 25%;
  }
  .col-md-pull-2 {
    right: 16.66666667%;
  }
  .col-md-pull-1 {
    right: 8.33333333%;
  }
  .col-md-pull-0 {
    right: auto;
  }
  .col-md-push-12 {
    left: 100%;
  }
  .col-md-push-11 {
    left: 91.66666667%;
  }
  .col-md-push-10 {
    left: 83.33333333%;
  }
  .col-md-push-9 {
    left: 75%;
  }
  .col-md-push-8 {
    left: 66.66666667%;
  }
  .col-md-push-7 {
    left: 58.33333333%;
  }
  .col-md-push-6 {
    left: 50%;
  }
  .col-md-push-5 {
    left: 41.66666667%;
  }
  .col-md-push-4 {
    left: 33.33333333%;
  }
  .col-md-push-3 {
    left: 25%;
  }
  .col-md-push-2 {
    left: 16.66666667%;
  }
  .col-md-push-1 {
    left: 8.33333333%;
  }
  .col-md-push-0 {
    left: auto;
  }
  .col-md-offset-12 {
    margin-left: 100%;
  }
  .col-md-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-md-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-md-offset-9 {
    margin-left: 75%;
  }
  .col-md-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-md-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-md-offset-6 {
    margin-left: 50%;
  }
  .col-md-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-md-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-md-offset-3 {
    margin-left: 25%;
  }
  .col-md-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-md-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-md-offset-0 {
    margin-left: 0%;
  }
}
```



##### 列偏移

在列元素上添加类名`col-md-offset-*`(其中星号代表要偏移的列组合数)，有这个类名的列就会**向右偏移**。

例如，你在列元素上添加“col-md-offset-4”，表示该列向右移动4个列的宽度。

```html
<div class="container">
    <div class="row">
        <div class="col-md-4">.col-md-4</div>
        <div class="col-md-2 col-md-offset-4">列向右移动四列的间距</div>
        <div class="col-md-2">.col-md-3</div>
    </div>
    <div class="row">
        <div class="col-md-4">.col-md-4</div>
        <div class="col-md-4 col-md-offset-4">列向右移动四列的间距</div>
    </div>
</div>
```

运行：

![img](https://img.mukewang.com/53b0fe8d00018ca605530045.jpg)

实现原理非常简单，就是利用十二分之一（1/12）的margin-left。

然后有多少个offset，就有多少个margin-left。

```css
.col-md-offset-12 {
    margin-left: 100%;
  }
  .col-md-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-md-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-md-offset-9 {
    margin-left: 75%;
  }
  .col-md-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-md-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-md-offset-6 {
    margin-left: 50%;
  }
  .col-md-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-md-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-md-offset-3 {
    margin-left: 25%;
  }
  .col-md-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-md-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-md-offset-0 {
    margin-left: 0%;
  }
}
```

> 注意：对列进行向右偏移时，要保证列与偏移列的总数不超过12，不然会致列断行显示，如：

```html
<div class="row">
  <div class="col-md-3">.col-md-3</div>
  <div class="col-md-3 col-md-offset-3">col-md-offset-3</div>
  <div class="col-md-4">col-md-4</div>
</div>
```

![img](https://img.mukewang.com/53b0ff3f00015e2f05530050.jpg)



##### 列排序

列排序其实就是改变列的方向，就是改变左右浮动，并且设置浮动的距离。

通过添加类名“`col-md-push-*`”和“`col-md-pull-*`” (其中星号代表移动的列组合数)。

- 向右移动：“`col-md-push-*`”
- 向左移动：“`col-md-pull-*`” 

简单的示例：

```html
<div class="container">
  <div class="row">
    <div class="col-md-4">.col-md-4</div>
    <div class="col-md-8">.col-md-8</div>
  </div>
</div>
```

默认情况之下，上面的代码效果如下：

![img](https://img.mukewang.com/53b10a400001af8005540037.jpg)

“`col-md-4`”居左，“`col-md-8`”居右，如果要互换位置，需要将“`col-md-4`”向右移动８个列的距离，

也就是8个offset ,也就是在“`<div class="col-md-4">`”添加类名“`col-md-push-8`”，调用其样式。

```html
<div class="container">
  <div class="row">
    <div class="col-md-4 col-md-push-8">.col-md-4</div>
    <div class="col-md-8">.col-md-8</div>
  </div>
</div>
```

![img](https://img.mukewang.com/53b10a79000152b805540042.jpg)

也要将“`col-md-8`”向左移动４个列的距离，也就是4个offset，在“`<div class="col-md-8`">”上添加类名“`col-md-pull-4`”：

```html
<div class="container">
  <div class="row">
    <div class="col-md-4 col-md-push-8">.col-md-4</div>
    <div class="col-md-8 col-md-pull-4">.col-md-8</div>
  </div>
</div>
```



![img](https://img.mukewang.com/53b10aa80001687005530038.jpg)





Bootstrap仅通过设置`left`和`right`来实现**定位效果**。

```css
.col-md-pull-12 {
    right: 100%;
  }
  .col-md-pull-11 {
    right: 91.66666667%;
  }
  .col-md-pull-10 {
    right: 83.33333333%;
  }
  .col-md-pull-9 {
    right: 75%;
  }
  .col-md-pull-8 {
    right: 66.66666667%;
  }
  .col-md-pull-7 {
    right: 58.33333333%;
  }
  .col-md-pull-6 {
    right: 50%;
  }
  .col-md-pull-5 {
    right: 41.66666667%;
  }
  .col-md-pull-4 {
    right: 33.33333333%;
  }
  .col-md-pull-3 {
    right: 25%;
  }
  .col-md-pull-2 {
    right: 16.66666667%;
  }
  .col-md-pull-1 {
    right: 8.33333333%;
  }
  .col-md-pull-0 {
    right: auto;
  }
  .col-md-push-12 {
    left: 100%;
  }
  .col-md-push-11 {
    left: 91.66666667%;
  }
  .col-md-push-10 {
    left: 83.33333333%;
  }
  .col-md-push-9 {
    left: 75%;
  }
  .col-md-push-8 {
    left: 66.66666667%;
  }
  .col-md-push-7 {
    left: 58.33333333%;
  }
  .col-md-push-6 {
    left: 50%;
  }
  .col-md-push-5 {
    left: 41.66666667%;
  }
  .col-md-push-4 {
    left: 33.33333333%;
  }
  .col-md-push-3 {
    left: 25%;
  }
  .col-md-push-2 {
    left: 16.66666667%;
  }
  .col-md-push-1 {
    left: 8.33333333%;
  }
  .col-md-push-0 {
    left: auto;
  }
```



##### 列的嵌套

可以在一个列中添加一个或者多个行（row）容器，然后在这个行容器中插入列（像前面介绍的一样使用列）。

但在列容器中的行容器（row），宽度为100%时，就是当前外部列的宽度。

来看一个简单示例：

```html
<div class="container">
    <div class="row">
        <div class="col-md-8">
        我的里面嵌套了一个网格
           <div class="row">
              <div class="col-md-6">col-md-6</div>
              <div class="col-md-6">col-md-6</div>
           </div>
        </div>
        <div class="col-md-4">col-md-4</div>
     </div>
    <div class="row">
        <div class="col-md-4">.col-md-4</div>
        <div class="col-md-8">
        我的里面嵌套了一个网格
            <div class="row">
              <div class="col-md-4">col-md-4</div>
              <div class="col-md-4">col-md-4</div>
              <div class="col-md-4">col-md-4</div>
            </div>
        </div>
    </div>
</div>
```

效果如下：

![img](https://img.mukewang.com/53b10c9e0001e28b05540070.jpg)

> 注意：嵌套的列总数也需要遵循不超过12列。不然会造成末位列换行显示。

