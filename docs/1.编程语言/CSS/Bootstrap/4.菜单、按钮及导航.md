## 菜单、按钮及导航

#### 下拉菜单

在Bootstrap框架中的**下拉菜单组件**是一个独立的组件，根据不同的版本，它对应的文件：

- LESS版本：对应的源码文件为 **dropdowns.less**

- Sass版本：对应的源码文件为 **_dropdowns.scss**

在使用Bootstrap框架的下拉菜单时，必须调用Bootstrap框架提供的bootstrap.js文件。

当然，如果你使用的是未编译版本，在js文件夹下你能找到一个名为“dropdown.js”的文件。

你也可以调用这个js文件。不过在我们的教程中，我们统一调用压缩好的“bootstrap.min.js”文件：

```html
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
```

> 特别声明：因为Bootstrap的组件交互效果都是依赖于jQuery库写的插件，所以在使用bootstrap.min.js之前一定要先加载jquery.min.js才会生效果。

简单的示例：

```html
<div class="dropdown">
  <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
    Dropdown
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    <li><a href="#">Action</a></li>
    <li><a href="#">Another action</a></li>
    <li><a href="#">Something else here</a></li>
    <li role="separator" class="divider"></li>
    <li><a href="#">Separated link</a></li>
  </ul>
</div>
```

**使用方法：**

在使用Bootstrap框架中的下拉菜单组件时，其结构运用的正确与否非常的重要，如果结构和类名未使用正确，直接影响组件是否能正常运用。

1、使用一个名为“**dropdown**”的容器包裹了整个下拉菜单元素，示例中为:

```html
<div class="dropdown"></div>
```

2、使用了一个`<button>`**按钮做为父菜单，并且定义类名**`dropdown-toggle`和自定义`data-toggle`属性，且值必须和最外容器类名一致，此示例为:

```
data-toggle="dropdown"
```

子选项选中背景效果

```
aria-haspopup="true" aria-expanded="true"
```

3、下拉菜单项使用一个**ul**列表，并且定义一个类名为“**dropdown-menu**”，此示例为:

```html
<ul class="dropdown-menu">
```



##### 原理分析

Bootstrap框架中的下拉菜单组件，其下拉菜单项默认是隐藏的，如下所示：

![img](https://img.mukewang.com/53e1f1850001230803900164.jpg)

因为“**dropdown-menu**”默认样式设置了“**display:none**”

```css
.dropdown-menu {
  position: absolute; /* 设置绝对定位，相对于父元素div.dropdown */
  top: 100%; /* 让下拉菜单项在父菜单项底部，如果父元素不设置相对定位，该元素相对于body元素 */
  left: 0;
  z-index: 1000; /* 让下拉菜单项不被其他元素遮盖住 */
  display: none; /* 默认隐藏下拉菜单项 */
  float: left;
  min-width: 160px;
  padding: 5px 0;
  margin: 2px 0 0;
  font-size: 14px;
  text-align: left;
  list-style: none;
  background-color: #fff;
  background-clip: padding-box;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.15);
  border-radius: 4px;
  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
}
```

当用户点击父菜单项时，下拉菜单将会被显示出来，如下所示：

![img](https://img.mukewang.com/53e1f3dc0001c10204150412.jpg)

当用户再次点击时，下拉菜单将继续隐藏，如下所示：

![img](https://img.mukewang.com/53e1f1850001230803900164.jpg)

**原理分析：**

现在我们来分析一下实现原理，非常简单，通过js技术手段，给父容器“div.dropdown”添加或移除类名“open”来控制下拉菜单显示或隐藏。也就是说，默认情况，“div.dropdown”没有类名“open”，当用户第一次点击时，“div.dropdown”会添加类名“open”；当用户再次点击时，“div.dropdown”容器中的类名“open”又会被移除。我们可以通过浏览器的firebug查看整个过程：

默认情况：

[![img](https://img.mukewang.com/53e314020001537208700352.jpg)](https://img.mukewang.com/53e314020001537208700352.jpg)

用户第一次点击：

[![img](https://img.mukewang.com/53e314360001a81808720333.jpg)](https://img.mukewang.com/53e314360001a81808720333.jpg)

用户再次点击：

[![img](https://img.mukewang.com/53e31461000180e608710333.jpg)](https://img.mukewang.com/53e31461000180e608710333.jpg)

在bootstrap.css文件第3076行～第3078行，我们可以很容易发现：

```css
.open > .dropdown-menu {
  display: block;
}
```



##### 下拉分隔线

假设下拉菜单有两个组，那么组与组之间可以通过添加一个空的`<li>`，并且给这个`<li>`**添加类名**“**divider**”来实现添加下拉分隔线的功能。

对应的样式代码：

```css
.dropdown-menu .divider {
  height: 1px;
  margin: 9px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
```

```html
<li class="divider"></li>
```

效果如下：



![img](https://img.mukewang.com/53e346260001aed304220432.jpg)



##### 菜单标题

给每个组添加一个头部（标题）。如下：

```html
<div class="dropdown">
<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
下拉菜单
<span class="caret"></span>
</button>
  
<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
    
<li role="presentation" class="dropdown-header">第一部分菜单头部</li>
    
<li role="presentation"><a role="menuitem" tabindex="-1" href="#">下拉菜单项</a></li>
…
<li role="presentation" class="divider"></li>
    
<li role="presentation" class="dropdown-header">第二部分菜单头部</li>
…
<li role="presentation"><a role="menuitem" tabindex="-1" href="#">下拉菜单项</a></li>
</ul>
</div>
```

对应的样式如下：

```css
.dropdown-header {
  display: block;
  padding: 3px 20px;
  font-size: 12px;
  line-height: 1.42857143;
  color: #777777;
  white-space: nowrap;
}
```

运行效果如下：

![img](https://img.mukewang.com/53e34b1e0001ccdd07440651.jpg)



##### 对齐方式

###### 实现右对齐方法

下拉菜单默认是左对齐，让下拉菜单相对于父容器**右对齐**时，可以在`“dropdown-menu”`上添加一个`“pull-right”`或者`“dropdown-menu-right”`类名，如下所示：

```HTML
<div class="dropdown">
  <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
  下拉菜单
  <span class="caret"></span>
  </button>
  <ul class="dropdown-menu pull-right" role="menu" aria-labelledby="dropdownMenu1">
   …
  </ul>
</div>
```

###### 实现原理

```css
.dropdown-menu.pull-right {
  right: 0;
  left: auto;
}
.dropdown-menu-right {
  right: 0;
  left: auto;
}
```

同时一定要为.dropdown添加`float:left`css样式。

```css
.dropdown{
  float: left;
}
```

运行效果如下所示：

![img](https://img.mukewang.com/53e34c370001522204970469.jpg)



##### 与父容器左边对齐(默认)

相反的类名`“dropdown-menu-left”`，其效果就是让下拉菜单与父容器左边对齐，其实就是默认效果。

```css
.dropdown-menu-left {
  right: auto;
  left: 0;
}
```





##### 菜单项状态

下拉菜单项的默认的状态（不用设置）有**悬浮状态（:hover）**和**焦点状态（:focus）**：

```css
.dropdown-menu > li > a:hover,
.dropdown-menu > li > a:focus {
  color: #262626;
  text-decoration: none;
  background-color: #f5f5f5;
}
```

下拉菜单项除了上面两种状态，还有**当前状态（.active）**和**禁用状态（.disabled）**。

这两种状态使用方法只需要在对应的菜单项上添加对应的类名：

```html
<div class="dropdown">
  <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
  下拉菜单
  <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
    <li role="presentation" class="active"><a role="menuitem" tabindex="-1" href="#">下拉菜单项</a></li>
    ….
    <li role="presentation" class="disabled"><a role="menuitem" tabindex="-1" href="#">下拉菜单项</a></li>
  </ul>
</div>
```

运行效果如下：

![img](https://img.mukewang.com/53e44d0d000131d208720446.jpg)

源码：

```css
.dropdown-menu > .active > a,
.dropdown-menu > .active > a:hover,
.dropdown-menu > .active > a:focus {
  color: #fff;
  text-decoration: none;
  background-color: #337ab7;
  outline: 0;
}
.dropdown-menu > .disabled > a,
.dropdown-menu > .disabled > a:hover,
.dropdown-menu > .disabled > a:focus {
  color: #777777;
}
.dropdown-menu > .disabled > a:hover,
.dropdown-menu > .disabled > a:focus {
  text-decoration: none;
  cursor: not-allowed;
  background-color: transparent;
  background-image: none;
  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
}
```





#### 按钮

##### 按钮组

按钮组也是一个独立的组件，所以可以找到对应的源码文件：

- LESS版本：对应的源文件为buttons.less

- Sass版本：对应的源文件为_buttons.scss

- CSS版本：对应bootstrap.css文件第3131行～第3291行

**使用方法：**

按钮组和下拉菜单组件一样，需要依赖于button.js插件才能正常运行。

不过我们同样可以直接只调用bootstrap.js文件。因为这个文件已集成了button.js插件功能。

对于结构方面，非常的简单。使用一个名为`“btn-group”`的容器，把多个按钮放到这个容器中。如下所示：

```html
<div class="btn-group">
  <button type="button" class="btn btn-default">
     <span class="glyphicon glyphicon-step-backward"></span>
  </button>
   …
  <button type="button" class="btn btn-default">
     <span class="glyphicon glyphicon-step-forward"></span>
  </button>
</div>
```

运行效果如下所示：

![img](https://img.mukewang.com/53e458d10001af8808310131.jpg)

除了可以使用`<button>`元素之外，还可以使用其他标签元素，比如`<a>`标签。

唯一要保证的是：不管使用什么标签，“.btn-group”容器里的标签元素需要带有类名“.btn”。

按钮组实现源码如下：

```css
.btn-group,
.btn-group-vertical {
  position: relative;
  display: inline-block;
  vertical-align: middle;
}
.btn-group > .btn,
.btn-group-vertical > .btn {
  position: relative;
  float: left;
}
.btn-group > .btn:hover,
.btn-group-vertical > .btn:hover,
.btn-group > .btn:focus,
.btn-group-vertical > .btn:focus,
.btn-group > .btn:active,
.btn-group-vertical > .btn:active,
.btn-group > .btn.active,
.btn-group-vertical > .btn.active {
  z-index: 2;
}
.btn-group .btn + .btn,
.btn-group .btn + .btn-group,
.btn-group .btn-group + .btn,
.btn-group .btn-group + .btn-group {
  margin-left: -1px;
}
```

从效果图上我们可以看出，按钮组四个角都是圆角（支持CSS3的浏览器），除了第一个和最后一个具有边上的圆角之外，其他的按钮没

有圆角，它是怎么实现的呢？其实实现方法非常简单：

1、默认所有按钮都有圆角

 2、除第一个按钮和最后一个按钮（下拉按钮除外），其他的按钮都取消圆角效果

 3、第一个按钮只留左上角和左下角是圆角

 4、最后一个按钮只留右上角和右下角是圆角

对应的源码如下：

```css
.btn-group > .btn:not(:first-child):not(:last-child):not(.dropdown-toggle) {
  border-radius: 0;
}
.btn-group > .btn:first-child {
  margin-left: 0;
}
.btn-group > .btn:first-child:not(:last-child):not(.dropdown-toggle) {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
.btn-group > .btn:last-child:not(:first-child),
.btn-group > .dropdown-toggle:not(:first-child) {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group > .btn-group {
  float: left;
}
.btn-group > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
.btn-group > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}
```

案例：

```html
<div class="btn-group">
    <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-search"></span></button>
    <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-zoom-in"></span></button>
    <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-zoom-out"></span></button>
    <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-download"></span></button>
    <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-upload"></span></button>
</div>
```

![img](http://img.mukewang.com/53e851e60001ba6302200056.jpg)



##### 按钮工具栏

在富文本编辑器中，将按钮组分组排列在一起，比如说复制、剪切和粘贴一组；左对齐、中间对齐、右对齐和两端对齐一组，如下图所示：

![img](https://img.mukewang.com/53e45edc00019ad308600101.jpg)

将按钮组“btn-group”按组放在一个**大的容器“btn-toolbar”**中，如下所示：

```html
<div class="btn-toolbar">
  <div class="btn-group">
    …
  </div>
  <div class="btn-group">
    …
  </div>
  <div class="btn-group">
    …
  </div>
  <div class="btn-group">
    …
  </div>
</div>
```

实现原理主要是让容器的多个分组`“btn-group”`元素进行浮动，并且组与组之前保持5px的左外距。代码如下：

```css
.btn-toolbar {
  margin-left: -5px;
}
.btn-toolbar .btn,
.btn-toolbar .btn-group,
.btn-toolbar .input-group {
  float: left;
}
.btn-toolbar > .btn,
.btn-toolbar > .btn-group,
.btn-toolbar > .input-group {
  margin-left: 5px;
}
```

> 注意在”btn-toolbar”上清除浮动。

```css
.btn-toolbar:before,
.btn-toolbar:after{
  display: table;
  content: " ";
}
.btn-toolbar:after{
  clear: both;
}
```

运行效果如下：

![img](https://img.mukewang.com/53e462020001bd2e08240084.jpg)



##### 按钮组大小设置

- .btn-group-lg:大按钮组

- .btn-group-sm:小按钮组
- .btn-group-xs:超小按钮组

只需要在“.btn-group”类名上追加对应的类名，就可以得到不同大小的按钮组。如下所示：

只需要在“.btn-group”类名上追加对应的类名，就可以得到不同大小的按钮组。如下所示：

```
<div class="btn-toolbar">
  <div class="btn-group btn-group-lg">
    …
  </div>
  <div class="btn-group">
    …
  </div>
  <div class="btn-group btn-group-sm">
    …
  </div>
  <div class="btn-group btn-group-xs">
   …
  </div>
</div>
```

运行效果如下所示：

[![img](https://img.mukewang.com/53e4632b0001bb2808230100.jpg)](https://img.mukewang.com/53e4632b0001bb2808230100.jpg)

实现上图效果样式代码如下：

```css
.btn-lg,
.btn-group-lg > .btn {
  padding: 10px 16px;
  font-size: 18px;
  line-height: 1.3333333;
  border-radius: 6px;
}
.btn-sm,
.btn-group-sm > .btn {
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 3px;
}
.btn-xs,
.btn-group-xs > .btn {
  padding: 1px 5px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 3px;
}
```



##### 嵌套分组

下拉菜单和普通的按钮组排列在一起，实现类似于导航菜单的效果。如下所示：

![img](https://img.mukewang.com/53e466ac0001273008410307.jpg)

把制作下拉菜单的`“dropdown”`的容器换成`“btn-group”`，并且和普通的按钮放在同一级。如下所示：

```html
<div class="btn-group">
<button class="btnbtn-default" type="button">首页</button>
<button class="btnbtn-default" type="button">产品展示</button>
<button class="btnbtn-default" type="button">案例分析</button>
<button class="btnbtn-default" type="button">联系我们</button>
    
<div class="btn-group">
   <button class="btnbtn-default dropdown-toggle" data-toggle="dropdown" type="button">关于我们<span class="caret"></span></button>
   <ul class="dropdown-menu">
         <li><a href="##">公司简介</a></li>
         <li><a href="##">企业文化</a></li>
         <li><a href="##">组织结构</a></li>
         <li><a href="##">客服服务</a></li>
    </ul>
</div>
    
</div>
```

实现的样式代码：

```css
.btn-group > .btn-group {
  float: left;
}
.btn-group > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
.btn-group > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group .dropdown-toggle:active,
.btn-group.open .dropdown-toggle {
  outline: 0;
}
.btn-group > .btn + .dropdown-toggle {
  padding-right: 8px;
  padding-left: 8px;
}
.btn-group > .btn-lg + .dropdown-toggle {
  padding-right: 12px;
  padding-left: 12px;
}
.btn-group.open .dropdown-toggle {
  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
}
.btn-group.open .dropdown-toggle.btn-link {
  -webkit-box-shadow: none;
  box-shadow: none;
}
```



##### 垂直分组(容器)

把水平分组的`“btn-group”`类名换成`“btn-group-vertical”`即可。如下所示：

```html
<div class="btn-group-vertical">
<button class="btnbtn-default" type="button">首页</button>
<button class="btnbtn-default" type="button">产品展示</button>
<button class="btnbtn-default" type="button">案例分析</button>
<button class="btnbtn-default" type="button">联系我们</button>
<div class="btn-group">
   <button class="btnbtn-default dropdown-toggle" data-toggle="dropdown" type="button">关于我们<span class="caret"></span></button>
   <ul class="dropdown-menu">
      <li><a href="##">公司简介</a></li>
      <li><a href="##">企业文化</a></li>
      <li><a href="##">组织结构</a></li>
      <li><a href="##">客服服务</a></li>
</ul>
</div>
</div>
```

运行的效果如下：

![img](https://img.mukewang.com/53e85b8f0001cfd001870309.jpg)

实现垂直分组的样式代码：

```css
.btn-group-vertical > .btn,
.btn-group-vertical > .btn-group,
.btn-group-vertical > .btn-group > .btn {
  display: block;
  float: none;
  width: 100%;
  max-width: 100%;
}
.btn-group-vertical > .btn-group > .btn {
  float: none;
}
.btn-group-vertical > .btn + .btn,
.btn-group-vertical > .btn + .btn-group,
.btn-group-vertical > .btn-group + .btn,
.btn-group-vertical > .btn-group + .btn-group {
  margin-top: -1px;
  margin-left: 0;
}
.btn-group-vertical > .btn:not(:first-child):not(:last-child) {
  border-radius: 0;
}
.btn-group-vertical > .btn:first-child:not(:last-child) {
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group-vertical > .btn:last-child:not(:first-child) {
  border-top-left-radius: 0;
  border-top-right-radius: 0;
  border-bottom-right-radius: 4px;
  border-bottom-left-radius: 4px;
}
.btn-group-vertical > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group-vertical > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-top-left-radius: 0;
  border-top-right-radius: 0;
}
```

和水平分组按钮不一样的是：

- 水平分组按钮第一个按钮左上角和左下角具有圆角以及最后一个按钮右上角和右下角具有圆角

- 垂直分组按钮第一个按钮左上角和右上角具有圆角以及最后一个按钮左下角和右下角具有圆角



##### 等分按钮

等分按钮的效果在**移动端**上特别的实用。

整个按钮组宽度是容器的100%，而按钮组里面的每个按钮平分整个容器宽度。

例如，如果你按钮组里面有五个按钮，那么每个按钮是20%的宽度，如果有四个按钮，那么每个按钮是25%宽度，以此类推。



等分按钮也常被称为是自适应分组按钮，只需要在按钮组`“btn-group”`上**追加**一个“**btn-group-justified**”类名，如下所示：

```html
<div class="btn-wrap">
<div class="btn-group btn-group-justified">
  <a class="btnbtn-default" href="#">首页</a>
  <a class="btnbtn-default" href="#">产品展示</a>
  <a class="btnbtn-default" href="#">案例分析</a>
  <a class="btnbtn-default" href="#">联系我们</a>
</div>
</div>
```

运行效果如下：

![img](https://img.mukewang.com/53e46af60001ab0306850099.jpg)

实现原理非常简单，把“btn-group-justified”模拟成表格（display:table），而且把里面的按钮模拟成表格单元格（display:table-cell）。具体样式代码如下：

```css
.btn-group-justified {
  display: table;
  width: 100%;
  table-layout: fixed;
  border-collapse: separate;
}
.btn-group-justified > .btn,
.btn-group-justified > .btn-group {
  display: table-cell;
  float: none;
  width: 1%;
}
.btn-group-justified > .btn-group .btn {
  width: 100%;
}
.btn-group-justified > .btn-group .dropdown-menu {
  left: auto;
}
```

> **特别声明**：在制作等分按钮组时，请尽量使用`<a>`标签元素来制作按钮，因为使用`<button>`标签元素时，使用display:table在部分浏览器下支持并不友好。





##### 按钮下拉菜单

按钮下拉菜单仅从外观上看和上一节介绍的下拉菜单效果基本上是一样的。

不同的是在普通的下拉菜单的基础上封装了按钮（.btn）样式效果。简单点说就是点击一个按钮，会显示隐藏的下拉菜单。

按钮下拉菜单其实就是普通的下拉菜单，只不过把`"<a>"`标签元素换成了`"<button>"`标签元素。

唯一不同的是外部容器`“div.dropdown”`换成了`“div.btn-group”`。如下所示：

```html
<div class="btn-group">
      <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">按钮下拉菜单<span class="caret"></span></button>
      <ul class="dropdown-menu">
          <li><a href="##">按钮下拉菜单项</a></li>
          <li><a href="##">按钮下拉菜单项</a></li>
          <li><a href="##">按钮下拉菜单项</a></li>
          <li><a href="##">按钮下拉菜单项</a></li>
      </ul>
</div>
<script src="https://www.imooc.com/static/lib/jquery/1.9.1/jquery.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script> 
```

实现样式代码如下：

```css
.btn-group .dropdown-toggle:active,
.btn-group.open .dropdown-toggle {
  outline: 0;
}
.btn-group > .btn + .dropdown-toggle {
  padding-right: 8px;
  padding-left: 8px;
}
.btn-group > .btn-lg + .dropdown-toggle {
  padding-right: 12px;
  padding-left: 12px;
}
.btn-group.open .dropdown-toggle {
  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
}
.btn-group.open .dropdown-toggle.btn-link {
  -webkit-box-shadow: none;
  box-shadow: none;
}
```

运行的效果如下：

![](https://img.mukewang.com/53e9be8300019b2a02020189.jpg)



##### 按钮的向下向上三角形

按钮的向下三角形，我们是通过在`<button>`标签中添加一个`<span>`标签元素，并且命名为“caret”:

```html
<button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
    按钮下拉菜单
    <span class="caret"></span>
</button>
```

这个三角形完全是通过CSS代码来实现的：

```css
.caret {
  display: inline-block;
  width: 0;
  height: 0;
  margin-left: 2px;
  vertical-align: middle;
  border-top: 4px dashed;
  border-top: 4px solid \9;
  border-right: 4px solid transparent;
  border-left: 4px solid transparent;
}
```

另外在按钮中的三角形**“caret”**做了一定的样式处理：

```css
.btn .caret {
  margin-left: 0;
}
.btn-lg .caret {
  border-width: 5px 5px 0;
  border-bottom-width: 0;
}
.dropup .btn-lg .caret {
  border-width: 0 5px 5px;
}
```

有的时候我们的下拉菜单会向上弹起（接下来一个小节会介绍），这个时候我们的三角方向需要朝上显示，实现方法：

需要在**“div.btn-group”类上追加“dropup”类名**（这也是做向上弹起下拉菜单要用的类名）。

```css
.dropup .caret,
.navbar-fixed-bottom .dropdown .caret {
  content: "";
  border-top: 0;
  border-bottom: 4px dashed;
  border-bottom: 4px solid \9;
}
```

上面代码中可以看出，向上三角与向下三角的区别：其实就是改变了一个border-bottom的值。

下面是向上弹起菜单的例子：

```html
<div class="btn-group dropup">
  <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">按钮下拉菜单<span class="caret"></span></button>
  <ul class="dropdown-menu">
        <li><a href="##">按钮下拉菜单项</a></li>
        <li><a href="##">按钮下拉菜单项</a></li>
        <li><a href="##">按钮下拉菜单项</a></li>
        <li><a href="##">按钮下拉菜单项</a></li>
  </ul>
</div>
```

运行效果如下：

![img](https://img.mukewang.com/53e8651e0001c0a102900141.jpg)



##### 向上弹起的下拉菜单

比如说你的菜单在页面最底部，而这个菜单正好有一个下拉菜单，为了让用户有更好的体验，不得不让下拉菜单向上弹出。

为这种效果提代了一个类名“dropup”。

只需要在`“div.btn-group”`上添加这个类名（当然，如果是普通向上弹出下拉菜单，你只需要在**“dropdown”**类名基础上追加“**dropup**”类名即可）。

```html
<div class="btn-group dropup">
    <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">按钮下拉菜单<span class="caret"></span></button>
    <ul class="dropdown-menu">
         <li><a href="##">按钮下拉菜单项</a></li>
         <li><a href="##">按钮下拉菜单项</a></li>
         <li><a href="##">按钮下拉菜单项</a></li>
         <li><a href="##">按钮下拉菜单项</a></li>
    </ul>
</div>
```

运行的效果如下：

![img](https://img.mukewang.com/53e868aa0001399d01890186.jpg)

源码：

```css
.dropup .dropdown-menu,
.navbar-fixed-bottom .dropdown .dropdown-menu {
  top: auto;
  bottom: 100%;
  margin-bottom: 2px;
}
```

从上面的例子中可以看出，实现方法为：主要将“dropdown-menu”的top值变成了auto，而把bottom值换成了100%：





#### 导航

在Bootstrap框架将导航独立出来成为一个导航组件，根据不同的版本，可以找到对应的源码：

- **LESS版本**：对应的源文件是**navs.less**

- **Sass版本**：对应的源文件是**_navs.scss**

- **编译后版本**：对应源码是**bootstrap.css**



##### 导航基础样式

Bootstrap框架中制作导航条主要通过**“.nav”**样式。

默认的“.nav”样式不提供默认的导航样式，必须附加另外一个样式才会有效，比如“nav-tabs”、“nav-pills”之类。

实现方法就是为ul标签加入.nav和nav-tabs两个类样式。

```css
.nav {
  padding-left: 0;
  margin-bottom: 0;
  list-style: none;
}
.nav > li {
  position: relative;
  display: block;
}
.nav > li > a {
  position: relative;
  display: block;
  padding: 10px 15px;
}
.nav > li > a:hover,
.nav > li > a:focus {
  text-decoration: none;
  background-color: #eeeeee;
}
.nav > li.disabled > a {
  color: #777777;
}
.nav > li.disabled > a:hover,
.nav > li.disabled > a:focus {
  color: #777777;
  text-decoration: none;
  cursor: not-allowed;
  background-color: transparent;
}
.nav .open > a,
.nav .open > a:hover,
.nav .open > a:focus {
  background-color: #eeeeee;
  border-color: #337ab7;
}
.nav .nav-divider {
  height: 1px;
  margin: 9px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
.nav > li > a > img {
  max-width: none;
}
```



##### 标签形tab导航

标签形导航，也称为选项卡导航。特别是在很多内容分块显示的时，使用这种选项卡来分组十分适合。

标签形导航是通过“**nav-tabs**”样式来实现。在制作标签形导航时需要在原导航“nav”上追加此类名，如：

```html
<ul class="nav nav-tabs">
     <li><a href="##">Home</a></li>
     <li><a href="##">CSS3</a></li>
     <li><a href="##">Sass</a></li>
     <li><a href="##">jQuery</a></li>
     <li><a href="##">Responsive</a></li>
</ul>
```

运行的效果如下所示：

![img](https://img.mukewang.com/53e86aa60001805308940091.jpg)

实现原理非常的简单，将菜单项（li）按块显示，并且让他们在同一水平上排列，然后定义非高亮菜单的样式和鼠标悬浮效果。代码如下：

```css
.nav-tabs {
  border-bottom: 1px solid #ddd;
}
.nav-tabs > li {
  float: left;
  margin-bottom: -1px;
}
.nav-tabs > li > a {
  margin-right: 2px;
  line-height: 1.42857143;
  border: 1px solid transparent;
  border-radius: 4px 4px 0 0;
}
.nav-tabs > li > a:hover {
  border-color: #eeeeee #eeeeee #ddd;
}
```

其实上例的效果和我们平时看到的选项卡效果并不一致。一般情况之下，选项卡教会有一个当前选中项。

假设我们想让“Home”项为当前选中项，只需要在其标签上添加类名`class="active"`即可：

```html
<ul class="nav nav-tabs">
    <li class="active"><a href="##">Home</a></li>
    …
</ul>
```

运行效果如下：

![img](https://img.mukewang.com/53e86b7700019e0308540121.jpg)

对应样式代码如下：

```css
.nav-tabs > li.active > a,
.nav-tabs > li.active > a:hover,
.nav-tabs > li.active > a:focus {
  color: #555555;
  cursor: default;
  background-color: #fff;
  border: 1px solid #ddd;
  border-bottom-color: transparent;
}
```

除了当前项之外，有的选项卡还带有禁用状态，实现这样的效果，只需要在标签项上添加**“`class="disabled"`”**即可：

```HTML
<ul class="nav nav-tabs">
     <li class="active"><a href="##">Home</a></li>
     …
     <li class="disabled"><a href="##">Responsive</a></li>
</ul>
```

运行效果如下：

![img](https://img.mukewang.com/53e86c8b00015ca208550155.jpg)

实现这个效果的样式，在默认样式“.nav”中就带有：

```CSS
.nav > li.disabled > a {
  color: #777777;
}
.nav > li.disabled > a:hover,
.nav > li.disabled > a:focus {
  color: #777777;
  text-decoration: none;
  cursor: not-allowed;
  background-color: transparent;
}
```

> 注意：我们看到的选项卡效果，点击菜单项就可以切换内容，如果要实现这样的效果需要配合js插件，这部分将在后面的教程中会介绍。



##### 胶囊形(pills)导航

当前项高亮显示，并带有圆角效果。其实现方法和“nav-tabs”类似，同样的结构，只需要把类名“nav-tabs”换成“**nav-pills**”即可：

```html
<ul class="nav nav-pills">
      <li class="active"><a href="##">Home</a></li>
      <li><a href="##">CSS3</a></li>
      <li><a href="##">Sass</a></li>
      <li><a href="##">jQuery</a></li>
      <li class="disabled"><a href="##">Responsive</a></li>
</ul>
```

![img](https://img.mukewang.com/53e86ee60001711e08160307.jpg)

实现效果样式代码：

```css
.nav-pills > li {
  float: left;
}
.nav-pills > li > a {
  border-radius: 4px;
}
.nav-pills > li + li {
  margin-left: 2px;
}
.nav-pills > li.active > a,
.nav-pills > li.active > a:hover,
.nav-pills > li.active > a:focus {
  color: #fff;
  background-color: #337ab7;
}
```



##### 垂直堆叠的导航

制作垂直堆叠导航只需要在**“nav-pills”**的基础上添加一个“**nav-stacked**”类名即可：

```html
<ul class="nav nav-pills nav-stacked">
     <li class="active"><a href="##">Home</a></li>
     <li><a href="##">CSS3</a></li>
     <li><a href="##">Sass</a></li>
     <li><a href="##">jQuery</a></li>
     <li class="disabled"><a href="##">Responsive</a></li>
</ul>
```

运行效果如下：

![img](https://img.mukewang.com/53e871a2000102b707240444.jpg)

垂直堆叠导航与胶囊形导航相比，主要是让导航项不浮动，让其垂直排列，然后给相邻导航项留有一定的间距：

```css
.nav-stacked > li {
  float: none;
}
.nav-stacked > li + li {
  margin-top: 2px;
  margin-left: 0;
}
```

在下拉菜单一节中，下拉菜单组与组之间有一个分隔线。

其实在垂直堆叠导航也具有这样的效果，只需要添加在导航项之间添加“`<li class="nav-divider"></li>`”即可：

```html
<ul class="nav nav-pills nav-stacked">
    <li class="active"><a href="##">Home</a></li>
    <li><a href="##">CSS3</a></li>
    <li><a href="##">Sass</a></li>
    <li><a href="##">jQuery</a></li>
    
   <li class="nav-divider"></li>
   
    <li class="disabled"><a href="##">Responsive</a></li>
</ul>
```

实现样式：

```css
.nav .nav-divider {
  height: 1px;
  margin: 9px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
```

如果我在”nav-tabs”上添加“nav-stacked”是不是也能实现垂直的标签选项导航呢？

答案是：在bootstrap V2.x版本可以，但在Bootstrap V3.x版本将这个效果取消了，可能作者觉得垂直选择项并不太常见，也不美观吧。



##### 自适应导航

###### 使用

自适应导航指的是导航占据容器全部宽度，而且菜单项可以像表格的单元格一样自适应宽度。

自适应导航和前面使用“**btn-group-justified**”制作的自适应按钮组是一样的。

只不过在制作自适应导航时更换了另一个类名“**nav-justified**”。当然他需要和“nav-tabs”或者“nav-pills”配合在一起使用。如：

```html
<ul class="nav nav-tabs nav-justified">
     <li class="active"><a href="##">Home</a></li>
     <li><a href="##">CSS3</a></li>
     <li><a href="##">Sass</a></li>
     <li><a href="##">jQuery</a></li>
     <li><a href="##">Responsive</a></li>
</ul>
```

运行效果如下：

![img](https://img.mukewang.com/53ed99aa00016bcb08630061.jpg)



###### 实现原理

实现原理并不难，列表`<ul>`上设置宽度为“100%”，然后每个菜单项`<li>`设置了**display:table-cell**，让列表项以模拟表格单元格的形式显示：

```css
.nav-justified {
  width: 100%;
}
.nav-justified > li {
  float: none;
}
.nav-justified > li > a {
  margin-bottom: 5px;
  text-align: center;
}
.nav-justified > .dropdown .dropdown-menu {
  top: auto;
  left: auto;
}
@media (min-width: 768px) {
  .nav-justified > li {
    display: table-cell;
    width: 1%;
  }
  .nav-justified > li > a {
    margin-bottom: 0;
  }
}
```

这里有一个媒体查询条件：`@media (min-width:768px){…}`表示自适应导航仅在浏览器视窗宽度大于768px才能按上图风格显示。

当你的浏览器视窗宽度小于768px的时候，将会按下图的风格展示：

![img](https://img.mukewang.com/53e874f70001bacb06150786.jpg)

从上图效果可以得知，“nav-tabs”和“nav-justified”配合在一起使用，也就是自适应选项卡导航，浏览器视窗宽度小于768px时，在样式上做了另外的处理。

```css
.nav-tabs.nav-justified {
  width: 100%;
  border-bottom: 0;
}
.nav-tabs.nav-justified > li {
  float: none;
}
.nav-tabs.nav-justified > li > a {
  margin-bottom: 5px;
  text-align: center;
}
.nav-tabs.nav-justified > .dropdown .dropdown-menu {
  top: auto;
  left: auto;
}
@media (min-width: 768px) {
  .nav-tabs.nav-justified > li {
    display: table-cell;
    width: 1%;
  }
  .nav-tabs.nav-justified > li > a {
    margin-bottom: 0;
  }
}
.nav-tabs.nav-justified > li > a {
  margin-right: 0;
  border-radius: 4px;
}
.nav-tabs.nav-justified > .active > a,
.nav-tabs.nav-justified > .active > a:hover,
.nav-tabs.nav-justified > .active > a:focus {
  border: 1px solid #ddd;
}
@media (min-width: 768px) {
  .nav-tabs.nav-justified > li > a {
    border-bottom: 1px solid #ddd;
    border-radius: 4px 4px 0 0;
  }
  .nav-tabs.nav-justified > .active > a,
  .nav-tabs.nav-justified > .active > a:hover,
  .nav-tabs.nav-justified > .active > a:focus {
    border-bottom-color: #fff;
  }
}
.nav-pills > li {
  float: left;
}
.nav-pills > li > a {
  border-radius: 4px;
}
.nav-pills > li + li {
  margin-left: 2px;
}
.nav-pills > li.active > a,
.nav-pills > li.active > a:hover,
.nav-pills > li.active > a:focus {
  color: #fff;
  background-color: #337ab7;
}
```



##### 二级导航

只需要将li当作父容器，使用类名“**dropdown**”，同时在li中嵌套另一个列表ul，使用前面介绍下拉菜单的方法就可以：

```html
<ul class="nav nav-pills">
     <li class="active"><a href="##">首页</a></li>
     <li class="dropdown">
        <a href="##" class="dropdown-toggle" data-toggle="dropdown">教程<span class="caret"></span></a>
        <ul class="dropdown-menu">
            <li><a href="##">CSS3</a></li>
            …
       </ul>
     </li>
     <li><a href="##">关于我们</a></li>
</ul>
```

运行效果如下：

![img](https://img.mukewang.com/53e877e700014b0104150304.jpg)

通过浏览器调试工具，不难发现，点击有二级导航的菜单项，会自动添加“open”类名，再次点击就会删除添加的“open”类名：

![img](https://img.mukewang.com/53e878580001e0b307120404.jpg)

简单点来说，就是依靠这个类名来控制二级导航显示与否，并且设置了背景色和边框：

```css
.nav .open > a,
.nav .open > a:hover,
.nav .open > a:focus {
  background-color: #eeeeee;
  border-color: #337ab7;
}
```

可以用分隔线，只需要添加“`<li class="nav-divider"></li>`”这样的一个空标签就可以了。

运行效果如下：

![img](https://img.mukewang.com/53e878b600013f7d04750337.jpg)



源码：

```css
.nav .nav-divider {
  height: 1px;
  margin: 9px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
```





##### 面包屑式导航

面包屑(Breadcrumb)一般用于导航，主要是起的作用是告诉用户现在所处页面的位置（当前位置）。

在Bootstrap框架中面包屑也是一个独立模块组件：

- LESS版本：对应源文件breadcrumbs.less
- Sass版本：对应源文件_breadcrumbs.scss
- 编译出来的版本：源码对应bootstrap.css文件

**使用方法：**

使用方式就很简单，为ol加入breadcrumb类：

```html
<ol class="breadcrumb">
  <li><a href="#">首页</a></li>
  <li><a href="#">我的书</a></li>
  <li class="active">《图解CSS3》</li>
</ol>
```

**实现原理：**

看来不错吧！作者是使用`li+li:before`实现li与li之间的分隔符，所以这种方案在IE低版本就惨了（不支持）。

```css
.breadcrumb {
  padding: 8px 15px;
  margin-bottom: 20px;
  list-style: none;
  background-color: #f5f5f5;
  border-radius: 4px;
}
.breadcrumb > li {
  display: inline-block;
}
.breadcrumb > li + li:before {
  padding: 0 5px;
  color: #ccc;
  content: "/\00a0";
}
.breadcrumb > .active {
  color: #777777;
}
```
