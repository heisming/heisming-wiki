# 字符串函数与数字函数

在 Sass 中除了可以定义变量，具有 @extend、%placeholder 和 mixins 等特性之外，还自备了一系列的函数功能。其主要包括：

- 字符串函数
- 数字函数
- 列表函数
- 颜色函数
- Introspection 函数
- 三元函数
- **自定义函数**



## 字符串函数

字符串函数是用来处理字符串的函数。

### unquote()

主要是用来删除一个字符串中的引号，如果这个字符串没有带有引号，将返回原始的字符串。

```scss
.test1 {
    content:  unquote('Hello Sass!') ;
}
.test2 {
    content: unquote("'Hello Sass!");
}
.test3 {
    content: unquote("I'm Web Designer");
}
.test4 {
    content: unquote("'Hello Sass!'");
}
.test5 {
    content: unquote('"Hello Sass!"');
}
.test6 {
    content: unquote(Hello Sass);
}
```

编译后的 css 代码：

```css
.test1 {
  content: Hello Sass!;
}

.test2 {
  content: 'Hello Sass!;
}

.test3 {
  content: I'm Web Designer;
}

.test4 {
  content: 'Hello Sass!';
}

.test5 {
  content: "Hello Sass!";
}

.test6 {
  content: Hello Sass;
}
```

> 注意：unquote( ) 函数只能删除字符串最前和最后的引号（双引号或单引号），而无法删除字符串中间的引号。
>
> 如果字符没有带引号，返回的将是字符串本身。



### quote()

给字符串添加引号。字符串自身带有引号会统一换成双引号 ""

```scss
.test1 {
    content: quote('Hello Sass!');
}
.test2 {
    content: quote("Hello Sass!");
}
.test3 {
    content: quote(ImWebDesigner);
}
.test4 {
    content: quote(' ');
}
```

编译出来的 css 代码：

```css
.test1 {
  content: "Hello Sass!";
}

.test2 {
  content: "Hello Sass!";
}

.test3 {
  content: "ImWebDesigner";
}

.test4 {
  content: " ";
}
```

> 使用 quote() 函数中使用多个空格视为一个空格，且null也表示为空

```scss
.test11 {
  content: quote(Hello  null  Sass);
}
```

```css
.test11 {
  content: "Hello Sass";
}
```

> 碰到特殊符号，比如： !、?、> 等，除中折号 - 和 下划线_ 都需要使用双引号括起，否则编译器在进行编译的时候同样会报错：

```scss
.test11 {
  content: quote(Hello '>');
}
```

```css
.test11 {
  content: 'Hello ">"';
}
```



### To-upper-case()

将字符串小写字母转换成大写字母。如：

```scss
.test {
  text: to-upper-case(aaaa);
  text: to-upper-case(aA-aAAA-aaa);
}
```

编译出来的 css 代码：

```css
.test {
  text: AAAA;
  text: AA-AAAA-AAA;
}
```



### To-lower-case()

将字符串转换成小写字母：

```scss
.test {
  text: to-lower-case(AAAAA);
  text: to-lower-case(aA-aAAA-aaa);
}
```

编译出来的 css 代码：

```css
//CSS
.test {
  text: aaaaa;
  text: aa-aaaa-aaa;
}
```



## 数字函数

针对数字方面提供一系列的函数功能：

### percentage(`$value`)

 将一个不带单位的数转换成百分比值；

```sh
>> percentage(.2)
20%
>> percentage(2px / 10px)
20%
>> percentage(2em / 10em)
20%
>>
```

```scss
.footer{
    width : percentage(.2)
}
```

编译后的 css 代码：

```css
.footer{
    width : 20%
}
```

带有单位的值

```scss
.test11 {
  width: percentage(2px / 10em);
}
// Error: argument $number of `percentage($number)` must be unitless
```



### round($value)

将数值(可以**携带单位**的任何数值)**四舍五入**，转换成一个最接近的整数；

```sh
>> round(12.3)
12
>> round(12.5)
13
>> round(1.49999)
1
>> round(2.0)
2
>> round(20%)
20%
>> round(2.2%)
2%
>> round(3.9em)
4em
>> round(2.3px)
2px
>> round(2px / 3px)
1
>> round(1px / 3px)
0
>> round(3px / 2em)
2px/em
```

```scss
.footer {
   width:round(12.3px)
}
```

编译后的 css 代码：

```css
.footer {
  width: 12px;
}
```



### ceil(`$value`)

将大于自己的小数转换成下一位整数；

```sh
>> ceil(2.0)
2
>> ceil(2.1)
3
>> ceil(2.6)
3
>> ceil(2.3%)
3%
>> ceil(2.3px)
3px
>> ceil(2.5px)
3px
>> ceil(2px / 3px)
1
>> ceil(2% / 3px)
1%/px
>> ceil(1em / 5px)
1em/px
```

```
.footer {
   width:ceil(12.3px);
}
```

编译后的 css 代码：

```
.footer {
  width: 13px;
}
```



### floor(`$value`)

将一个数去除他的小数部分；

```
>> floor(2.1)
2
>> floor(2.5)
2
>> floor(3.5%)
3%
>> floor(10.2px)
10px
>> floor(10.8em)
10em
>> floor(2px / 10px)
0
>> floor(3px / 1em)
3px/em
```

```
.footer {
   width:floor(12.3px);
}
```

编译后的 css 代码：

```
.footer {
  width: 12px;
}
```



### abs(`$value`)

返回一个数的绝对值；

```
>> abs(10)
10
>> abs(-10)
10
>> abs(-10px)
10px
>> abs(-2em)
2em
>> abs(-.5%)
0.5%
>> abs(-1px / 2px)
0.5
```

```
.footer {
   width:abs(-12.3px);
}
```

编译后的 css 代码：

```
.footer {
  width: 12.3px;
}
```



### min(`$numbers…`)

找出几个数值之间的最小值；

```
>> min(1, 2, 1%, 3, 300%)
1%
>> min(1px, 2, 3px)
1px
>> min(1em, 2em, 6em)
1em
```

出现两种不同类型的单位，将会报错误信息：

```scss
.test11 {
  width: min(1px,1em);
}
// Internal Error: Incompatible units: 'em' and 'px'.
```



### max(`$numbers…`)

找出几个数值之间的最大值；

```
>> max(1, 5)
5
>> max(1px, 5px)
5px
```

```
.test11 {
  width: max(1, 3px, 5%, 6);
}
// Internal Error: Incompatible units: 'px' and '%'.
```



### random()

获取随机数

```
>> random()
0.03886
>> random()
0.66527
>> random()
0.8125
>> random()
0.26839
>> random()
0.85063
```


## 列表函数

列表函数主要包括一些对列表参数的函数使用

### length(`$list`)

返回一个列表的长度值；

```
>> length(10px)
1
>> length(10px 20px (border 1px solid) 2em)
4
>> length(border 1px solid)
3
```

列表参数之间使用空格隔开，不能使用逗号，否则函数将会出错：

```
>> length(10px,20px,(border 1px solid),2em)
SyntaxError: wrong number of arguments (4 for 1) for `length'
>> length(1,2px)
SyntaxError: wrong number of arguments (2 for 1) for `length'
```



### nth(`$list`, `$n`)

返回一个列表中指定的某个标签值

```scss
nth($list, $n);
```

&n （ > 0）=>  1 是指列表中的第一个标签值，2 是指列给中的第二个标签值，依此类推。如：

```
>> nth(10px 20px 30px,1)
10px
>> nth((Helvetica,Arial,sans-serif),2)
"Arial"
>> nth((1px solid red) border-top green,1)
(1px "solid" #ff0000)
```



### join(`$list1`, `$list2`, `[$separator]`)

**只能将两个列**给连接在一起，变成一个列表；

```
>> join(10px 20px, 30px 40px)
(10px 20px 30px 40px)
>> join((blue,red),(#abc,#def))
(#0000ff, #ff0000, #aabbcc, #ddeeff)
>> join((blue,red),(#abc #def))
(#0000ff, #ff0000, #aabbcc, #ddeeff)
```

两个以上：

```
>> join((blue red), join((#abc #def),(#dee #eff)))
(#0000ff #ff0000 #aabbcc #ddeeff #ddeeee #eeffff)
```

参数 $separator，给列表函数连接列表值，使用的分隔符号，

- auto（默认值）

- comma(表项值之间使用逗号（,）分隔)
- space(列表项值之间使用空格（ ）分隔。)

| auto                                            | 效果                                                         | 示例代码                                                     |
| ----------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 列表中的第一个列表中每个值之间使用的是逗号（,） | 合并的列表中每个列表项之间使用逗号,分隔                      | `>> join((blue, red, #eff),(green orange))`<br />`(#0000ff, #ff0000, #eeffff, #008000, #ffa500)` |
| 列表中的第一个列表中只有一个列表项              | 每个列表项目这间使用的分隔符号会**根据第二个列表项**中使用的，<br />如果第二列表项中使用是,分隔，则使用逗号分隔；<br />如果第二列项之间使用的空格符，则使用空格分隔： | `>> join(blue,(green, orange)) `<br />`(#0000ff, #008000, #ffa500) `<br />`>> join(blue,(green orange)) `<br />`(#0000ff #008000 #ffa500)` |
| 列表中的第一个列表中每个值之间使用的是空格      | 合并的列表中每个列表项之间使用空格分隔                       | `>> join((blue green),(red,orange))`<br />` (#0000ff #008000 #ff0000 #ffa500) `<br />`>> join((blue green),(red orange))` <br />`(#0000ff #008000 #ff0000 #ffa500)` |
| 两个列表中的列表项小于1时                       | 将会以空格分隔                                               | `>> join(blue,red)`<br /> `(#0000ff #ff0000)`                |

> 建议: 指定$separator参数进行使用join函数

```
>> join(blue, red, comma)
(#0000ff, #ff0000)
>> join(blue, red, space)
(#0000ff #ff0000)
>> join((blue green),(red,orange),comma)
(#0000ff, #008000, #ff0000, #ffa500)
>> join((blue green),(red,orange),space)
(#0000ff #008000 #ff0000 #ffa500)
>> join((blue, green),(red,orange),comma)
(#0000ff, #008000, #ff0000, #ffa500)
>> join((blue, green),(red,orange),space)
(#0000ff #008000 #ff0000 #ffa500)
>> join(blue,(red,orange),comma)
(#0000ff, #ff0000, #ffa500)
>> join(blue,(red,orange),space)
(#0000ff #ff0000 #ffa500)
>> join(blue,(red orange),comma)
(#0000ff, #ff0000, #ffa500)
>> join(blue,(red orange),space)
(#0000ff #ff0000 #ffa500)
```



### append(`$list1`, `$val`, `[$separator]`)

将某个值放在列表的最后；

```
>> join(blue,red,comma)
(#0000ff, #ff0000)
>> join(blue,red,space)
(#0000ff #ff0000)
>> join((blue green),(red,orange),comma)
(#0000ff, #008000, #ff0000, #ffa500)
>> join((blue green),(red,orange),space)
(#0000ff #008000 #ff0000 #ffa500)
>> join((blue, green),(red,orange),comma)
(#0000ff, #008000, #ff0000, #ffa500)
>> join((blue, green),(red,orange),space)
(#0000ff #008000 #ff0000 #ffa500)
>> join(blue,(red,orange),comma)
(#0000ff, #ff0000, #ffa500)
>> join(blue,(red,orange),space)
(#0000ff #ff0000 #ffa500)
>> join(blue,(red orange),comma)
(#0000ff, #ff0000, #ffa500)
>> join(blue,(red orange),space)
(#0000ff #ff0000 #ffa500)
```

没有明确的指定 $separator 参数值，其默认值是 auto。

- 如果列表**只有一个**列表项时，那么插入进来的值将和原来的值会以**空格**的方式分隔。
- 如果列表中列表项是以**空格**分隔列表项，那么插入进来的列表项也将以**空格**分隔；
- 如果列表中列表项是以**逗号**分隔列表项，那么插入进来的列表项也将以**逗号**分隔。

可以显示的设置 $separator 参数

- 如果取值为 comma 将会以逗号分隔列表项
- 如果取值为 space 将会以空格分隔列表项

```
>> append((blue green), red, comma)
(#0000ff, #008000, #ff0000)
>> append((blue green), red, space)
(#0000ff #008000 #ff0000)
>> append((blue, green), red, comma)
(#0000ff, #008000, #ff0000)
>> append((blue, green), red, space)
(#0000ff #008000 #ff0000)
>> append(blue, red, comma)
(#0000ff, #ff0000)
>> append(blue, red, space)
(#0000ff #ff0000)
```



### zip(`$lists…`)

将几个列表结合成一个多维的列表；

```
>> zip(1px 2px 3px, solid dashed dotted, green blue red)
((1px "solid" #008000), (2px "dashed" #0000ff), (3px "dotted" #ff0000))
```

每个单一的列表个数值可以是不相同的：

```
.test11 {
  border: zip(1px 2px 3px, solid dotted, green blue red);
}
```

```css
.test11 {
  border: 1px solid green, 2px dotted blue;
}
```

每个单一列表的值对应的取其相同位置值：

| --- List --- | --- nth(1) --- | --- nth(2) --- | --- nth(3) --- |
| ------------ | -------------- | -------------- | -------------- |
| List1        | 1px            | 2px            | 3px            |
| List2        | solid          | dashed         | dotted         |
| List3        | green          | blue           | red            |

zip()函数组合（竖排方向）出来就成了：

```css
1px solid green, 2px dashed blue, 3px dotted red
```



### index(`$list`, `$value`)

返回一个值在列表中的位置值（已1开头）。

```
>> index(1px solid red, 1px)
1
>> index(1px solid red, solid)
2
>> index(1px solid red, red)
3
```

如果指定的值**不在列表中**（没有找到相应的值），那么返回的值将是 **false**。**验证为无返回值**





## Introspection函数

主要用来对值做一个判断的作用

### type-of(`$value`)

返回一个值的类型

- number 为数值型。
- string 为字符串型。
- bool 为布尔型。
- color 为颜色型。

```
>> type-of(100)
"number"
>> type-of(100px)
"number"
>> type-of("asdf")
"string"
>> type-of(asdf)
"string"
>> type-of(true)
"bool"
>> type-of(false)
"bool"
>> type-of(#fff)
"color"
>> type-of(blue)
"color"
>> type-of(1 / 2 = 1)
"string"
```



### unit(`$number`)

返回一个值的单位，复杂的计算时，其能根据运算得到一个“多单位组合”的值，不过只充许**乘、除**运算：

```
>> unit(100)
""
>> unit(100px)
"px"
>> unit(20%)
"%"
>> unit(1em)
"em"
>> unit(10px * 3em)
"em*px"
>> unit(10px / 3em)
"px/em"
>> unit(10px * 2em / 3cm / 1rem)
"em/rem"
```

但加、减碰到不同单位时，unit() 函数将会报错，`除 px 与 cm、mm `运算之外：

```
>> unit(1px + 1cm)
"px"
>> unit(1px - 1cm)
"px"
>> unit(1px + 1mm)
"px"
```

```SCSS
.test11 {
  width: unit(10px * 2em - 3cm / 1rem);
}
// Error: Incompatible units: 'cm/rem' and 'em*px'.
.test11 {
  width: unit(10px * 2em - 1px / 1rem);
}
// Error: Incompatible units: 'px/rem' and 'em*px'.
```

unit() 函数对于单位运算相对来说也没有规律，而且有些单位也无法整合成一个单位，对于我们在 CSS 中运用中并不适合，比如：

```
>> unit(10px * 3em)
"em*px"
>> unit(10px / 3em)
"px/em"
>> unit(10px * 2em / 3cm / 1rem)
"em/rem"
```



### unitless(`$number`)

判断一个值是否带有单位，不带单位返回的值为 true，反之为 false

```
>> unitless(100)
true
>> unitless(100px)
false
>> unitless(100em)
false
>> unitless(100%)
false
>> unitless(1 /2 )
true
>> unitless(1 /2 + 2 )
true
>> unitless(1px /2 + 2 )
false
```



### comparable(`$number-1`, `$number-2`)

判断两个值是否可以做加、减和合并，可以返回的值为 true，反之为 false

```bash
>> comparable(2px, 1px)
true
>> comparable(2px, 1%)
false
>> comparable(2px, 1em)
false
>> comparable(2rem, 1em)
false
>> comparable(2px, 1cm)
true
>> comparable(2px, 1mm)
true
>> comparable(2px, 1rem)
false
>> comparable(2cm, 1mm)
true
```



## Miscellaneous函数

三元条件函数

```scss
if($condition, $if-true, $if-false)
```

```
>> if(true, 1px, 2px)
1px
>> if(false, 1px, 2px)
2px
```